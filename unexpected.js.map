{"version":3,"file":"unexpected.js","sources":["node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","node_modules/@babel/runtime/helpers/iterableToArray.js","node_modules/@babel/runtime/helpers/nonIterableSpread.js","node_modules/@babel/runtime/helpers/toConsumableArray.js","node_modules/@babel/runtime/helpers/typeof.js","build/lib/AssertionString.js","build/lib/createStandardErrorMessage.js","node_modules/greedy-interval-packer/lib/intersection.js","node_modules/greedy-interval-packer/lib/byDescStartAndLength.js","node_modules/greedy-interval-packer/lib/greedyIntervalPacker.js","build/lib/utils.js","node_modules/rollup-plugin-node-globals/src/global.js","node_modules/process-es6/browser.js","node_modules/magicpen/lib/duplicateText.js","node_modules/magicpen/lib/utils.js","node_modules/magicpen/lib/rgbRegexp.js","node_modules/magicpen/lib/cssStyles.js","node_modules/supports-color/index.js","node_modules/magicpen/lib/flattenBlocksInLines.js","node_modules/magicpen/lib/TextSerializer.js","node_modules/magicpen/lib/themeMapper.js","node_modules/magicpen/lib/HtmlSerializer.js","node_modules/color-diff/lib/diff.js","node_modules/color-diff/lib/convert.js","node_modules/color-diff/lib/palette.js","node_modules/color-diff/lib/index.js","node_modules/ansi-styles/index.js","node_modules/magicpen/lib/AnsiSerializer.js","node_modules/magicpen/lib/ColoredConsoleSerializer.js","node_modules/magicpen/lib/MagicPen.js","node_modules/leven/index.js","node_modules/unexpected-bluebird/js/main/es5.js","node_modules/unexpected-bluebird/js/main/util.js","node_modules/unexpected-bluebird/js/main/schedule.js","node_modules/unexpected-bluebird/js/main/queue.js","node_modules/unexpected-bluebird/js/main/async.js","node_modules/unexpected-bluebird/js/main/errors.js","node_modules/unexpected-bluebird/js/main/thenables.js","node_modules/unexpected-bluebird/js/main/promise_array.js","node_modules/unexpected-bluebird/js/main/captured_trace.js","node_modules/unexpected-bluebird/js/main/debuggability.js","node_modules/unexpected-bluebird/js/main/context.js","node_modules/unexpected-bluebird/js/main/catch_filter.js","node_modules/unexpected-bluebird/js/main/promise_resolver.js","node_modules/unexpected-bluebird/js/main/progress.js","node_modules/unexpected-bluebird/js/main/method.js","node_modules/unexpected-bluebird/js/main/bind.js","node_modules/unexpected-bluebird/js/main/finally.js","node_modules/unexpected-bluebird/js/main/direct_resolve.js","node_modules/unexpected-bluebird/js/main/synchronous_inspection.js","node_modules/unexpected-bluebird/js/main/join.js","node_modules/unexpected-bluebird/js/main/map.js","node_modules/unexpected-bluebird/js/main/cancel.js","node_modules/unexpected-bluebird/js/main/using.js","node_modules/unexpected-bluebird/js/main/generators.js","node_modules/unexpected-bluebird/js/main/nodeify.js","node_modules/unexpected-bluebird/js/main/call_get.js","node_modules/unexpected-bluebird/js/main/props.js","node_modules/unexpected-bluebird/js/main/race.js","node_modules/unexpected-bluebird/js/main/reduce.js","node_modules/unexpected-bluebird/js/main/settle.js","node_modules/unexpected-bluebird/js/main/some.js","node_modules/unexpected-bluebird/js/main/promisify.js","node_modules/unexpected-bluebird/js/main/any.js","node_modules/unexpected-bluebird/js/main/each.js","node_modules/unexpected-bluebird/js/main/timers.js","node_modules/unexpected-bluebird/js/main/filter.js","node_modules/unexpected-bluebird/js/main/promise.js","node_modules/unexpected-bluebird/js/main/bluebird.js","build/lib/workQueue.js","build/lib/useFullStackTrace.js","build/lib/oathbreaker.js","build/lib/throwIfNonUnexpectedError.js","build/lib/makePromise.js","build/lib/addAdditionalPromiseMethods.js","build/lib/wrapPromiseIfNecessary.js","build/lib/defaultDepth.js","build/lib/UnexpectedError.js","build/lib/notifyPendingPromise.js","build/lib/nodeJsCustomInspect.js","build/lib/createWrappedExpectProto.js","build/lib/Unexpected.js","node_modules/diff/lib/index.es6.js","build/lib/specialCharRegExp.js","build/lib/styles.js","node_modules/buffer-es6/base64.js","node_modules/buffer-es6/ieee754.js","node_modules/buffer-es6/isArray.js","node_modules/buffer-es6/index.js","node_modules/arraydiff-papandreou/index.js","node_modules/array-changes/lib/arrayChanges.js","node_modules/number-is-nan/index.js","node_modules/is-finite/index.js","node_modules/repeating/index.js","node_modules/detect-indent/index.js","build/lib/types.js","node_modules/arraydiff-async/index.js","node_modules/array-changes-async/lib/arrayChanges.js","build/lib/assertions.js","build/lib/index.js"],"sourcesContent":["function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = function AssertionString(text) {\n  this.text = text;\n};","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar AssertionString = require('./AssertionString');\n\nmodule.exports = function createStandardErrorMessage(output, subject, testDescription, args) {\n  var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var preamble = 'expected';\n  var subjectOutput = output.clone();\n\n  if (subject) {\n    subject.call(subjectOutput, subjectOutput);\n  }\n\n  var argsOutput = output.clone();\n\n  if (typeof args === 'function') {\n    args.call(argsOutput, argsOutput);\n  } else {\n    if (args.length > 0) {\n      var previousWasAssertion = false;\n      args.forEach(function (arg, index) {\n        var isAssertion = arg && _typeof(arg) === 'object' && arg instanceof AssertionString;\n\n        if (index > 0) {\n          if (!isAssertion && !previousWasAssertion) {\n            argsOutput.text(',');\n          }\n\n          argsOutput.sp();\n        }\n\n        if (isAssertion) {\n          argsOutput.error(arg.text);\n        } else {\n          arg.call(argsOutput, argsOutput);\n        }\n\n        previousWasAssertion = isAssertion;\n      });\n    }\n  }\n\n  var subjectSize = subjectOutput.size();\n  var argsSize = argsOutput.size();\n  var width = preamble.length + subjectSize.width + argsSize.width + testDescription.length;\n  var height = Math.max(subjectSize.height, argsSize.height);\n\n  if ('omitSubject' in output && output.omitSubject === options.subject) {\n    var matchTestDescription = /^(not )?to (.*)/.exec(testDescription);\n\n    if (matchTestDescription) {\n      output.error('should ');\n\n      if (matchTestDescription[1]) {\n        output.error('not ');\n      }\n\n      testDescription = matchTestDescription[2];\n    } else {\n      testDescription = \"expected: \".concat(testDescription);\n    }\n  } else if (options.compact && options.compactSubject && (subjectSize.height > 1 || subjectSize.width > (options.compactWidth || 35))) {\n    output.error('expected').sp();\n    options.compactSubject.call(output, output);\n    output.sp();\n  } else {\n    output.error(preamble);\n\n    if (subjectSize.height > 1) {\n      output.nl();\n    } else {\n      output.sp();\n    }\n\n    output.append(subjectOutput);\n\n    if (subjectSize.height > 1 || height === 1 && width > output.preferredWidth) {\n      output.nl();\n    } else {\n      output.sp();\n    }\n  }\n\n  output.error(testDescription);\n\n  if (argsSize.height > 1) {\n    output.nl();\n  } else if (argsSize.width > 0) {\n    output.sp();\n  }\n\n  output.append(argsOutput);\n  return output;\n};","var intersection = {\n    intersects: function intersects(x, y) {\n        return (x.start < y.end && y.start < x.end) || x.start === y.start;\n    },\n\n    intersectsWithSome: function intersectsWithSome(intervals, interval) {\n        function intersectWithInterval(other) {\n            return intersection.intersects(interval, other);\n        }\n        return intervals.some(intersectWithInterval);\n    }\n};\n\nmodule.exports = intersection;\n","module.exports = function (a, b) {\n    var c = b.start - a.start;\n    if (c !== 0) { return c; }\n    return (a.end - a.start) - (b.end - b.start);\n};\n","var intersectsWithSome = require('./intersection').intersectsWithSome;\nvar byDescStartAndLength = require('./byDescStartAndLength');\n\nmodule.exports = function greedyIntervalPacker(intervals, options) {\n    options = options || {};\n\n    if (!Array.isArray(intervals)) {\n        throw new Error('The interval packer requires an array of objects with start and end properties.');\n    }\n\n    if (intervals.length === 0) {\n        return [];\n    }\n\n    intervals.forEach(function (interval) {\n        if (\n            typeof interval !== 'object' ||\n            typeof interval.start !== 'number' ||\n            typeof interval.end !== 'number' ||\n            interval.end <= interval.start\n        ) {\n            throw new Error('Intervals must be objects with integer properties start and end where start < end.');\n        }\n    });\n\n    intervals = [].concat(intervals).sort(byDescStartAndLength);\n\n    var currentPartition;\n    var partitions = [];\n    var currentPartitionEnd = -Infinity;\n\n    while (intervals.length > 0) {\n        var interval = intervals.pop();\n\n        if (currentPartitionEnd <= interval.start) {\n            currentPartition = [[]];\n            partitions.push(currentPartition);\n        }\n\n        var i = 0;\n\n        while (\n            i < currentPartition.length &&\n            intersectsWithSome(currentPartition[i], interval)\n        ) {\n            i += 1;\n        }\n        (currentPartition[i] = currentPartition[i] || []).push(interval);\n        currentPartitionEnd = Math.max(currentPartitionEnd, interval.end);\n    }\n\n    if (!options.groupPartitions) {\n        return partitions.reduce(function (result, partition) {\n            partition.forEach(function (partitionGroup, i) {\n                result[i] = result[i] || [];\n                Array.prototype.push.apply(result[i], partitionGroup);\n                return result;\n            });\n            return result;\n        }, []);\n    } else {\n        return partitions;\n    }\n};\n","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n/* eslint-disable no-proto */\nvar canSetPrototype = Object.setPrototypeOf || {\n  __proto__: []\n} instanceof Array;\n\nvar greedyIntervalPacker = require('greedy-interval-packer');\n\nvar setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(obj, proto) {\n  obj.__proto__ = proto;\n  return obj;\n};\n/* eslint-enable no-proto */\n\n\nvar utils = module.exports = {\n  objectIs: Object.is || function (a, b) {\n    // Polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n    if (a === 0 && b === 0) {\n      return 1 / a === 1 / b;\n    } // eslint-disable-next-line no-self-compare\n\n\n    if (a !== a) {\n      // eslint-disable-next-line no-self-compare\n      return b !== b;\n    }\n\n    return a === b;\n  },\n  checkObjectEqualityUsingType: function checkObjectEqualityUsingType(a, b, type, isEqual) {\n    if (a === b) {\n      return true;\n    }\n\n    if (b.constructor !== a.constructor) {\n      return false;\n    }\n\n    var actualKeys = type.getKeys(a).filter(function (key) {\n      return typeof type.valueForKey(a, key) !== 'undefined';\n    });\n    var expectedKeys = type.getKeys(b).filter(function (key) {\n      return typeof type.valueForKey(b, key) !== 'undefined';\n    }); // having the same number of owned properties (keys incorporates hasOwnProperty)\n\n    if (actualKeys.length !== expectedKeys.length) {\n      return false;\n    } // the same set of keys (although not necessarily the same order),\n\n\n    actualKeys.sort(type.keyComparator);\n    expectedKeys.sort(type.keyComparator); // cheap key test\n\n    for (var i = 0; i < actualKeys.length; i += 1) {\n      if (actualKeys[i] !== expectedKeys[i]) {\n        return false;\n      }\n    } // equivalent values for every corresponding key, and\n    // possibly expensive deep test\n\n\n    for (var j = 0; j < actualKeys.length; j += 1) {\n      var key = actualKeys[j];\n\n      if (!isEqual(type.valueForKey(a, key), type.valueForKey(b, key))) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n  duplicateArrayLikeUsingType: function duplicateArrayLikeUsingType(obj, type) {\n    var keys = type.getKeys(obj);\n    var numericalKeyLength = keys.length;\n\n    if (!type.numericalPropertiesOnly) {\n      var nonNumericalKeyLength = 0; // find non-numerical keys in reverse order to keep iteration minimal\n\n      for (var i = keys.length - 1; i > -1; i -= 1) {\n        var key = keys[i];\n\n        if (_typeof(key) === 'symbol' || !utils.numericalRegExp.test(key)) {\n          nonNumericalKeyLength += 1;\n        } else {\n          break;\n        }\n      } // remove non-numerical keys to ensure the copy is sized correctly\n\n\n      numericalKeyLength -= nonNumericalKeyLength;\n    }\n\n    var arr = new Array(numericalKeyLength);\n    keys.forEach(function (key, index) {\n      var isNonNumericKey = index >= numericalKeyLength;\n\n      if (isNonNumericKey && !type.hasKey(obj, key)) {\n        // do not add non-numerical keys that are not actually attached\n        // to the array-like to ensure they will be treated as \"missing\"\n        return;\n      }\n\n      arr[key] = type.hasKey(obj, key) ? type.valueForKey(obj, key) : undefined;\n    });\n    return arr;\n  },\n  isArray: function isArray(ar) {\n    return Object.prototype.toString.call(ar) === '[object Array]';\n  },\n  isPromise: function isPromise(obj) {\n    return obj && typeof obj.then === 'function';\n  },\n  isRegExp: function isRegExp(re) {\n    return Object.prototype.toString.call(re) === '[object RegExp]';\n  },\n  isError: function isError(err) {\n    return _typeof(err) === 'object' && (Object.prototype.toString.call(err) === '[object Error]' || err instanceof Error);\n  },\n  extend: function extend(target) {\n    var _arguments = arguments;\n\n    var _loop = function _loop(i) {\n      var source = _arguments[i];\n\n      if (source) {\n        Object.keys(source).forEach(function (key) {\n          target[key] = source[key];\n        });\n      }\n    };\n\n    for (var i = 1; i < arguments.length; i += 1) {\n      _loop(i);\n    }\n\n    return target;\n  },\n  findFirst: function findFirst(arr, predicate) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (predicate(arr[i])) {\n        return arr[i];\n      }\n    }\n\n    return null;\n  },\n  leftPad: function leftPad(str, width) {\n    var ch = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ' ';\n\n    while (str.length < width) {\n      str = ch + str;\n    }\n\n    return str;\n  },\n  escapeRegExpMetaChars: function escapeRegExpMetaChars(str) {\n    return str.replace(/[[\\]{}()*+?.\\\\^$|]/g, '\\\\$&');\n  },\n  escapeChar: function escapeChar(ch) {\n    if (ch === '\\t') {\n      return '\\\\t';\n    } else if (ch === '\\r') {\n      return '\\\\r';\n    } else {\n      var charCode = ch.charCodeAt(0);\n      var hexChars = charCode.toString(16).toUpperCase();\n\n      if (charCode < 256) {\n        return \"\\\\x\".concat(utils.leftPad(hexChars, 2, '0'));\n      } else {\n        return \"\\\\u\".concat(utils.leftPad(hexChars, 4, '0'));\n      }\n    }\n  },\n  getFunctionName: function getFunctionName(f) {\n    if (typeof f.name === 'string') {\n      return f.name;\n    }\n\n    var matchFunctionName = Function.prototype.toString.call(f).match(/function ([^(]+)/);\n\n    if (matchFunctionName) {\n      return matchFunctionName[1];\n    }\n\n    if (f === Object) {\n      return 'Object';\n    }\n\n    if (f === Function) {\n      return 'Function';\n    }\n\n    return '';\n  },\n  wrapConstructorNameAroundOutput: function wrapConstructorNameAroundOutput(output, obj) {\n    var constructor = obj.constructor;\n    var constructorName = constructor && constructor !== Object && utils.getFunctionName(constructor);\n\n    if (constructorName && constructorName !== 'Object') {\n      return output.clone().text(\"\".concat(constructorName, \"(\")).append(output).text(')');\n    } else {\n      return output;\n    }\n  },\n  setPrototypeOfOrExtend: canSetPrototype ? setPrototypeOf : function extend(target, source) {\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        target[prop] = source[prop];\n      }\n    }\n\n    return target;\n  },\n  uniqueStringsAndSymbols: function uniqueStringsAndSymbols() {\n    // [filterFn], item1, item2...\n    var filterFn;\n\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'function') {\n      filterFn = arguments.length <= 0 ? undefined : arguments[0];\n    }\n\n    var index = {};\n    var uniqueStringsAndSymbols = [];\n\n    function visit(item) {\n      if (Array.isArray(item)) {\n        item.forEach(visit);\n      } else if (!Object.prototype.hasOwnProperty.call(index, item) && (!filterFn || filterFn(item))) {\n        index[item] = true;\n        uniqueStringsAndSymbols.push(item);\n      }\n    }\n\n    for (var i = filterFn ? 1 : 0; i < arguments.length; i += 1) {\n      visit(i < 0 || arguments.length <= i ? undefined : arguments[i]);\n    }\n\n    return uniqueStringsAndSymbols;\n  },\n  uniqueNonNumericalStringsAndSymbols: function uniqueNonNumericalStringsAndSymbols() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // ...\n    return utils.uniqueStringsAndSymbols(function (stringOrSymbol) {\n      return _typeof(stringOrSymbol) === 'symbol' || !utils.numericalRegExp.test(stringOrSymbol);\n    }, Array.prototype.slice.call(args));\n  },\n  forwardFlags: function forwardFlags(testDescriptionString, flags) {\n    return testDescriptionString.replace(/\\[(!?)([^\\]]+)\\] ?/g, function (match, negate, flag) {\n      return Boolean(flags[flag]) !== Boolean(negate) ? \"\".concat(flag, \" \") : '';\n    }).trim();\n  },\n  numericalRegExp: /^(?:0|[1-9][0-9]*)$/,\n  packArrows: function packArrows(changes) {\n    var moveSourceAndTargetByActualIndex = {};\n    changes.forEach(function (diffItem, index) {\n      if (diffItem.type === 'moveSource') {\n        diffItem.changeIndex = index;\n        (moveSourceAndTargetByActualIndex[diffItem.actualIndex] = moveSourceAndTargetByActualIndex[diffItem.actualIndex] || {}).source = diffItem;\n      } else if (diffItem.type === 'moveTarget') {\n        diffItem.changeIndex = index;\n        (moveSourceAndTargetByActualIndex[diffItem.actualIndex] = moveSourceAndTargetByActualIndex[diffItem.actualIndex] || {}).target = diffItem;\n      }\n    });\n    var moveIndices = Object.keys(moveSourceAndTargetByActualIndex);\n\n    if (moveIndices.length > 0) {\n      var arrowSpecs = [];\n      moveIndices.sort(function (a, b // Order by distance between change indices descending\n      ) {\n        return Math.abs(moveSourceAndTargetByActualIndex[b].source.changeIndex - moveSourceAndTargetByActualIndex[b].target.changeIndex) - Math.abs(moveSourceAndTargetByActualIndex[a].source.changeIndex - moveSourceAndTargetByActualIndex[a].target.changeIndex);\n      }).forEach(function (actualIndex, i, keys) {\n        var moveSourceAndMoveTarget = moveSourceAndTargetByActualIndex[actualIndex];\n        var firstChangeIndex = Math.min(moveSourceAndMoveTarget.source.changeIndex, moveSourceAndMoveTarget.target.changeIndex);\n        var lastChangeIndex = Math.max(moveSourceAndMoveTarget.source.changeIndex, moveSourceAndMoveTarget.target.changeIndex);\n        arrowSpecs.push({\n          start: firstChangeIndex,\n          end: lastChangeIndex,\n          direction: moveSourceAndMoveTarget.source.changeIndex < moveSourceAndMoveTarget.target.changeIndex ? 'down' : 'up'\n        });\n      });\n      var packing = greedyIntervalPacker(arrowSpecs);\n\n      while (packing.length > 3) {\n        // The arrow packing takes up too many lanes. Turn the moveSource/moveTarget items into inserts and removes\n        packing.shift().forEach(function (_ref) {\n          var direction = _ref.direction,\n              start = _ref.start,\n              end = _ref.end;\n          changes[direction === 'up' ? start : end].type = 'insert';\n          changes[direction === 'up' ? end : start].type = 'remove';\n        });\n      }\n\n      return packing;\n    }\n  },\n  truncateSubjectStringForBegin: function truncateSubjectStringForBegin(subject, value) {\n    var contextLength = value.length + 25;\n\n    if (subject.length <= contextLength) {\n      return null;\n    }\n\n    var truncationIndex = subject.indexOf(' ', value.length + 1);\n\n    if (truncationIndex > -1 && truncationIndex < contextLength) {\n      return subject.substring(0, truncationIndex);\n    } else {\n      return subject.substring(0, contextLength);\n    }\n  },\n  truncateSubjectStringForEnd: function truncateSubjectStringForEnd(subject, value) {\n    var contextLength = subject.length - value.length - 25;\n\n    if (contextLength <= 0) {\n      return null;\n    }\n\n    var truncationIndex = subject.lastIndexOf(' ', value.length + 1);\n\n    if (truncationIndex > -1 && truncationIndex >= contextLength) {\n      return subject.substring(truncationIndex + 1, subject.length);\n    } else {\n      return subject.substring(contextLength, subject.length);\n    }\n  }\n};","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","var whitespaceCacheLength = 256;\nvar whitespaceCache = [''];\nfor (var i = 1; i <= whitespaceCacheLength; i += 1) {\n    whitespaceCache[i] = whitespaceCache[i - 1] + ' ';\n}\n\nfunction duplicateText(content, times) {\n    if (times < 0) {\n        return '';\n    }\n\n    var result = '';\n\n    if (content === ' ') {\n        if (times <= whitespaceCacheLength) {\n            return whitespaceCache[times];\n        }\n\n        var segment = whitespaceCache[whitespaceCacheLength];\n        var numberOfSegments = Math.floor(times / whitespaceCacheLength);\n        for (var i = 0; i < numberOfSegments; i += 1) {\n            result += segment;\n        }\n        result += whitespaceCache[times % whitespaceCacheLength];\n    } else {\n        for (var j = 0; j < times; j += 1) {\n            result += content;\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = duplicateText;\n","var utils = {\n    extend: function (target) {\n        for (var i = 1; i < arguments.length; i += 1) {\n            var source = arguments[i];\n            Object.keys(source).forEach(function (key) {\n                target[key] = source[key];\n            });\n        }\n        return target;\n    },\n\n    calculateOutputEntrySize: function (outputEntry) {\n        if (outputEntry.size) {\n            return outputEntry.size;\n        }\n\n        var size;\n        switch (outputEntry.style) {\n        case 'text':\n            size = { width: String(outputEntry.args.content).length, height: 1 };\n            break;\n        case 'block':\n            size = utils.calculateSize(outputEntry.args);\n            break;\n        case 'raw':\n            var arg = outputEntry.args;\n            size = { width: arg.width, height: arg.height };\n            break;\n        default: size = { width: 0, height: 0 };\n        }\n\n        outputEntry.size = size;\n        return size;\n    },\n\n    calculateLineSize: function (line) {\n        var size = { height: 1, width: 0 };\n        line.forEach(function (outputEntry) {\n            var outputEntrySize = utils.calculateOutputEntrySize(outputEntry);\n            size.width += outputEntrySize.width;\n            size.height = Math.max(outputEntrySize.height, size.height);\n        });\n        return size;\n    },\n\n    calculateSize: function (lines) {\n        var size = { height: 0, width: 0 };\n        lines.forEach(function (line) {\n            var lineSize = utils.calculateLineSize(line);\n            size.height += lineSize.height;\n            size.width = Math.max(size.width, lineSize.width);\n        });\n        return size;\n    },\n\n    arrayEquals: function (a, b) {\n        if (a === b) {\n            return true;\n        }\n\n        if (!a || a.length !== b.length) {\n            return false;\n        }\n\n        for (var i = 0; i < a.length; i += 1) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n\n        return true;\n\n    },\n\n    escapeRegExp: function (text){\n        return text.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    },\n\n    findFirst: function (arr, predicate, thisObj) {\n        var scope = thisObj || null;\n        for (var i = 0 ; i < arr.length ; i += 1) {\n            if (predicate.call(scope, arr[i], i, arr)) {\n                return arr[i];\n            }\n        }\n        return null;\n    },\n\n    getFunctionName: function (f) {\n        if (typeof f.name === 'string') {\n            return f.name;\n        }\n        var matchFunctionName = Function.prototype.toString.call(f).match(/function ([^\\(]+)/);\n        if (matchFunctionName) {\n            return matchFunctionName[1];\n        }\n\n        if (f === Object) {\n            return 'Object';\n        }\n        if (f === Function) {\n            return 'Function';\n        }\n    }\n};\n\nmodule.exports = utils;\n","module.exports =  /^(?:bg)?#(?:[0-9a-f]{3}|[0-9a-f]{6})$/i;\n","var cssStyles = {\n    bold: 'font-weight: bold',\n    dim: 'opacity: 0.7',\n    italic: 'font-style: italic',\n    underline: 'text-decoration: underline',\n    inverse: '-webkit-filter: invert(%100); filter: invert(100%)',\n    hidden: 'visibility: hidden',\n    strikeThrough: 'text-decoration: line-through',\n\n    black: 'color: black',\n    red: 'color: red',\n    green: 'color: green',\n    yellow: 'color: yellow',\n    blue: 'color: blue',\n    magenta: 'color: magenta',\n    cyan: 'color: cyan',\n    white: 'color: white',\n    gray: 'color: gray',\n\n    bgBlack: 'background-color: black',\n    bgRed: 'background-color: red',\n    bgGreen: 'background-color: green',\n    bgYellow: 'background-color: yellow',\n    bgBlue: 'background-color: blue',\n    bgMagenta: 'background-color: magenta',\n    bgCyan: 'background-color: cyan',\n    bgWhite: 'background-color: white'\n};\n\nObject.keys(cssStyles).forEach(function (styleName) {\n    cssStyles[styleName.toLowerCase()] = cssStyles[styleName];\n});\n\nmodule.exports = cssStyles;\n","'use strict';\nvar argv = process.argv;\n\nmodule.exports = (function () {\n\tif (argv.indexOf('--no-color') !== -1 ||\n\t\targv.indexOf('--no-colors') !== -1 ||\n\t\targv.indexOf('--color=false') !== -1) {\n\t\treturn false;\n\t}\n\n\tif (argv.indexOf('--color') !== -1 ||\n\t\targv.indexOf('--colors') !== -1 ||\n\t\targv.indexOf('--color=true') !== -1 ||\n\t\targv.indexOf('--color=always') !== -1) {\n\t\treturn true;\n\t}\n\n\tif (process.stdout && !process.stdout.isTTY) {\n\t\treturn false;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn true;\n\t}\n\n\tif ('COLORTERM' in process.env) {\n\t\treturn true;\n\t}\n\n\tif (process.env.TERM === 'dumb') {\n\t\treturn false;\n\t}\n\n\tif (/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)) {\n\t\treturn true;\n\t}\n\n\treturn false;\n})();\n","var utils = require('./utils');\nvar duplicateText = require('./duplicateText');\n\nfunction createPadding(length) {\n    return { style: 'text', args: { content: duplicateText(' ', length), styles: [] } };\n}\n\nfunction lineContainsBlocks(line) {\n    return line.some(function (outputEntry) {\n        return outputEntry.style === 'block' ||\n            (outputEntry.style === 'text' && String(outputEntry.args.content).indexOf('\\n') !== -1);\n    });\n}\n\nfunction flattenBlocksInOutputEntry(outputEntry) {\n    switch (outputEntry.style) {\n    case 'text': return String(outputEntry.args.content).split('\\n').map(function (line) {\n        if (line === '') {\n            return [];\n        }\n\n        var args = { content: line, styles: outputEntry.args.styles };\n        return [{ style: 'text', args: args }];\n    });\n    case 'block': return flattenBlocksInLines(outputEntry.args);\n    default: return [];\n    }\n}\n\nfunction flattenBlocksInLine(line) {\n    if (line.length === 0) {\n       return [[]];\n    }\n\n    if (!lineContainsBlocks(line)) {\n        return [line];\n    }\n\n    var result = [];\n    var linesLengths = [];\n\n    var startIndex = 0;\n    line.forEach(function (outputEntry, blockIndex) {\n        var blockLines = flattenBlocksInOutputEntry(outputEntry);\n\n        var blockLinesLengths = blockLines.map(function (line) {\n            return utils.calculateLineSize(line).width;\n        });\n\n        var longestLineLength = Math.max.apply(null, blockLinesLengths);\n\n        blockLines.forEach(function (blockLine, index) {\n            var resultLine = result[index];\n\n            if (!resultLine) {\n                result[index] = resultLine = [];\n                linesLengths[index] = 0;\n            }\n\n            if (blockLine.length) {\n                var paddingLength = startIndex - linesLengths[index];\n                resultLine.push(createPadding(paddingLength));\n                Array.prototype.push.apply(resultLine, blockLine);\n                linesLengths[index] = startIndex + blockLinesLengths[index];\n            }\n        });\n\n        startIndex += longestLineLength;\n    }, this);\n    return result;\n}\n\nfunction flattenBlocksInLines(lines) {\n    var result = [];\n    lines.forEach(function (line) {\n        flattenBlocksInLine(line).forEach(function (line) {\n            result.push(line);\n        });\n    });\n    return result;\n}\n\nmodule.exports = flattenBlocksInLines;\n","var flattenBlocksInLines = require('./flattenBlocksInLines');\n\nfunction TextSerializer() {}\n\nTextSerializer.prototype.format = 'text';\n\nTextSerializer.prototype.serialize = function (lines) {\n    lines = flattenBlocksInLines(lines);\n    return lines.map(this.serializeLine, this).join('\\n');\n};\n\nTextSerializer.prototype.serializeLine = function (line) {\n    return line.map(function (outputEntry) {\n        return this[outputEntry.style] ?\n            String(this[outputEntry.style](outputEntry.args)) :\n            '';\n    }, this).join('');\n};\n\nTextSerializer.prototype.text = function (options) {\n    return String(options.content);\n};\n\nTextSerializer.prototype.block = function (content) {\n    return this.serialize(content);\n};\n\nTextSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\n\nmodule.exports = TextSerializer;\n","module.exports = function (theme, styles) {\n    if (styles.length === 1) {\n        var count = 0;\n        var stack = [];\n        var themeMapping = styles[0];\n        var themeStyles = theme.styles || {};\n        while(typeof themeMapping === 'string' && themeStyles[themeMapping]) {\n            themeMapping = themeStyles[themeMapping];\n            count += 1;\n            if (100 < count) {\n                var index = stack.indexOf(themeMapping);\n                stack.push(themeMapping);\n                if (index !== -1) {\n                    throw new Error('Your theme contains a loop: ' + stack.slice(index).join(' -> '));\n                }\n            }\n        }\n\n        return Array.isArray(themeMapping) ? themeMapping : [themeMapping];\n    }\n\n    return styles;\n};\n","var cssStyles = require('./cssStyles');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nfunction HtmlSerializer(theme) {\n    this.theme = theme;\n}\n\nHtmlSerializer.prototype.format = 'html';\n\nHtmlSerializer.prototype.serialize = function (lines) {\n    return '<div style=\"font-family: monospace; white-space: nowrap\">' + this.serializeLines(lines) + '</div>';\n};\n\nHtmlSerializer.prototype.serializeLines = function (lines) {\n    return lines.map(function (line) {\n        return '<div>' + (this.serializeLine(line).join('') || '&nbsp;') + '</div>';\n    }, this).join('');\n};\n\nHtmlSerializer.prototype.serializeLine = function (line) {\n    return line.map(function (outputEntry) {\n        return this[outputEntry.style] ?\n            this[outputEntry.style](outputEntry.args) :\n            '';\n    }, this);\n};\n\nHtmlSerializer.prototype.block = function (content) {\n    return '<div style=\"display: inline-block; vertical-align: top\">' +\n        this.serializeLines(content) +\n        '</div>';\n};\n\nHtmlSerializer.prototype.text = function (options) {\n    var content = String(options.content);\n\n    if (content === '') {\n        return '';\n    }\n\n    content = content\n        .replace(/&/g, '&amp;')\n        .replace(/ /g, '&nbsp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n\n\n    var styles = themeMapper(this.theme, options.styles);\n\n    if (styles.length > 0) {\n        var styleProperties = [];\n        for (var j = 0; j < styles.length; j += 1) {\n            var styleName = styles[j];\n            if (rgbRegexp.test(styleName)) {\n                if (styleName.substring(0, 2) === 'bg') {\n                    styleProperties.push('background-color: ' + styleName.substring(2));\n                } else {\n                    styleProperties.push('color: ' + styleName);\n                }\n            } else if (cssStyles[styleName]) {\n                styleProperties.push(cssStyles[styleName]);\n            }\n\n        }\n\n        if (styleProperties.length > 0) {\n            content = '<span style=\"' + styleProperties.join('; ') + '\">' + content + '</span>';\n        }\n    }\n    return content;\n};\n\nHtmlSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\nmodule.exports = HtmlSerializer;\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.ciede2000 = ciede2000;\n\n/**\n* IMPORTS\n*/\nvar sqrt = Math.sqrt;\nvar pow = Math.pow;\nvar cos = Math.cos;\nvar atan2 = Math.atan2;\nvar sin = Math.sin;\nvar abs = Math.abs;\nvar exp = Math.exp;\nvar PI = Math.PI;\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns diff between c1 and c2 using the CIEDE2000 algorithm\n* @param {labcolor} c1    Should have fields L,a,b\n* @param {labcolor} c2    Should have fields L,a,b\n* @return {float}   Difference between c1 and c2\n*/\nfunction ciede2000(c1,c2)\n{\n  /**\n   * Implemented as in \"The CIEDE2000 Color-Difference Formula:\n   * Implementation Notes, Supplementary Test Data, and Mathematical Observations\"\n   * by Gaurav Sharma, Wencheng Wu and Edul N. Dalal.\n   */\n\n  // Get L,a,b values for color 1\n  var L1 = c1.L;\n  var a1 = c1.a;\n  var b1 = c1.b;\n\n  // Get L,a,b values for color 2\n  var L2 = c2.L;\n  var a2 = c2.a;\n  var b2 = c2.b;\n\n  // Weight factors\n  var kL = 1;\n  var kC = 1;\n  var kH = 1;\n\n  /**\n   * Step 1: Calculate C1p, C2p, h1p, h2p\n   */\n  var C1 = sqrt(pow(a1, 2) + pow(b1, 2)) //(2)\n  var C2 = sqrt(pow(a2, 2) + pow(b2, 2)) //(2)\n\n  var a_C1_C2 = (C1+C2)/2.0;             //(3)\n\n  var G = 0.5 * (1 - sqrt(pow(a_C1_C2 , 7.0) /\n                          (pow(a_C1_C2, 7.0) + pow(25.0, 7.0)))); //(4)\n\n  var a1p = (1.0 + G) * a1; //(5)\n  var a2p = (1.0 + G) * a2; //(5)\n\n  var C1p = sqrt(pow(a1p, 2) + pow(b1, 2)); //(6)\n  var C2p = sqrt(pow(a2p, 2) + pow(b2, 2)); //(6)\n\n  var hp_f = function(x,y) //(7)\n  {\n    if(x== 0 && y == 0) return 0;\n    else{\n      var tmphp = degrees(atan2(x,y));\n      if(tmphp >= 0) return tmphp\n      else           return tmphp + 360;\n    }\n  }\n\n  var h1p = hp_f(b1, a1p); //(7)\n  var h2p = hp_f(b2, a2p); //(7)\n\n  /**\n   * Step 2: Calculate dLp, dCp, dHp\n   */\n  var dLp = L2 - L1; //(8)\n  var dCp = C2p - C1p; //(9)\n\n  var dhp_f = function(C1, C2, h1p, h2p) //(10)\n  {\n    if(C1*C2 == 0)               return 0;\n    else if(abs(h2p-h1p) <= 180) return h2p-h1p;\n    else if((h2p-h1p) > 180)     return (h2p-h1p)-360;\n    else if((h2p-h1p) < -180)    return (h2p-h1p)+360;\n    else                         throw(new Error());\n  }\n  var dhp = dhp_f(C1,C2, h1p, h2p); //(10)\n  var dHp = 2*sqrt(C1p*C2p)*sin(radians(dhp)/2.0); //(11)\n\n  /**\n   * Step 3: Calculate CIEDE2000 Color-Difference\n   */\n  var a_L = (L1 + L2) / 2.0; //(12)\n  var a_Cp = (C1p + C2p) / 2.0; //(13)\n\n  var a_hp_f = function(C1, C2, h1p, h2p) { //(14)\n    if(C1*C2 == 0)                                      return h1p+h2p\n    else if(abs(h1p-h2p)<= 180)                         return (h1p+h2p)/2.0;\n    else if((abs(h1p-h2p) > 180) && ((h1p+h2p) < 360))  return (h1p+h2p+360)/2.0;\n    else if((abs(h1p-h2p) > 180) && ((h1p+h2p) >= 360)) return (h1p+h2p-360)/2.0;\n    else                                                throw(new Error());\n  }\n  var a_hp = a_hp_f(C1,C2,h1p,h2p); //(14)\n  var T = 1-0.17*cos(radians(a_hp-30))+0.24*cos(radians(2*a_hp))+\n    0.32*cos(radians(3*a_hp+6))-0.20*cos(radians(4*a_hp-63)); //(15)\n  var d_ro = 30 * exp(-(pow((a_hp-275)/25,2))); //(16)\n  var RC = sqrt((pow(a_Cp, 7.0)) / (pow(a_Cp, 7.0) + pow(25.0, 7.0)));//(17)\n  var SL = 1 + ((0.015 * pow(a_L - 50, 2)) /\n                sqrt(20 + pow(a_L - 50, 2.0)));//(18)\n  var SC = 1 + 0.045 * a_Cp;//(19)\n  var SH = 1 + 0.015 * a_Cp * T;//(20)\n  var RT = -2 * RC * sin(radians(2 * d_ro));//(21)\n  var dE = sqrt(pow(dLp /(SL * kL), 2) + pow(dCp /(SC * kC), 2) +\n                pow(dHp /(SH * kH), 2) + RT * (dCp /(SC * kC)) *\n                (dHp / (SH * kH))); //(22)\n  return dE;\n}\n\n/**\n * INTERNAL FUNCTIONS\n */\nfunction degrees(n) { return n*(180/PI); }\nfunction radians(n) { return n*(PI/180); }\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.rgb_to_lab = rgb_to_lab;\n\n/**\n* IMPORTS\n*/\nvar pow  = Math.pow;\nvar sqrt = Math.sqrt;\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns c converted to labcolor.\n* @param {rgbcolor} c should have fields R,G,B\n* @return {labcolor} c converted to labcolor\n*/\nfunction rgb_to_lab(c)\n{\n  return xyz_to_lab(rgb_to_xyz(c))\n}\n\n/**\n* Returns c converted to xyzcolor.\n* @param {rgbcolor} c should have fields R,G,B\n* @return {xyzcolor} c converted to xyzcolor\n*/\nfunction rgb_to_xyz(c)\n{\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=02\n  var R = ( c.R / 255 );\n  var G = ( c.G / 255 );\n  var B = ( c.B / 255 );\n\n  if ( R > 0.04045 ) R = pow(( ( R + 0.055 ) / 1.055 ),2.4);\n  else               R = R / 12.92;\n  if ( G > 0.04045 ) G = pow(( ( G + 0.055 ) / 1.055 ),2.4);\n  else               G = G / 12.92;\n  if ( B > 0.04045 ) B = pow(( ( B + 0.055 ) / 1.055 ), 2.4);\n  else               B = B / 12.92;\n\n  R *= 100;\n  G *= 100;\n  B *= 100;\n\n  // Observer. = 2°, Illuminant = D65\n  var X = R * 0.4124 + G * 0.3576 + B * 0.1805;\n  var Y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n  var Z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n  return {'X' : X, 'Y' : Y, 'Z' : Z};\n}\n\n/**\n* Returns c converted to labcolor.\n* @param {xyzcolor} c should have fields X,Y,Z\n* @return {labcolor} c converted to labcolor\n*/\nfunction xyz_to_lab(c)\n{\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=07\n  var ref_Y = 100.000;\n  var ref_Z = 108.883;\n  var ref_X = 95.047; // Observer= 2°, Illuminant= D65\n  var Y = c.Y / ref_Y;\n  var Z = c.Z / ref_Z;\n  var X = c.X / ref_X;\n  if ( X > 0.008856 ) X = pow(X, 1/3);\n  else                X = ( 7.787 * X ) + ( 16 / 116 );\n  if ( Y > 0.008856 ) Y = pow(Y, 1/3);\n  else                Y = ( 7.787 * Y ) + ( 16 / 116 );\n  if ( Z > 0.008856 ) Z = pow(Z, 1/3);\n  else                Z = ( 7.787 * Z ) + ( 16 / 116 );\n  var L = ( 116 * Y ) - 16;\n  var a = 500 * ( X - Y );\n  var b = 200 * ( Y - Z );\n  return {'L' : L , 'a' : a, 'b' : b};\n}\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.map_palette     = map_palette;\nexports.palette_map_key = palette_map_key;\n\n/**\n* IMPORTS\n*/\nvar color_diff    = require('./diff');\nvar color_convert = require('./convert');\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns the hash key used for a {rgbcolor} in a {palettemap}\n* @param {rgbcolor} c should have fields R,G,B\n* @return {string}\n*/\nfunction palette_map_key(c)\n{\n  return \"R\" + c.R + \"B\" + c.B + \"G\" + c.G;\n}\n\n/**\n* Returns a mapping from each color in a to the closest color in b\n* @param [{rgbcolor}] a each element should have fields R,G,B\n* @param [{rgbcolor}] b each element should have fields R,G,B\n* @param 'type' should be the string 'closest' or 'furthest'\n* @return {palettemap}\n*/\nfunction map_palette(a, b, type)\n{\n  var c = {};\n  type = type || 'closest';\n  for (var idx1 = 0; idx1 < a.length; idx1 += 1){\n    var color1 = a[idx1];\n    var best_color      = undefined;\n    var best_color_diff = undefined;\n    for (var idx2 = 0; idx2 < b.length; idx2 += 1)\n    {\n      var color2 = b[idx2];\n      var current_color_diff = diff(color1,color2);\n\n      if((best_color == undefined) || ((type === 'closest') && (current_color_diff < best_color_diff)))\n      {\n        best_color      = color2;\n        best_color_diff = current_color_diff;\n        continue;\n      }\n      if((type === 'furthest') && (current_color_diff > best_color_diff))\n      {\n        best_color      = color2;\n        best_color_diff = current_color_diff;\n        continue;\n      }\n    }\n    c[palette_map_key(color1)] = best_color;\n  }\n  return c;\n}\n\n/**\n * INTERNAL FUNCTIONS\n */\n\nfunction diff(c1,c2)\n{\n  c1 = color_convert.rgb_to_lab(c1);\n  c2 = color_convert.rgb_to_lab(c2);\n  return color_diff.ciede2000(c1,c2);\n}\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","'use strict';\n\nvar diff = require('./diff');\nvar convert = require('./convert');\nvar palette = require('./palette');\n\nvar color = module.exports = {};\n\ncolor.diff             = diff.ciede2000;\ncolor.rgb_to_lab       = convert.rgb_to_lab;\ncolor.map_palette      = palette.map_palette;\ncolor.palette_map_key  = palette.palette_map_key;\n\ncolor.closest = function(target, relative) {\n    var key = color.palette_map_key(target);\n\n    var result = color.map_palette([target], relative, 'closest');\n\n    return result[key];\n};\n\ncolor.furthest = function(target, relative) {\n    var key = color.palette_map_key(target);\n\n    var result = color.map_palette([target], relative, 'furthest');\n\n    return result[key];\n};\n","'use strict';\n\nvar styles = module.exports = {\n\tmodifiers: {\n\t\treset: [0, 0],\n\t\tbold: [1, 22], // 21 isn't widely supported and 22 does the same thing\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29]\n\t},\n\tcolors: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\t\tgray: [90, 39]\n\t},\n\tbgColors: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49]\n\t}\n};\n\n// fix humans\nstyles.colors.grey = styles.colors.gray;\n\nObject.keys(styles).forEach(function (groupName) {\n\tvar group = styles[groupName];\n\n\tObject.keys(group).forEach(function (styleName) {\n\t\tvar style = group[styleName];\n\n\t\tstyles[styleName] = group[styleName] = {\n\t\t\topen: '\\u001b[' + style[0] + 'm',\n\t\t\tclose: '\\u001b[' + style[1] + 'm'\n\t\t};\n\t});\n\n\tObject.defineProperty(styles, groupName, {\n\t\tvalue: group,\n\t\tenumerable: false\n\t});\n});\n","var utils = require('./utils');\nvar TextSerializer = require('./TextSerializer');\nvar colorDiff = require('color-diff');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nvar cacheSize = 0;\nvar maxColorCacheSize = 1024;\n\nvar ansiStyles = utils.extend({}, require('ansi-styles'));\nObject.keys(ansiStyles).forEach(function (styleName) {\n    ansiStyles[styleName.toLowerCase()] = ansiStyles[styleName];\n});\n\nfunction AnsiSerializer(theme) {\n    this.theme = theme;\n}\n\nAnsiSerializer.prototype = new TextSerializer();\n\nAnsiSerializer.prototype.format = 'ansi';\n\nvar colorPalettes = {\n    16: {\n        '#000000': 'black',\n        '#ff0000': 'red',\n        '#00ff00': 'green',\n        '#ffff00': 'yellow',\n        '#0000ff': 'blue',\n        '#ff00ff': 'magenta',\n        '#00ffff': 'cyan',\n        '#ffffff': 'white',\n        '#808080': 'gray'\n    },\n    256: {}\n};\n\nvar diffPalettes = {};\n\nfunction convertColorToObject(color) {\n    if (color.length < 6) {\n        // Allow CSS shorthand\n        color = color.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i, '$1$1$2$2$3$3');\n    }\n    // Split color into red, green, and blue components\n    var hexMatch = color.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);\n    if (hexMatch) {\n        return {\n            R: parseInt(hexMatch[1], 16),\n            G: parseInt(hexMatch[2], 16),\n            B: parseInt(hexMatch[3], 16)\n        };\n    }\n}\n\nfunction toHexColor(colorObject) {\n    var hexString = (Math.round(colorObject.R) * 0x10000 + Math.round(colorObject.G) * 0x100 + Math.round(colorObject.B)).toString(16);\n    return '#' + ('00000'.substr(0, 6 - hexString.length)) + hexString;\n}\n\nfunction firstUp(text) {\n    return text.substring(0, 1).toUpperCase() + text.substring(1);\n}\n\ndiffPalettes[16] = Object.keys(colorPalettes[16]).map(convertColorToObject);\ndiffPalettes['bg16'] = Object.keys(colorPalettes[16]).filter(function (color) {\n    return color !== \"#808080\";\n}).map(convertColorToObject);\ndiffPalettes[256] = [].concat(diffPalettes[16]);\nvar nextAnsiColorNumber = 16;\nfunction registerNext256PaletteEntry(obj) {\n    diffPalettes[256].push(obj);\n    colorPalettes[256][toHexColor(obj)] = nextAnsiColorNumber;\n    nextAnsiColorNumber += 1;\n}\n\nfor (var r = 0 ; r < 6 ; r += 1) {\n    for (var g = 0 ; g < 6 ; g += 1) {\n        for (var b = 0 ; b < 6 ; b += 1) {\n            registerNext256PaletteEntry({\n                R: Math.round(r * 256 / 6),\n                G: Math.round(g * 256 / 6),\n                B: Math.round(b * 256 / 6)\n            });\n        }\n    }\n}\n\n[\n    0x08, 0x12, 0x1c, 0x26, 0x30, 0x3a, 0x44, 0x4e, 0x58, 0x60, 0x66, 0x76,\n    0x80, 0x8a, 0x94, 0x9e, 0xa8, 0xb2, 0xbc, 0xc6, 0xd0, 0xda, 0xe4, 0xee\n].forEach(function (value) {\n    registerNext256PaletteEntry({R: value, G: value, B: value});\n});\n\nAnsiSerializer.prototype.text = function (options) {\n    var content = String(options.content);\n    if (content === '') {\n        return '';\n    }\n\n    var styles = themeMapper(this.theme, options.styles);\n\n    if (styles.length > 0) {\n        for (var i = styles.length -1; i >= 0; i -= 1) {\n            var styleName = styles[i];\n\n            if (ansiStyles[styleName]) {\n                content = ansiStyles[styleName].open + content + ansiStyles[styleName].close;\n            } else if (rgbRegexp.test(styleName)) {\n                var originalStyleName = styleName;\n                var isBackgroundColor = styleName.substring(0, 2) === 'bg';\n                var colorName = isBackgroundColor ? styleName.substring(2) : styleName;\n\n                var color16Hex = toHexColor(colorDiff.closest(convertColorToObject(colorName),\n                                                              diffPalettes[isBackgroundColor ? 'bg16' : 16]));\n                var closestColor16 = colorPalettes[16][color16Hex];\n\n                var color256Hex = toHexColor(colorDiff.closest(convertColorToObject(colorName), diffPalettes[256]));\n                var closest256ColorIndex = colorPalettes[256][color256Hex];\n\n                if (isBackgroundColor) {\n                    styleName = 'bg' + firstUp(closestColor16);\n                } else {\n                    styleName = closestColor16;\n                }\n\n                var open = ansiStyles[styleName].open;\n                var close = ansiStyles[styleName].close;\n                if (color16Hex !== color256Hex) {\n                    open += '\\x1b[' + (isBackgroundColor ? 48 : 38) + ';5;' + closest256ColorIndex + 'm';\n                }\n                if (cacheSize < maxColorCacheSize) {\n                    ansiStyles[originalStyleName] = {open: open, close: close};\n                    cacheSize += 1;\n                }\n\n                content = open + content + close;\n            }\n        }\n    }\n\n    return content;\n};\n\nmodule.exports = AnsiSerializer;\n","var cssStyles = require('./cssStyles');\nvar flattenBlocksInLines = require('./flattenBlocksInLines');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nfunction ColoredConsoleSerializer(theme) {\n    this.theme = theme;\n}\n\nColoredConsoleSerializer.prototype.format = 'coloredConsole';\n\nColoredConsoleSerializer.prototype.serialize = function (lines) {\n    var formatString = '';\n    var styleStrings = [];\n    this.serializeLines(flattenBlocksInLines(lines)).forEach(function (entry) {\n        if (entry) {\n            formatString += entry[0];\n            if (entry.length > 1) {\n                styleStrings.push(entry[1]);\n            }\n        }\n    });\n    return [formatString].concat(styleStrings);\n};\n\nColoredConsoleSerializer.prototype.serializeLines = function (lines) {\n    var result = [];\n    lines.forEach(function (line, i) {\n        if (i > 0) {\n            result.push(['%c\\n ', '']);\n        }\n        Array.prototype.push.apply(result, this.serializeLine(line));\n    }, this);\n    return result;\n};\n\nColoredConsoleSerializer.prototype.serializeLine = function (line) {\n    var result = [];\n    line.forEach(function (outputEntry) {\n        if (this[outputEntry.style]) {\n            result.push(this[outputEntry.style](outputEntry.args));\n        }\n    }, this);\n    return result;\n};\n\nColoredConsoleSerializer.prototype.block = function (content) {\n    return this.serializeLines(content);\n};\n\nColoredConsoleSerializer.prototype.text = function (options) {\n    var content = String(options.content);\n    if (content === '') {\n        return '';\n    }\n\n    var styles = themeMapper(this.theme, options.styles);\n\n    var result = ['%c' + content.replace(/%/g, '%%')];\n    var styleProperties = [];\n\n    if (styles.length > 0) {\n        for (var i = 0; i < styles.length; i += 1) {\n            var styleName = styles[i];\n            if (rgbRegexp.test(styleName)) {\n                if (styleName.substring(0, 2) === 'bg') {\n                    styleProperties.push('background-color: ' + styleName.substring(2));\n                } else {\n                    styleProperties.push('color: ' + styleName);\n                }\n            } else if (cssStyles[styleName]) {\n                styleProperties.push(cssStyles[styleName]);\n            }\n        }\n    }\n    result.push(styleProperties.join('; '));\n    return result;\n};\n\nColoredConsoleSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\nmodule.exports = ColoredConsoleSerializer;\n","/*global window*/\nvar utils = require('./utils');\nvar extend = utils.extend;\nvar duplicateText = require('./duplicateText');\nvar rgbRegexp = require('./rgbRegexp');\nvar cssStyles = require('./cssStyles');\n\nvar builtInStyleNames = [\n    'bold', 'dim', 'italic', 'underline', 'inverse', 'hidden',\n    'strikeThrough', 'black', 'red', 'green', 'yellow', 'blue',\n    'magenta', 'cyan', 'white', 'gray', 'bgBlack', 'bgRed',\n    'bgGreen', 'bgYellow', 'bgBlue', 'bgMagenta', 'bgCyan',\n    'bgWhite'\n];\n\nfunction MagicPen(options) {\n    if (!(this instanceof MagicPen)) {\n        return new MagicPen(options);\n    }\n\n    options = options || {};\n\n    if (typeof options === \"string\") {\n        options = {format: options };\n    }\n\n    var indentationWidth = 'indentationWidth' in options ?\n        options.indentationWidth : 2;\n    this.indentationWidth = Math.max(indentationWidth, 0);\n\n    this.indentationLevel = 0;\n    this.output = [[]];\n    this.styles = Object.create(null);\n    this.installedPlugins = [];\n    // Ready to be cloned individually:\n    this._themes = {};\n    Object.keys(MagicPen.serializers).forEach(function (serializerName) {\n        this._themes[serializerName] = { styles: {} };\n    }, this);\n    this.preferredWidth = (!process.browser && process.stdout.columns) || 80;\n    if (options.format) {\n        this.format = options.format;\n    }\n}\n\nif (typeof exports === 'object' && typeof exports.nodeName !== 'string' && require('supports-color')) {\n    MagicPen.defaultFormat = 'ansi'; // colored console\n} else if (typeof window !== 'undefined' && typeof window.navigator !== 'undefined') {\n    if (window._phantom || window.mochaPhantomJS || (window.__karma__ && window.__karma__.config.captureConsole)) {\n        MagicPen.defaultFormat = 'ansi'; // colored console\n    } else {\n        MagicPen.defaultFormat = 'html'; // Browser\n    }\n} else {\n    MagicPen.defaultFormat = 'text'; // Plain text\n}\n\nMagicPen.prototype.newline = MagicPen.prototype.nl = function (count) {\n    if (typeof count === 'undefined') {\n        count = 1;\n    }\n\n    if (count === 0) {\n        return this;\n    }\n\n    for (var i = 0; i < count; i += 1) {\n        this.output.push([]);\n    }\n    return this;\n};\n\nMagicPen.serializers = {};\n[\n    require('./TextSerializer'),\n    require('./HtmlSerializer'),\n    require('./AnsiSerializer'),\n    require('./ColoredConsoleSerializer')\n].forEach(function (serializer) {\n    MagicPen.serializers[serializer.prototype.format] = serializer;\n});\n\nfunction hasSameTextStyling(a, b) {\n    if (!a || !b || a.style !== 'text' || b.style !== 'text') {\n        return false;\n    }\n\n    return utils.arrayEquals(a.args.styles, b.args.styles);\n}\n\nfunction normalizeLine(line) {\n    if (line.length === 0) {\n        return line;\n    }\n\n    var result = [line[0]];\n    for (var i = 1; i < line.length; i += 1) {\n        var lastEntry = result[result.length - 1];\n        var entry = line[i];\n        if (entry.style === 'text' && entry.args.content === '') {\n            continue;\n        }\n\n        if (hasSameTextStyling(lastEntry, entry)) {\n            result[result.length - 1] = {\n                style: lastEntry.style,\n                args: {\n                    content: lastEntry.args.content + entry.args.content,\n                    styles: lastEntry.args.styles\n                }\n            };\n        } else {\n            result.push(entry);\n        }\n    }\n\n    return result;\n}\n\nMagicPen.prototype.write = function (options) {\n    if (this.styles[options.style]) {\n        this.styles[options.style].apply(this, options.args);\n        return this;\n    }\n    var lastLine = this.output[this.output.length - 1];\n    var lastEntry = lastLine[lastLine.length - 1];\n    if (hasSameTextStyling(lastEntry, options)) {\n        lastLine[lastLine.length - 1] = {\n            style: lastEntry.style,\n            args: {\n                content: lastEntry.args.content + options.args.content,\n                styles: lastEntry.args.styles\n            }\n        };\n    } else {\n        lastLine.push(options);\n    }\n\n    return this;\n};\n\nMagicPen.prototype.indentLines = function () {\n    this.indentationLevel += 1;\n    return this;\n};\n\nMagicPen.prototype.indent = MagicPen.prototype.i = function () {\n    for (var i = 0; i < this.indentationLevel; i += 1) {\n        this.space(this.indentationWidth);\n    }\n    return this;\n};\n\nMagicPen.prototype.outdentLines = function () {\n    this.indentationLevel = Math.max(0, this.indentationLevel - 1);\n    return this;\n};\n\nMagicPen.prototype.addStyle = function (style, handler, allowRedefinition) {\n    if (this[style] === false || ((this.hasOwnProperty(style) || MagicPen.prototype[style]) && !Object.prototype.hasOwnProperty.call(this.styles, style) && builtInStyleNames.indexOf(style) === -1)) {\n        throw new Error('\"' + style + '\" style cannot be defined, it clashes with a built-in attribute');\n    }\n\n    // Refuse to redefine a built-in style or a style already defined directly on this pen unless allowRedefinition is true:\n    if (this.hasOwnProperty(style) || builtInStyleNames.indexOf(style) !== -1) {\n        var existingType = typeof this[style];\n        if (existingType === 'function') {\n            if (!allowRedefinition) {\n                throw new Error('\"' + style + '\" style is already defined, set 3rd arg (allowRedefinition) to true to define it anyway');\n            }\n        }\n    }\n    if (this._stylesHaveNotBeenClonedYet) {\n        this.styles = Object.create(this.styles);\n        this._stylesHaveNotBeenClonedYet = false;\n    }\n\n    this.styles[style] = handler;\n    this[style] = function () {\n        handler.apply(this, arguments);\n        return this;\n    };\n    return this;\n};\n\nMagicPen.prototype.toString = function (format) {\n    if (format && this.format && format !== this.format) {\n        throw new Error('A pen with format: ' + this.format + ' cannot be serialized to: ' + format);\n    }\n\n    format = this.format || format || 'text';\n    if (format === 'auto') {\n        format = MagicPen.defaultFormat;\n    }\n    var theme = this._themes[format] || {};\n    var serializer = new MagicPen.serializers[format](theme);\n    return serializer.serialize(this.output);\n};\n\nMagicPen.prototype.text = function () {\n    var content = arguments[0];\n    if (content === '') {\n        return this;\n    }\n\n    var styles = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i += 1) {\n        styles[i - 1] = arguments[i];\n    }\n\n    content = String(content);\n    if (content.indexOf('\\n') !== -1) {\n        var lines = content.split(/\\n/);\n        lines.forEach(function (lineContent, index) {\n            if (lineContent.length) {\n                this.write({\n                    style: 'text',\n                    args: { content: lineContent, styles: styles }\n                });\n            }\n            if (index < lines.length - 1) {\n                this.nl();\n            }\n        }, this);\n        return this;\n    } else {\n        return this.write({\n            style: 'text',\n            args: { content: content, styles: styles }\n        });\n    }\n};\n\nMagicPen.prototype.removeFormatting = function () {\n    var result = this.clone();\n    this.output.forEach(function (line, index) {\n        result.output[index] = normalizeLine(line.map(function (outputEntry) {\n            return outputEntry.style === 'text' ?\n                { style: 'text', args: { content: outputEntry.args.content, styles: [] } } :\n                outputEntry;\n        }));\n    });\n    result.indentationLevel = this.indentationLevel;\n    return result;\n};\n\nMagicPen.prototype.getContentFromArguments = function (args) {\n    var clone;\n    if (args[0].isMagicPen) {\n        this.ensureCompatibleFormat(args[0].format);\n        return args[0];\n    } else if (typeof args[0] === 'function') {\n        clone = this.clone();\n        args[0].call(clone, clone);\n        return clone;\n    } else if (typeof args[0] === 'string' && args.length === 1) {\n        clone = this.clone();\n        clone.text(args[0]);\n        return clone;\n    } else if (typeof args[0] === 'string') {\n        clone = this.clone();\n        clone[args[0]].apply(clone, Array.prototype.slice.call(args, 1));\n        return clone;\n    } else {\n        throw new Error('Requires the arguments to be:\\n' +\n                        'a pen or\\n' +\n                        'a callback appending content to a pen or\\n' +\n                        'a style and arguments for that style or\\n' +\n                        'just a string.');\n    }\n};\n\nMagicPen.prototype.isMultiline = function () {\n    return this.output.length > 1 || this.size().height > 1;\n};\n\nMagicPen.prototype.isAtStartOfLine = function () {\n    return this.output.length === 0 || this.output[this.output.length - 1].length === 0;\n};\n\nMagicPen.prototype.isBlock = function () {\n    return this.output.length === 1 &&\n        this.output[0].length === 1 &&\n        this.output[0][0].style === 'block';\n};\n\nMagicPen.prototype.ensureCompatibleFormat = function (format) {\n    if (format && this.format && format !== this.format) {\n        throw new Error('This pen is only compatible with the format: ' + this.format);\n    }\n};\n\nMagicPen.prototype.block = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    var blockOutput = pen.output.map(function (line) {\n        return [].concat(line);\n    });\n    return this.write({ style: 'block', args: blockOutput });\n};\nfunction isRawOutput(options) {\n    return options &&\n        typeof options === 'object' &&\n        typeof options.width === 'number' &&\n        typeof options.height === 'number' && (\n            typeof options.content === 'function' ||\n                typeof options.content === 'string'\n        );\n}\n\nMagicPen.prototype.alt = function (options) {\n    var format = this.format;\n    if (!format) {\n        throw new Error('The alt method is only supported on pen where the format has already been set');\n    }\n\n    var outputProperty = options[format];\n\n    if (typeof outputProperty === 'undefined') {\n        if (options.fallback) {\n            return this.append(options.fallback);\n        } else {\n            // Nothing to do for this format, just NOOP:\n            return this;\n        }\n    }\n\n    if (typeof outputProperty === 'string' || isRawOutput(outputProperty)) {\n        return this.raw(outputProperty);\n    } else {\n        return this.append(outputProperty);\n    }\n};\n\nMagicPen.prototype.raw = function (options) {\n    var format = this.format;\n    if (!format) {\n        throw new Error('The alt method is only supported on pen where the format has already been set');\n    }\n\n    if (typeof options === 'string') {\n        return this.write({ style: 'raw', args: {\n            height: 0,\n            width: 0,\n            content: function () {\n                return options;\n            }\n        }});\n    }\n\n    if (isRawOutput(options)) {\n        if (typeof options.content === 'string') {\n            options = extend({}, options);\n            var content = options.content;\n            options.content = function () {\n                return content;\n            };\n        }\n\n        return this.write({ style: 'raw', args: options });\n    }\n\n    throw new Error('Raw ' + this.format + ' content needs to adhere to one of the following forms:\\n' +\n                    'a string of raw content\\n' +\n                    'a function returning a string of raw content or\\n' +\n                    'an object with the following form { width: <number>, height: <number>, content: <string function() {}|string> }');\n};\n\nfunction amend(output, pen) {\n    var lastLine = output[output.length - 1].slice();\n    var newOutput = output.slice(0, -1);\n    var lastEntry = lastLine[lastLine.length - 1];\n    if (lastEntry && lastEntry.style === 'block') {\n        lastLine[lastLine.length - 1] = {\n            style: 'block',\n            args: amend(lastEntry.args, pen)\n        };\n        newOutput[output.length - 1] = lastLine;\n    } else {\n        Array.prototype.push.apply(lastLine, pen.output[0]);\n        newOutput[output.length - 1] = normalizeLine(lastLine);\n        newOutput.push.apply(newOutput, pen.output.slice(1));\n    }\n\n    return newOutput;\n}\n\nMagicPen.prototype.amend = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    this.output = amend(this.output, pen);\n\n    return this;\n};\n\nMagicPen.prototype.append = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    var lastLine = this.output[this.output.length - 1];\n    Array.prototype.push.apply(lastLine, pen.output[0]);\n    this.output[this.output.length - 1] = normalizeLine(lastLine);\n\n    this.output.push.apply(this.output, pen.output.slice(1));\n\n    return this;\n};\n\nMagicPen.prototype.prependLinesWith = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    if (pen.output.length > 1) {\n        throw new Error('PrependLinesWith only supports a pen with single line content');\n    }\n\n    var height = this.size().height;\n    var output = this.clone();\n    output.block(function () {\n        for (var i = 0; i < height; i += 1) {\n            if (0 < i) {\n                this.nl();\n            }\n            this.append(pen);\n        }\n    });\n    output.block(this);\n\n    this.output = output.output;\n    return this;\n};\n\nMagicPen.prototype.space = MagicPen.prototype.sp = function (count) {\n    if (count === 0) {\n        return this;\n    }\n\n    if (typeof count === 'undefined') {\n        count = 1;\n    }\n\n    return this.text(duplicateText(' ', count));\n};\n\nbuiltInStyleNames.forEach(function (textStyle) {\n    MagicPen.prototype[textStyle] = MagicPen.prototype[textStyle.toLowerCase()] = function (content) {\n        return this.text(content, textStyle);\n    };\n});\n\nMagicPen.prototype.clone = function (format) {\n    if (!this.isEmpty()) {\n        this.ensureCompatibleFormat(format);\n    }\n\n    function MagicPenClone() {}\n    MagicPenClone.prototype = this;\n    var clonedPen = new MagicPenClone();\n    clonedPen.styles = this.styles;\n    clonedPen._stylesHaveNotBeenClonedYet = true;\n    clonedPen.indentationLevel = 0;\n    clonedPen.output = [[]];\n    clonedPen.installedPlugins = [];\n    clonedPen._themes = this._themes;\n    clonedPen._themesHaveNotBeenClonedYet = true;\n    clonedPen.format = format || this.format;\n    clonedPen.parent = this;\n    return clonedPen;\n};\n\nMagicPen.prototype.isMagicPen = true;\n\nMagicPen.prototype.size = function () {\n    return utils.calculateSize(this.output);\n};\n\nMagicPen.prototype.use = function (plugin) {\n    var existingPlugin = utils.findFirst(this.installedPlugins, function (installedPlugin) {\n        if (installedPlugin === plugin) {\n            return true;\n        } else if (typeof plugin === 'function' && typeof installedPlugin === 'function') {\n            var pluginName = utils.getFunctionName(plugin);\n            return pluginName !== '' && pluginName === utils.getFunctionName(installedPlugin);\n        } else {\n            return installedPlugin.name === plugin.name;\n        }\n    });\n\n    if (existingPlugin) {\n        if (existingPlugin === plugin || (typeof plugin.version !== 'undefined' && plugin.version === existingPlugin.version)) {\n            // No-op\n            return this;\n        } else {\n            throw new Error(\"Another instance of the plugin '\" + plugin.name + \"' \" +\n                            \"is already installed\" +\n                            (typeof existingPlugin.version !== 'undefined' ?\n                                ' (version ' + existingPlugin.version +\n                                (typeof plugin.version !== 'undefined' ?\n                                    ', trying to install ' + plugin.version : '') +\n                                ')' : '') +\n                            \". Please check your node_modules folder for unmet peerDependencies.\");\n        }\n    }\n\n    if ((typeof plugin !== 'function' && (typeof plugin !== 'object' || typeof plugin.installInto !== 'function')) ||\n        (typeof plugin.name !== 'undefined' && typeof plugin.name !== 'string') ||\n        (typeof plugin.dependencies !== 'undefined' && !Array.isArray(plugin.dependencies))) {\n        throw new Error('Plugins must be functions or adhere to the following interface\\n' +\n                        '{\\n' +\n                        '  name: <an optional plugin name>,\\n' +\n                        '  version: <an optional semver version string>,\\n' +\n                        '  dependencies: <an optional list of dependencies>,\\n' +\n                        '  installInto: <a function that will update the given magicpen instance>\\n' +\n                        '}');\n    }\n\n    if (plugin.dependencies) {\n        var instance = this;\n        var thisAndParents = [];\n        do {\n            thisAndParents.push(instance);\n            instance = instance.parent;\n        } while (instance);\n        var unfulfilledDependencies = plugin.dependencies.filter(function (dependency) {\n            return !thisAndParents.some(function (instance) {\n                return instance.installedPlugins.some(function (plugin) {\n                    return plugin.name === dependency;\n                });\n            });\n        });\n\n        if (unfulfilledDependencies.length === 1) {\n            throw new Error(plugin.name + ' requires plugin ' + unfulfilledDependencies[0]);\n        } else if (unfulfilledDependencies.length > 1) {\n            throw new Error(plugin.name + ' requires plugins ' +\n                            unfulfilledDependencies.slice(0, -1).join(', ') +\n                            ' and ' + unfulfilledDependencies[unfulfilledDependencies.length - 1]);\n        }\n    }\n\n    this.installedPlugins.push(plugin);\n    if (typeof plugin === 'function') {\n        plugin(this);\n    } else {\n        plugin.installInto(this);\n    }\n\n    return this; // for chaining\n};\n\nMagicPen.prototype.installPlugin = MagicPen.prototype.use; // Legacy alias\n\nfunction replaceText(output, outputArray, regexp, cb) {\n    var replacedOutput = output;\n    outputArray.forEach(function (line, i) {\n        if (0 < i) {\n            replacedOutput.nl();\n        }\n\n        line.forEach(function (outputEntry, j) {\n            if (outputEntry.style === 'block') {\n                return replacedOutput.output[replacedOutput.output.length - 1].push({\n                    style: 'block',\n                    args: replaceText(output.clone(), outputEntry.args, regexp, cb)\n                });\n            } else if (outputEntry.style !== 'text') {\n                return replacedOutput.output[replacedOutput.output.length - 1].push(outputEntry);\n            }\n\n            if (regexp.global) {\n                regexp.lastIndex = 0;\n            }\n            var m;\n            var first = true;\n            var lastIndex = 0;\n            var text = outputEntry.args.content;\n            var styles = outputEntry.args.styles;\n            while ((m = regexp.exec(text)) !== null && (regexp.global || first)) {\n                if (lastIndex < m.index) {\n                    replacedOutput.text.apply(replacedOutput, [text.substring(lastIndex, m.index)].concat(styles));\n                }\n\n                cb.apply(replacedOutput, [styles].concat(m));\n                first = false;\n                lastIndex = m.index + m[0].length;\n            }\n\n            if (lastIndex === 0) {\n                var lastLine;\n                if (replacedOutput.output.length === 0) {\n                    lastLine = replacedOutput.output[0] = [];\n                } else {\n                    lastLine = replacedOutput.output[replacedOutput.output.length - 1];\n                }\n\n                lastLine.push(outputEntry);\n            } else if (lastIndex < text.length) {\n                replacedOutput.text.apply(replacedOutput, [text.substring(lastIndex, text.length)].concat(styles));\n            }\n        }, this);\n    }, this);\n\n    return replacedOutput.output.map(normalizeLine);\n}\n\nMagicPen.prototype.isEmpty = function () {\n    return this.output.length === 1 && this.output[0].length === 0;\n};\n\nMagicPen.prototype.replaceText = function (regexp, cb) {\n    if (this.isEmpty()) {\n        return this;\n    }\n\n    if (typeof regexp === 'string') {\n        regexp = new RegExp(utils.escapeRegExp(regexp), 'g');\n    }\n\n    if (typeof cb === 'string') {\n        var text = cb;\n        cb = function (styles, _) {\n            var args = [text].concat(styles);\n            this.text.apply(this, args);\n        };\n    }\n\n\n    if (arguments.length === 1) {\n        cb = regexp;\n        regexp = /.*/;\n    }\n\n    this.output = replaceText(this.clone(), this.output, regexp, cb);\n\n    return this;\n};\n\nMagicPen.prototype.theme = function (format) {\n    format = format || this.format;\n    if (!format) {\n        throw new Error(\"Could not detect which format you want to retrieve \" +\n                        \"theme information for. Set the format of the pen or \" +\n                        \"provide it as an argument to the theme method.\");\n    }\n\n    return this._themes[format];\n};\n\nMagicPen.prototype.installTheme = function (formats, theme) {\n    var that = this;\n    if (arguments.length === 1) {\n        theme = formats;\n        formats = Object.keys(MagicPen.serializers);\n    }\n\n    if (typeof formats === 'string') {\n        formats = [formats];\n    }\n\n    if (\n        typeof theme !== 'object' ||\n        !Array.isArray(formats) ||\n        formats.some(function (format) {\n            return typeof format !== 'string';\n        })\n    ) {\n        throw new Error(\"Themes must be installed the following way:\\n\" +\n                        \"Install theme for all formats: pen.installTheme({ comment: 'gray' })\\n\" +\n                        \"Install theme for a specific format: pen.installTheme('ansi', { comment: 'gray' }) or\\n\" +\n                        \"Install theme for a list of formats: pen.installTheme(['ansi', 'html'], { comment: 'gray' })\");\n    }\n\n    if (!theme.styles || typeof theme.styles !== 'object') {\n        theme = {\n            styles: theme\n        };\n    }\n\n    if (that._themesHaveNotBeenClonedYet) {\n        var clonedThemes = {};\n        Object.keys(that._themes).forEach(function (format) {\n            clonedThemes[format] = Object.create(that._themes[format]);\n        });\n        that._themes = clonedThemes;\n        that._themesHaveNotBeenClonedYet = false;\n    }\n\n    Object.keys(theme.styles).forEach(function (themeKey) {\n        if (rgbRegexp.test(themeKey) || cssStyles[themeKey]) {\n            throw new Error(\"Invalid theme key: '\" + themeKey + \"' you can't map build styles.\");\n        }\n\n        if (!that[themeKey]) {\n            that.addStyle(themeKey, function (content) {\n                this.text(content, themeKey);\n            });\n        }\n    });\n\n    formats.forEach(function (format) {\n        var baseTheme = that._themes[format] || { styles: {} };\n        var extendedTheme = extend({}, baseTheme, theme);\n        extendedTheme.styles = extend({}, baseTheme.styles, theme.styles);\n        that._themes[format] = extendedTheme;\n    });\n\n\n    return this;\n};\n\nmodule.exports = MagicPen;\n","/* eslint-disable no-nested-ternary */\n'use strict';\nvar arr = [];\nvar charCodeCache = [];\n\nmodule.exports = function (a, b) {\n\tif (a === b) {\n\t\treturn 0;\n\t}\n\n\tvar swap = a;\n\n\t// Swapping the strings if `a` is longer than `b` so we know which one is the\n\t// shortest & which one is the longest\n\tif (a.length > b.length) {\n\t\ta = b;\n\t\tb = swap;\n\t}\n\n\tvar aLen = a.length;\n\tvar bLen = b.length;\n\n\tif (aLen === 0) {\n\t\treturn bLen;\n\t}\n\n\tif (bLen === 0) {\n\t\treturn aLen;\n\t}\n\n\t// Performing suffix trimming:\n\t// We can linearly drop suffix common to both strings since they\n\t// don't increase distance at all\n\t// Note: `~-` is the bitwise way to perform a `- 1` operation\n\twhile (aLen > 0 && (a.charCodeAt(~-aLen) === b.charCodeAt(~-bLen))) {\n\t\taLen--;\n\t\tbLen--;\n\t}\n\n\tif (aLen === 0) {\n\t\treturn bLen;\n\t}\n\n\t// Performing prefix trimming\n\t// We can linearly drop prefix common to both strings since they\n\t// don't increase distance at all\n\tvar start = 0;\n\n\twhile (start < aLen && (a.charCodeAt(start) === b.charCodeAt(start))) {\n\t\tstart++;\n\t}\n\n\taLen -= start;\n\tbLen -= start;\n\n\tif (aLen === 0) {\n\t\treturn bLen;\n\t}\n\n\tvar bCharCode;\n\tvar ret;\n\tvar tmp;\n\tvar tmp2;\n\tvar i = 0;\n\tvar j = 0;\n\n\twhile (i < aLen) {\n\t\tcharCodeCache[start + i] = a.charCodeAt(start + i);\n\t\tarr[i] = ++i;\n\t}\n\n\twhile (j < bLen) {\n\t\tbCharCode = b.charCodeAt(start + j);\n\t\ttmp = j++;\n\t\tret = j;\n\n\t\tfor (i = 0; i < aLen; i++) {\n\t\t\ttmp2 = bCharCode === charCodeCache[start + i] ? tmp : tmp + 1;\n\t\t\ttmp = arr[i];\n\t\t\tret = arr[i] = tmp > ret ? tmp2 > ret ? ret + 1 : tmp2 : tmp2 > tmp ? tmp + 1 : tmp2;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","var isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n","\"use strict\";\nvar es5 = require(\"./es5.js\");\nvar canEvaluate = typeof navigator == \"undefined\";\nvar haveGetters = (function(){\n    try {\n        var o = {};\n        es5.defineProperty(o, \"f\", {\n            get: function () {\n                return 3;\n            }\n        });\n        return o.f === 3;\n    }\n    catch (e) {\n        return false;\n    }\n\n})();\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return !isPrimitive(value);\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function f() {}\n    f.prototype = obj;\n    var l = 8;\n    while (l--) new f();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return obj instanceof Error && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    haveGetters: haveGetters,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\"\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n","\"use strict\";\nvar schedule;\nvar util = require(\"./util\");\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/m3OTXk\\u000a\");\n};\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            window.navigator.standalone)) {\n    schedule = function(fn) {\n        var div = document.createElement(\"div\");\n        var observer = new MutationObserver(fn);\n        observer.observe(div, {attributes: true});\n        return function() { div.classList.toggle(\"foo\"); };\n    };\n    schedule.isStatic = true;\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n","\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype._unshiftOne = function(value) {\n    var capacity = this._capacity;\n    this._checkCapacity(this.length() + 1);\n    var front = this._front;\n    var i = (((( front - 1 ) &\n                    ( capacity - 1) ) ^ capacity ) - capacity );\n    this[i] = value;\n    this._front = i;\n    this._length = this.length() + 1;\n};\n\nQueue.prototype.unshift = function(fn, receiver, arg) {\n    this._unshiftOne(arg);\n    this._unshiftOne(receiver);\n    this._unshiftOne(fn);\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n","\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = require(\"./schedule.js\");\nvar Queue = require(\"./queue.js\");\nvar util = require(\"./util.js\");\n\nfunction Async() {\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule =\n        schedule.isStatic ? schedule(this.drainQueues) : schedule;\n}\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.enableTrampoline = function() {\n    if (!this._trampolineEnabled) {\n        this._trampolineEnabled = true;\n        this._schedule = function(fn) {\n            setTimeout(fn, 0);\n        };\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._normalQueue.length() > 0;\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/m3OTXk\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    if (schedule.isStatic) {\n        schedule = function(fn) { setTimeout(fn, 0); };\n    }\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype.invokeFirst = function (fn, receiver, arg) {\n    this._normalQueue.unshift(fn, receiver, arg);\n    this._queueTick();\n};\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = new Async();\nmodule.exports.firstLineError = firstLineError;\n","\"use strict\";\nvar es5 = require(\"./es5.js\");\nvar Objectfreeze = es5.freeze;\nvar util = require(\"./util.js\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    notEnumerableProp(Error, \"__BluebirdErrorTypes__\", errorTypes);\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) {\n            return obj;\n        }\n        else if (isAnyBluebirdPromise(obj)) {\n            var ret = new Promise(INTERNAL);\n            obj._then(\n                ret._fulfillUnchecked,\n                ret._rejectUncheckedCheckError,\n                ret._progressUnchecked,\n                ret,\n                null\n            );\n            return ret;\n        }\n        var then = util.tryCatch(getThen)(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction getThen(obj) {\n    return obj.then;\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    return hasProp.call(obj, \"_promise0\");\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x,\n                                        resolveFromThenable,\n                                        rejectFromThenable,\n                                        progressFromThenable);\n    synchronous = false;\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolveFromThenable(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function rejectFromThenable(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n\n    function progressFromThenable(value) {\n        if (!promise) return;\n        if (typeof promise._progress === \"function\") {\n            promise._progress(value);\n        }\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection) {\nvar util = require(\"./util.js\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    var parent;\n    if (values instanceof Promise) {\n        parent = values;\n        promise._propagateFrom(parent, 1 | 4);\n    }\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        this._values = values;\n        if (values._isFulfilled()) {\n            values = values._value();\n            if (!isArray(values)) {\n                var err = new Promise.TypeError(\"expecting an array, a promise or a thenable\\u000a\\u000a    See http://goo.gl/s8MMhc\\u000a\");\n                this.__hardReject__(err);\n                return;\n            }\n        } else if (values._isPending()) {\n            values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n            return;\n        } else {\n            this._reject(values._reason());\n            return;\n        }\n    } else if (!isArray(values)) {\n        this._promise._reject(apiRejection(\"expecting an array, a promise or a thenable\\u000a\\u000a    See http://goo.gl/s8MMhc\\u000a\")._reason());\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var promise = this._promise;\n    for (var i = 0; i < len; ++i) {\n        var isResolved = this._isResolved();\n        var maybePromise = tryConvertToPromise(values[i], promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            if (isResolved) {\n                maybePromise._ignoreRejections();\n            } else if (maybePromise._isPending()) {\n                maybePromise._proxyPromiseArray(this, i);\n            } else if (maybePromise._isFulfilled()) {\n                this._promiseFulfilled(maybePromise._value(), i);\n            } else {\n                this._promiseRejected(maybePromise._reason(), i);\n            }\n        } else if (!isResolved) {\n            this._promiseFulfilled(maybePromise, i);\n        }\n    }\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype.__hardReject__ =\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false, true);\n};\n\nPromiseArray.prototype._promiseProgressed = function (progressValue, index) {\n    this._promise._progress({\n        index: index,\n        value: progressValue\n    });\n};\n\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n    }\n};\n\nPromiseArray.prototype._promiseRejected = function (reason, index) {\n    this._totalResolved++;\n    this._reject(reason);\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n","\"use strict\";\nmodule.exports = function() {\nvar async = require(\"./async.js\");\nvar util = require(\"./util.js\");\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](main|debug|zalgo|instrumented)/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar warn;\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.parent = function() {\n    return this._parent;\n};\n\nCapturedTrace.prototype.hasParent = function() {\n    return this._parent !== undefined;\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = CapturedTrace.parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = stackFramePattern.test(line) ||\n            \"    (No stack trace)\" === line;\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0) {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nCapturedTrace.parseStackAndMessage = function(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: cleanStack(stack)\n    };\n};\n\nCapturedTrace.formatAndLogError = function(error, title) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (typeof error === \"object\" || typeof error === \"function\") {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof warn === \"function\") {\n            warn(message);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n};\n\nCapturedTrace.unhandledRejection = function (reason) {\n    CapturedTrace.formatAndLogError(reason, \"^--- With additional stack trace: \");\n};\n\nCapturedTrace.isSupported = function () {\n    return typeof captureStackTrace === \"function\";\n};\n\nCapturedTrace.fireRejectionEvent =\nfunction(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent(name, reason, promise);\n    } catch (e) {\n        globalEventFired = true;\n        async.throwLater(e);\n    }\n\n    var domEventFired = false;\n    if (fireDomEvent) {\n        try {\n            domEventFired = fireDomEvent(name.toLowerCase(), {\n                reason: reason,\n                promise: promise\n            });\n        } catch (e) {\n            domEventFired = true;\n            async.throwLater(e);\n        }\n    }\n\n    if (!globalEventFired && !localEventFired && !domEventFired &&\n        name === \"unhandledRejection\") {\n        CapturedTrace.formatAndLogError(reason, \"Unhandled rejection \");\n    }\n};\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj.toString();\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\nCapturedTrace.setBounds = function(firstLineError, lastLineError) {\n    if (!CapturedTrace.isSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit = Error.stackTraceLimit + 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit = Error.stackTraceLimit + 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit = Error.stackTraceLimit - 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit = Error.stackTraceLimit + 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit = Error.stackTraceLimit - 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nvar fireDomEvent;\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function(name, reason, promise) {\n            if (name === \"rejectionHandled\") {\n                return process.emit(name, promise);\n            } else {\n                return process.emit(name, reason, promise);\n            }\n        };\n    } else {\n        var customEventWorks = false;\n        var anyEventWorks = true;\n        try {\n            var ev = new self.CustomEvent(\"test\");\n            customEventWorks = ev instanceof CustomEvent;\n        } catch (e) {}\n        if (!customEventWorks) {\n            try {\n                var event = document.createEvent(\"CustomEvent\");\n                event.initCustomEvent(\"testingtheevent\", false, true, {});\n                self.dispatchEvent(event);\n            } catch (e) {\n                anyEventWorks = false;\n            }\n        }\n        if (anyEventWorks) {\n            fireDomEvent = function(type, detail) {\n                var event;\n                if (customEventWorks) {\n                    event = new self.CustomEvent(type, {\n                        detail: detail,\n                        bubbles: false,\n                        cancelable: true\n                    });\n                } else if (self.dispatchEvent) {\n                    event = document.createEvent(\"CustomEvent\");\n                    event.initCustomEvent(type, false, true, detail);\n                }\n\n                return event ? !self.dispatchEvent(event) : false;\n            };\n        }\n\n        var toWindowMethodNameMap = {};\n        toWindowMethodNameMap[\"unhandledRejection\"] = (\"on\" +\n            \"unhandledRejection\").toLowerCase();\n        toWindowMethodNameMap[\"rejectionHandled\"] = (\"on\" +\n            \"rejectionHandled\").toLowerCase();\n\n        return function(name, reason, promise) {\n            var methodName = toWindowMethodNameMap[name];\n            var method = self[methodName];\n            if (!method) return false;\n            if (name === \"rejectionHandled\") {\n                method.call(self, promise);\n            } else {\n                method.call(self, reason, promise);\n            }\n            return true;\n        };\n    }\n})();\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    warn = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        warn = function(message) {\n            process.stderr.write(\"\\u001b[31m\" + message + \"\\u001b[39m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        warn = function(message) {\n            console.warn(\"%c\" + message, \"color: red\");\n        };\n    }\n}\n\nreturn CapturedTrace;\n};\n","\"use strict\";\nmodule.exports = function(Promise, CapturedTrace) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar Warning = require(\"./errors.js\").Warning;\nvar util = require(\"./util.js\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar debugging = false || (util.isNode &&\n                    (!!process.env[\"BLUEBIRD_DEBUG\"] ||\n                     process.env[\"NODE_ENV\"] === \"development\"));\n\nif (debugging) {\n    async.disableTrampolineIfNecessary();\n}\n\nPromise.prototype._ignoreRejections = function() {\n    this._unsetRejectionIsUnhandled();\n    this._bitField = this._bitField | 16777216;\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 16777216) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    CapturedTrace.fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._getCarriedStackTrace() || this._settledValue;\n        this._setUnhandledRejectionIsNotified();\n        CapturedTrace.fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 524288;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~524288);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 524288) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 2097152;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~2097152);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 2097152) > 0;\n};\n\nPromise.prototype._setCarriedStackTrace = function (capturedTrace) {\n    this._bitField = this._bitField | 1048576;\n    this._fulfillmentHandler0 = capturedTrace;\n};\n\nPromise.prototype._isCarryingStackTrace = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._getCarriedStackTrace = function () {\n    return this._isCarryingStackTrace()\n        ? this._fulfillmentHandler0\n        : undefined;\n};\n\nPromise.prototype._captureStackTrace = function (force) {\n    if (debugging || (force && CapturedTrace.isSupported())) {\n        this._traceForced = force;\n        this._trace = new CapturedTrace(this._peekContext());\n    }\n    return this;\n};\n\nPromise.prototype._attachExtraTrace = function (error, ignoreSelf) {\n    if ((debugging || this._traceForced) && canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = CapturedTrace.parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n};\n\nPromise.prototype._warn = function(message) {\n    var warning = new Warning(message);\n    var ctx = this._peekContext();\n    if (ctx) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = CapturedTrace.parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n    CapturedTrace.formatAndLogError(warning, \"\");\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ? fn : domain.bind(fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ? fn : domain.bind(fn))\n                                 : undefined;\n};\n\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() &&\n        debugging === false\n   ) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/DT1qyG\\u000a\");\n    }\n    debugging = CapturedTrace.isSupported();\n    if (debugging) {\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return debugging && CapturedTrace.isSupported();\n};\n\nif (!CapturedTrace.isSupported()) {\n    Promise.longStackTraces = function(){};\n    debugging = false;\n}\n\nreturn function() {\n    return debugging;\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, CapturedTrace, isDebugging) {\nvar contextStack = [];\nfunction Context() {\n    this._trace = new CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (!isDebugging()) return;\n    if (this._trace !== undefined) {\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (!isDebugging()) return;\n    if (this._trace !== undefined) {\n        contextStack.pop();\n    }\n};\n\nfunction createContext() {\n    if (isDebugging()) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\n\nPromise.prototype._peekContext = peekContext;\nPromise.prototype._pushContext = Context.prototype._pushContext;\nPromise.prototype._popContext = Context.prototype._popContext;\n\nreturn createContext;\n};\n","\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = require(\"./util.js\");\nvar errors = require(\"./errors.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar keys = require(\"./es5.js\").keys;\nvar TypeError = errors.TypeError;\n\nfunction CatchFilter(instances, callback, promise) {\n    this._instances = instances;\n    this._callback = callback;\n    this._promise = promise;\n}\n\nfunction safePredicate(predicate, e) {\n    var safeObject = {};\n    var retfilter = tryCatch(predicate).call(safeObject, e);\n\n    if (retfilter === errorObj) return retfilter;\n\n    var safeKeys = keys(safeObject);\n    if (safeKeys.length) {\n        errorObj.e = new TypeError(\"Catch filter must inherit from Error or be a simple predicate function\\u000a\\u000a    See http://goo.gl/o84o68\\u000a\");\n        return errorObj;\n    }\n    return retfilter;\n}\n\nCatchFilter.prototype.doFilter = function (e) {\n    var cb = this._callback;\n    var promise = this._promise;\n    var boundTo = promise._boundValue();\n    for (var i = 0, len = this._instances.length; i < len; ++i) {\n        var item = this._instances[i];\n        var itemIsErrorType = item === Error ||\n            (item != null && item.prototype instanceof Error);\n\n        if (itemIsErrorType && e instanceof item) {\n            var ret = tryCatch(cb).call(boundTo, e);\n            if (ret === errorObj) {\n                NEXT_FILTER.e = ret.e;\n                return NEXT_FILTER;\n            }\n            return ret;\n        } else if (typeof item === \"function\" && !itemIsErrorType) {\n            var shouldHandle = safePredicate(item, e);\n            if (shouldHandle === errorObj) {\n                e = errorObj.e;\n                break;\n            } else if (shouldHandle) {\n                var ret = tryCatch(cb).call(boundTo, e);\n                if (ret === errorObj) {\n                    NEXT_FILTER.e = ret.e;\n                    return NEXT_FILTER;\n                }\n                return ret;\n            }\n        }\n    }\n    NEXT_FILTER.e = e;\n    return NEXT_FILTER;\n};\n\nreturn CatchFilter;\n};\n","\"use strict\";\nvar util = require(\"./util.js\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = require(\"./errors.js\");\nvar TimeoutError = errors.TimeoutError;\nvar OperationalError = errors.OperationalError;\nvar haveGetters = util.haveGetters;\nvar es5 = require(\"./es5.js\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise) {\n    return function(err, value) {\n        if (promise === null) return;\n\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (arguments.length > 2) {\n            var $_len = arguments.length;var args = new Array($_len - 1); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];}\n            promise._fulfill(args);\n        } else {\n            promise._fulfill(value);\n        }\n\n        promise = null;\n    };\n}\n\n\nvar PromiseResolver;\nif (!haveGetters) {\n    PromiseResolver = function (promise) {\n        this.promise = promise;\n        this.asCallback = nodebackForPromise(promise);\n        this.callback = this.asCallback;\n    };\n}\nelse {\n    PromiseResolver = function (promise) {\n        this.promise = promise;\n    };\n}\nif (haveGetters) {\n    var prop = {\n        get: function() {\n            return nodebackForPromise(this.promise);\n        }\n    };\n    es5.defineProperty(PromiseResolver.prototype, \"asCallback\", prop);\n    es5.defineProperty(PromiseResolver.prototype, \"callback\", prop);\n}\n\nPromiseResolver._nodebackForPromise = nodebackForPromise;\n\nPromiseResolver.prototype.toString = function () {\n    return \"[object PromiseResolver]\";\n};\n\nPromiseResolver.prototype.resolve =\nPromiseResolver.prototype.fulfill = function (value) {\n    if (!(this instanceof PromiseResolver)) {\n        throw new TypeError(\"Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\u000a\\u000a    See http://goo.gl/sdkXL9\\u000a\");\n    }\n    this.promise._resolveCallback(value);\n};\n\nPromiseResolver.prototype.reject = function (reason) {\n    if (!(this instanceof PromiseResolver)) {\n        throw new TypeError(\"Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\u000a\\u000a    See http://goo.gl/sdkXL9\\u000a\");\n    }\n    this.promise._rejectCallback(reason);\n};\n\nPromiseResolver.prototype.progress = function (value) {\n    if (!(this instanceof PromiseResolver)) {\n        throw new TypeError(\"Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\u000a\\u000a    See http://goo.gl/sdkXL9\\u000a\");\n    }\n    this.promise._progress(value);\n};\n\nPromiseResolver.prototype.cancel = function (err) {\n    this.promise.cancel(err);\n};\n\nPromiseResolver.prototype.timeout = function () {\n    this.reject(new TimeoutError(\"timeout\"));\n};\n\nPromiseResolver.prototype.isResolved = function () {\n    return this.promise.isResolved();\n};\n\nPromiseResolver.prototype.toJSON = function () {\n    return this.promise.toJSON();\n};\n\nmodule.exports = PromiseResolver;\n","\"use strict\";\nmodule.exports = function(Promise, PromiseArray) {\nvar util = require(\"./util.js\");\nvar async = require(\"./async.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nPromise.prototype.progressed = function (handler) {\n    return this._then(undefined, undefined, handler, undefined, undefined);\n};\n\nPromise.prototype._progress = function (progressValue) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._target()._progressUnchecked(progressValue);\n\n};\n\nPromise.prototype._progressHandlerAt = function (index) {\n    return index === 0\n        ? this._progressHandler0\n        : this[(index << 2) + index - 5 + 2];\n};\n\nPromise.prototype._doProgressWith = function (progression) {\n    var progressValue = progression.value;\n    var handler = progression.handler;\n    var promise = progression.promise;\n    var receiver = progression.receiver;\n\n    var ret = tryCatch(handler).call(receiver, progressValue);\n    if (ret === errorObj) {\n        if (ret.e != null &&\n            ret.e.name !== \"StopProgressPropagation\") {\n            var trace = util.canAttachTrace(ret.e)\n                ? ret.e : new Error(util.toString(ret.e));\n            promise._attachExtraTrace(trace);\n            promise._progress(ret.e);\n        }\n    } else if (ret instanceof Promise) {\n        ret._then(promise._progress, null, null, promise, undefined);\n    } else {\n        promise._progress(ret);\n    }\n};\n\n\nPromise.prototype._progressUnchecked = function (progressValue) {\n    var len = this._length();\n    var progress = this._progress;\n    for (var i = 0; i < len; i++) {\n        var handler = this._progressHandlerAt(i);\n        var promise = this._promiseAt(i);\n        if (!(promise instanceof Promise)) {\n            var receiver = this._receiverAt(i);\n            if (typeof handler === \"function\") {\n                handler.call(receiver, progressValue, promise);\n            } else if (receiver instanceof PromiseArray &&\n                       !receiver._isResolved()) {\n                receiver._promiseProgressed(progressValue, promise);\n            }\n            continue;\n        }\n\n        if (typeof handler === \"function\") {\n            async.invoke(this._doProgressWith, this, {\n                handler: handler,\n                promise: promise,\n                receiver: this._receiverAt(i),\n                value: progressValue\n            });\n        } else {\n            async.invoke(progress, promise, progressValue);\n        }\n    }\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        ret._popContext();\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn, args, ctx) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value = util.isArray(args)\n        ? tryCatch(fn).apply(ctx, args)\n        : tryCatch(fn).call(ctx, args);\n    ret._popContext();\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false, true);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise) {\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (this._isPending()) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, ret._progress, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, ret._progress, ret, context);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 131072;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~131072);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 131072) === 131072;\n};\n\nPromise.bind = function (thisArg, value) {\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        maybePromise._then(function() {\n            ret._resolveCallback(value);\n        }, ret._reject, ret._progress, ret, null);\n    } else {\n        ret._resolveCallback(value);\n    }\n    return ret;\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, NEXT_FILTER, tryConvertToPromise) {\nvar util = require(\"./util.js\");\nvar isPrimitive = util.isPrimitive;\nvar thrower = util.thrower;\n\nfunction returnThis() {\n    return this;\n}\nfunction throwThis() {\n    throw this;\n}\nfunction return$(r) {\n    return function() {\n        return r;\n    };\n}\nfunction throw$(r) {\n    return function() {\n        throw r;\n    };\n}\nfunction promisedFinally(ret, reasonOrValue, isFulfilled) {\n    var then;\n    if (isPrimitive(reasonOrValue)) {\n        then = isFulfilled ? return$(reasonOrValue) : throw$(reasonOrValue);\n    } else {\n        then = isFulfilled ? returnThis : throwThis;\n    }\n    return ret._then(then, thrower, undefined, reasonOrValue, undefined);\n}\n\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    var ret = promise._isBound()\n                    ? handler.call(promise._boundValue())\n                    : handler();\n\n    if (ret !== undefined) {\n        var maybePromise = tryConvertToPromise(ret, promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            return promisedFinally(maybePromise, reasonOrValue,\n                                    promise.isFulfilled());\n        }\n    }\n\n    if (promise.isRejected()) {\n        NEXT_FILTER.e = reasonOrValue;\n        return NEXT_FILTER;\n    } else {\n        return reasonOrValue;\n    }\n}\n\nfunction tapHandler(value) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    var ret = promise._isBound()\n                    ? handler.call(promise._boundValue(), value)\n                    : handler(value);\n\n    if (ret !== undefined) {\n        var maybePromise = tryConvertToPromise(ret, promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            return promisedFinally(maybePromise, value, true);\n        }\n    }\n    return value;\n}\n\nPromise.prototype._passThroughHandler = function (handler, isFinally) {\n    if (typeof handler !== \"function\") return this.then();\n\n    var promiseAndHandler = {\n        promise: this,\n        handler: handler\n    };\n\n    return this._then(\n            isFinally ? finallyHandler : tapHandler,\n            isFinally ? finallyHandler : undefined, undefined,\n            promiseAndHandler, undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThroughHandler(handler, true);\n};\n\nPromise.prototype.tap = function (handler) {\n    return this._passThroughHandler(handler, false);\n};\n};\n","\"use strict\";\nvar util = require(\"./util.js\");\nvar isPrimitive = util.isPrimitive;\n\nmodule.exports = function(Promise) {\nvar returner = function () {\n    return this;\n};\nvar thrower = function () {\n    throw this;\n};\nvar returnUndefined = function() {};\nvar throwUndefined = function() {\n    throw undefined;\n};\n\nvar wrapper = function (value, action) {\n    if (action === 1) {\n        return function () {\n            throw value;\n        };\n    } else if (action === 2) {\n        return function () {\n            return value;\n        };\n    }\n};\n\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value === undefined) return this.then(returnUndefined);\n\n    if (isPrimitive(value)) {\n        return this._then(\n            wrapper(value, 2),\n            undefined,\n            undefined,\n            undefined,\n            undefined\n       );\n    }\n    return this._then(returner, undefined, undefined, value, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    if (reason === undefined) return this.then(throwUndefined);\n\n    if (isPrimitive(reason)) {\n        return this._then(\n            wrapper(reason, 1),\n            undefined,\n            undefined,\n            undefined,\n            undefined\n       );\n    }\n    return this._then(thrower, undefined, undefined, reason, undefined);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValue = promise._settledValue;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValue = undefined;\n    }\n}\n\nPromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/hc1DLj\\u000a\");\n    }\n    return this._settledValue;\n};\n\nPromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/hPuiwB\\u000a\");\n    }\n    return this._settledValue;\n};\n\nPromiseInspection.prototype.isFulfilled =\nPromise.prototype._isFulfilled = function () {\n    return (this._bitField & 268435456) > 0;\n};\n\nPromiseInspection.prototype.isRejected =\nPromise.prototype._isRejected = function () {\n    return (this._bitField & 134217728) > 0;\n};\n\nPromiseInspection.prototype.isPending =\nPromise.prototype._isPending = function () {\n    return (this._bitField & 402653184) === 0;\n};\n\nPromiseInspection.prototype.isResolved =\nPromise.prototype._isResolved = function () {\n    return (this._bitField & 402653184) > 0;\n};\n\nPromise.prototype.isPending = function() {\n    return this._target()._isPending();\n};\n\nPromise.prototype.isRejected = function() {\n    return this._target()._isRejected();\n};\n\nPromise.prototype.isFulfilled = function() {\n    return this._target()._isFulfilled();\n};\n\nPromise.prototype.isResolved = function() {\n    return this._target()._isResolved();\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue;\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue;\n};\n\nPromise.prototype.value = function() {\n    var target = this._target();\n    if (!target.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/hc1DLj\\u000a\");\n    }\n    return target._settledValue;\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    if (!target.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/hPuiwB\\u000a\");\n    }\n    target._unsetRejectionIsUnhandled();\n    return target._settledValue;\n};\n\n\nPromise.PromiseInspection = PromiseInspection;\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!false) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var caller = function(count) {\n        var values = [];\n        for (var i = 1; i <= count; ++i) values.push(\"holder.p\" + i);\n        return new Function(\"holder\", \"                                      \\n\\\n            'use strict';                                                    \\n\\\n            var callback = holder.fn;                                        \\n\\\n            return callback(values);                                         \\n\\\n            \".replace(/values/g, values.join(\", \")));\n    };\n    var thenCallbacks = [];\n    var callers = [undefined];\n    for (var i = 1; i <= 5; ++i) {\n        thenCallbacks.push(thenCallback(i));\n        callers.push(caller(i));\n    }\n\n    var Holder = function(total, fn) {\n        this.p1 = this.p2 = this.p3 = this.p4 = this.p5 = null;\n        this.fn = fn;\n        this.total = total;\n        this.now = 0;\n    };\n\n    Holder.prototype.callers = callers;\n    Holder.prototype.checkFulfillment = function(promise) {\n        var now = this.now;\n        now++;\n        var total = this.total;\n        if (now >= total) {\n            var handler = this.callers[total];\n            promise._pushContext();\n            var ret = tryCatch(handler)(this);\n            promise._popContext();\n            if (ret === errorObj) {\n                promise._rejectCallback(ret.e, false, true);\n            } else {\n                promise._resolveCallback(ret);\n            }\n        } else {\n            this.now = now;\n        }\n    };\n\n    var reject = function (reason) {\n        this._reject(reason);\n    };\n}\n}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!false) {\n            if (last < 6 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var holder = new Holder(last, fn);\n                var callbacks = thenCallbacks;\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        if (maybePromise._isPending()) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                        } else if (maybePromise._isFulfilled()) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else {\n                            ret._reject(maybePromise._reason());\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n                return ret;\n            }\n        }\n    }\n    var $_len = arguments.length;var args = new Array($_len); for(var $_i = 0; $_i < $_len; ++$_i) {args[$_i] = arguments[$_i];}\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar PENDING = {};\nvar EMPTY_ARRAY = [];\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : domain.bind(fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = limit >= 1 ? [] : EMPTY_ARRAY;\n    async.invoke(init, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\nfunction init() {this._init$(undefined, -2);}\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n    if (values[index] === PENDING) {\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var callback = this._callback;\n        var receiver = this._promise._boundValue();\n        this._promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        this._promise._popContext();\n        if (ret === errorObj) return this._reject(ret.e);\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            if (maybePromise._isPending()) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = PENDING;\n                return maybePromise._proxyPromiseArray(this, index);\n            } else if (maybePromise._isFulfilled()) {\n                ret = maybePromise._value();\n            } else {\n                return this._reject(maybePromise._reason());\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n\n    }\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    var limit = typeof options === \"object\" && options !== null\n        ? options.concurrency\n        : 0;\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter);\n}\n\nPromise.prototype.map = function (fn, options) {\n    if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n\n    return map(this, fn, options, null).promise();\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    return map(promises, fn, options, _filter).promise();\n};\n\n\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar errors = require(\"./errors.js\");\nvar async = require(\"./async.js\");\nvar CancellationError = errors.CancellationError;\n\nPromise.prototype._cancel = function (reason) {\n    if (!this.isCancellable()) return this;\n    var parent;\n    var promiseToReject = this;\n    while ((parent = promiseToReject._cancellationParent) !== undefined &&\n        parent.isCancellable()) {\n        promiseToReject = parent;\n    }\n    this._unsetCancellable();\n    promiseToReject._target()._rejectCallback(reason, false, true);\n};\n\nPromise.prototype.cancel = function (reason) {\n    if (!this.isCancellable()) return this;\n    if (reason === undefined) reason = new CancellationError();\n    async.invokeLater(this._cancel, this, reason);\n    return this;\n};\n\nPromise.prototype.cancellable = function () {\n    if (this._cancellable()) return this;\n    async.enableTrampoline();\n    this._setCancellable();\n    this._cancellationParent = undefined;\n    return this;\n};\n\nPromise.prototype.uncancellable = function () {\n    var ret = this.then();\n    ret._unsetCancellable();\n    return ret;\n};\n\nPromise.prototype.fork = function (didFulfill, didReject, didProgress) {\n    var ret = this._then(didFulfill, didReject, didProgress,\n                         undefined, undefined);\n\n    ret._setCancellable();\n    ret._cancellationParent = undefined;\n    return ret;\n};\n};\n","\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext) {\n    var TypeError = require(\"./errors.js\").TypeError;\n    var inherits = require(\"./util.js\").inherits;\n    var PromiseInspection = Promise.PromiseInspection;\n\n    function inspectionMapper(inspections) {\n        var len = inspections.length;\n        for (var i = 0; i < len; ++i) {\n            var inspection = inspections[i];\n            if (inspection.isRejected()) {\n                return Promise.reject(inspection.error());\n            }\n            inspections[i] = inspection._settledValue;\n        }\n        return inspections;\n    }\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = Promise.defer();\n        function iterator() {\n            if (i >= len) return ret.resolve();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret.promise;\n    }\n\n    function disposerSuccess(value) {\n        var inspection = new PromiseInspection();\n        inspection._settledValue = value;\n        inspection._bitField = 268435456;\n        return dispose(this, inspection).thenReturn(value);\n    }\n\n    function disposerFail(reason) {\n        var inspection = new PromiseInspection();\n        inspection._settledValue = reason;\n        inspection._bitField = 134217728;\n        return dispose(this, inspection).thenThrow(reason);\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return null;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== null\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n        len--;\n        var resources = new Array(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = arguments[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var promise = Promise.settle(resources)\n            .then(inspectionMapper)\n            .then(function(vals) {\n                promise._pushContext();\n                var ret;\n                try {\n                    ret = fn.apply(undefined, vals);\n                } finally {\n                    promise._popContext();\n                }\n                return ret;\n            })\n            ._then(\n                disposerSuccess, disposerFail, undefined, resources, undefined);\n        resources.promise = promise;\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 262144;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 262144) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~262144);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise) {\nvar errors = require(\"./errors.js\");\nvar TypeError = errors.TypeError;\nvar util = require(\"./util.js\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    var promise = this._promise = new Promise(INTERNAL);\n    promise._captureStackTrace();\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n}\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._next(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    if (result === errorObj) {\n        return this._promise._rejectCallback(result.e, false, true);\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._promise._resolveCallback(value);\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._throw(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/4Y4pDk\\u000a\\u000a\".replace(\"%s\", value) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise._then(\n            this._next,\n            this._throw,\n            undefined,\n            this,\n            null\n       );\n    }\n};\n\nPromiseSpawn.prototype._throw = function (reason) {\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._next = function (value) {\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/6Vqhm0\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        spawn._generator = generator;\n        spawn._next(undefined);\n        return spawn.promise();\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/6Vqhm0\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar util = require(\"./util.js\");\nvar async = require(\"./async.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var target = promise._target();\n        var newReason = target._getCarriedStackTrace();\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback =\nPromise.prototype.nodeify = function (nodeback, options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n","\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = require(\"./util.js\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!false) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var $_len = arguments.length;var args = new Array($_len - 1); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];}\n    if (!false) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n","\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5.js\");\n\nfunction PropertiesPromiseArray(obj) {\n    var keys = es5.keys(obj);\n    var len = keys.length;\n    var values = new Array(len * 2);\n    for (var i = 0; i < len; ++i) {\n        var key = keys[i];\n        values[i] = obj[key];\n        values[i + len] = key;\n    }\n    this.constructor$(values);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {\n    this._init$(undefined, -3) ;\n};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val = {};\n        var keyOffset = this.length();\n        for (var i = 0, len = this.length(); i < len; ++i) {\n            val[this._values[i + keyOffset]] = this._values[i];\n        }\n        this._resolve(val);\n    }\n};\n\nPropertiesPromiseArray.prototype._promiseProgressed = function (value, index) {\n    this._promise._progress({\n        key: this._values[index + this.length()],\n        value: value\n    });\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/OsFKC8\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 4);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n","\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar isArray = require(\"./util.js\").isArray;\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else if (!isArray(promises)) {\n        return apiRejection(\"expecting an array, a promise or a thenable\\u000a\\u000a    See http://goo.gl/s8MMhc\\u000a\");\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 4 | 1);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nfunction ReductionPromiseArray(promises, fn, accum, _each) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    this._preservedValues = _each === INTERNAL ? [] : null;\n    this._zerothIsAccum = (accum === undefined);\n    this._gotAccum = false;\n    this._reducingIndex = (this._zerothIsAccum ? 1 : 0);\n    this._valuesPhase = undefined;\n    var maybePromise = tryConvertToPromise(accum, this._promise);\n    var rejected = false;\n    var isPromise = maybePromise instanceof Promise;\n    if (isPromise) {\n        maybePromise = maybePromise._target();\n        if (maybePromise._isPending()) {\n            maybePromise._proxyPromiseArray(this, -1);\n        } else if (maybePromise._isFulfilled()) {\n            accum = maybePromise._value();\n            this._gotAccum = true;\n        } else {\n            this._reject(maybePromise._reason());\n            rejected = true;\n        }\n    }\n    if (!(isPromise || this._zerothIsAccum)) this._gotAccum = true;\n    var domain = getDomain();\n    this._callback = domain === null ? fn : domain.bind(fn);\n    this._accum = accum;\n    if (!rejected) async.invoke(init, this, undefined);\n}\nfunction init() {\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._init = function () {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function () {\n    if (this._gotAccum || this._zerothIsAccum) {\n        this._resolve(this._preservedValues !== null\n                        ? [] : this._accum);\n    }\n};\n\nReductionPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    values[index] = value;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var isEach = preservedValues !== null;\n    var gotAccum = this._gotAccum;\n    var valuesPhase = this._valuesPhase;\n    var valuesPhaseIndex;\n    if (!valuesPhase) {\n        valuesPhase = this._valuesPhase = new Array(length);\n        for (valuesPhaseIndex=0; valuesPhaseIndex<length; ++valuesPhaseIndex) {\n            valuesPhase[valuesPhaseIndex] = 0;\n        }\n    }\n    valuesPhaseIndex = valuesPhase[index];\n\n    if (index === 0 && this._zerothIsAccum) {\n        this._accum = value;\n        this._gotAccum = gotAccum = true;\n        valuesPhase[index] = ((valuesPhaseIndex === 0)\n            ? 1 : 2);\n    } else if (index === -1) {\n        this._accum = value;\n        this._gotAccum = gotAccum = true;\n    } else {\n        if (valuesPhaseIndex === 0) {\n            valuesPhase[index] = 1;\n        } else {\n            valuesPhase[index] = 2;\n            this._accum = value;\n        }\n    }\n    if (!gotAccum) return;\n\n    var callback = this._callback;\n    var receiver = this._promise._boundValue();\n    var ret;\n\n    for (var i = this._reducingIndex; i < length; ++i) {\n        valuesPhaseIndex = valuesPhase[i];\n        if (valuesPhaseIndex === 2) {\n            this._reducingIndex = i + 1;\n            continue;\n        }\n        if (valuesPhaseIndex !== 1) return;\n        value = values[i];\n        this._promise._pushContext();\n        if (isEach) {\n            preservedValues.push(value);\n            ret = tryCatch(callback).call(receiver, value, i, length);\n        }\n        else {\n            ret = tryCatch(callback)\n                .call(receiver, this._accum, value, i, length);\n        }\n        this._promise._popContext();\n\n        if (ret === errorObj) return this._reject(ret.e);\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            if (maybePromise._isPending()) {\n                valuesPhase[i] = 4;\n                return maybePromise._proxyPromiseArray(this, i);\n            } else if (maybePromise._isFulfilled()) {\n                ret = maybePromise._value();\n            } else {\n                return this._reject(maybePromise._reason());\n            }\n        }\n\n        this._reducingIndex = i + 1;\n        this._accum = ret;\n    }\n\n    this._resolve(isEach ? preservedValues : this._accum);\n};\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n};\n","\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = require(\"./util.js\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n    }\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 268435456;\n    ret._settledValue = value;\n    this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 134217728;\n    ret._settledValue = reason;\n    this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return new SettledPromiseArray(this).promise();\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = require(\"./util.js\");\nvar RangeError = require(\"./errors.js\").RangeError;\nvar AggregateError = require(\"./errors.js\").AggregateError;\nvar isArray = util.isArray;\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n    }\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            e.push(this._values[i]);\n        }\n        this._reject(e);\n    }\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/1wAmHx\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = require(\"./util.js\");\nvar nodebackForPromise = require(\"./promise_resolver.js\")\n    ._nodebackForPromise;\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = require(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/iWrZbw\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!false) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\"'use strict';                            \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise);                      \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n        \"\n        .replace(\"Parameters\", parameterDeclaration(newParameterCount))\n        .replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode))(\n            Promise,\n            fn,\n            receiver,\n            withAppended,\n            maybeWrapAsError,\n            nodebackForPromise,\n            util.tryCatch,\n            util.errorObj,\n            util.notEnumerableProp,\n            INTERNAL\n        );\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        obj[promisifiedKey] = promisifier === makeNodePromisified\n                ? makeNodePromisified(key, THIS, key, fn, suffix)\n                : promisifier(fn, function() {\n                    return makeNodePromisified(key, THIS, key, fn, suffix);\n                });\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver) {\n    return makeNodePromisified(callback, receiver, undefined, callback);\n}\n\nPromise.promisify = function (fn, receiver) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    var ret = promisify(fn, arguments.length < 2 ? THIS : receiver);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/9ITlV0\\u000a\");\n    }\n    options = Object(options);\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/8FZo5V\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier);\n            promisifyAll(value, suffix, filter, promisifier);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier);\n};\n};\n\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, null, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, null, INTERNAL);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar TimeoutError = Promise.TimeoutError;\n\nvar afterTimeout = function (promise, message) {\n    if (!promise.isPending()) return;\n    if (typeof message !== \"string\") {\n        message = \"operation timed out\";\n    }\n    var err = new TimeoutError(message);\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._cancel(err);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (value, ms) {\n    if (ms === undefined) {\n        ms = value;\n        value = undefined;\n        var ret = new Promise(INTERNAL);\n        setTimeout(function() { ret._fulfill(); }, ms);\n        return ret;\n    }\n    ms = +ms;\n    return Promise.resolve(value)._then(afterValue, null, null, ms, undefined);\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(this, ms);\n};\n\nfunction successClear(value) {\n    var handle = this;\n    if (handle instanceof Number) handle = +handle;\n    clearTimeout(handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    var handle = this;\n    if (handle instanceof Number) handle = +handle;\n    clearTimeout(handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret = this.then().cancellable();\n    ret._cancellationParent = this;\n    var handle = setTimeout(function timeoutTimeout() {\n        afterTimeout(ret, message);\n    }, ms);\n    return ret._then(successClear, failureClear, undefined, handle, undefined);\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n","\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/LhFpo0\\u000a\");\n};\nvar reflect = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\n\nvar util = require(\"./util.js\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar async = require(\"./async.js\");\nvar errors = require(\"./errors.js\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nPromise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {e: null};\nvar tryConvertToPromise = require(\"./thenables.js\")(Promise, INTERNAL);\nvar PromiseArray =\n    require(\"./promise_array.js\")(Promise, INTERNAL,\n                                    tryConvertToPromise, apiRejection);\nvar CapturedTrace = require(\"./captured_trace.js\")();\nvar isDebugging = require(\"./debuggability.js\")(Promise, CapturedTrace);\n /*jshint unused:false*/\nvar createContext =\n    require(\"./context.js\")(Promise, CapturedTrace, isDebugging);\nvar CatchFilter = require(\"./catch_filter.js\")(NEXT_FILTER);\nvar PromiseResolver = require(\"./promise_resolver.js\");\nvar nodebackForPromise = PromiseResolver._nodebackForPromise;\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction Promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"the promise constructor requires a resolver function\\u000a\\u000a    See http://goo.gl/EC22Yn\\u000a\");\n    }\n    if (this.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/KsIlge\\u000a\");\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._progressHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settledValue = undefined;\n    if (resolver !== INTERNAL) this._resolveFromResolver(resolver);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (typeof item === \"function\") {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(\n                    new TypeError(\"Catch filter must inherit from Error or be a simple predicate function\\u000a\\u000a    See http://goo.gl/o84o68\\u000a\"));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        var catchFilter = new CatchFilter(catchInstances, fn, this);\n        return this._then(undefined, catchFilter.doFilter, undefined,\n            catchFilter, undefined);\n    }\n    return this._then(undefined, fn, undefined, undefined, undefined);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflect, reflect, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject, didProgress) {\n    if (isDebugging() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, didProgress,\n        undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject, didProgress) {\n    var promise = this._then(didFulfill, didReject, didProgress,\n        undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (didFulfill, didReject) {\n    return this.all()._then(didFulfill, didReject, undefined, APPLY, undefined);\n};\n\nPromise.prototype.isCancellable = function () {\n    return !this.isResolved() &&\n        this._cancellable();\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = function(fn) {\n    var ret = new Promise(INTERNAL);\n    var result = tryCatch(fn)(nodebackForPromise(ret));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true, true);\n    }\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.defer = Promise.pending = function () {\n    var promise = new Promise(INTERNAL);\n    return new PromiseResolver(promise);\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        var val = ret;\n        ret = new Promise(INTERNAL);\n        ret._fulfillUnchecked(val);\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    var prev = async._schedule;\n    async._schedule = fn;\n    return prev;\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    didProgress,\n    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var ret = haveInternalData ? internalData : new Promise(INTERNAL);\n\n    if (!haveInternalData) {\n        ret._propagateFrom(this, 4 | 1);\n        ret._captureStackTrace();\n    }\n\n    var target = this._target();\n    if (target !== this) {\n        if (receiver === undefined) receiver = this._boundTo;\n        if (!haveInternalData) ret._setIsMigrated();\n    }\n\n    var callbackIndex = target._addCallbacks(didFulfill,\n                                             didReject,\n                                             didProgress,\n                                             ret,\n                                             receiver,\n                                             getDomain());\n\n    if (target._isResolved() && !target._isSettlePromisesQueued()) {\n        async.invoke(\n            target._settlePromiseAtPostResolution, target, callbackIndex);\n    }\n\n    return ret;\n};\n\nPromise.prototype._settlePromiseAtPostResolution = function (index) {\n    if (this._isRejectionUnhandled()) this._unsetRejectionIsUnhandled();\n    this._settlePromiseAt(index);\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 131071;\n};\n\nPromise.prototype._isFollowingOrFulfilledOrRejected = function () {\n    return (this._bitField & 939524096) > 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 536870912) === 536870912;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -131072) |\n        (len & 131071);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 536870912;\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 33554432;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 33554432) > 0;\n};\n\nPromise.prototype._cancellable = function () {\n    return (this._bitField & 67108864) > 0;\n};\n\nPromise.prototype._setCancellable = function () {\n    this._bitField = this._bitField | 67108864;\n};\n\nPromise.prototype._unsetCancellable = function () {\n    this._bitField = this._bitField & (~67108864);\n};\n\nPromise.prototype._setIsMigrated = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._unsetIsMigrated = function () {\n    this._bitField = this._bitField & (~4194304);\n};\n\nPromise.prototype._isMigrated = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0\n        ? this._receiver0\n        : this[\n            index * 5 - 5 + 4];\n    if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return index === 0\n        ? this._promise0\n        : this[index * 5 - 5 + 3];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return index === 0\n        ? this._fulfillmentHandler0\n        : this[index * 5 - 5 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return index === 0\n        ? this._rejectionHandler0\n        : this[index * 5 - 5 + 1];\n};\n\nPromise.prototype._boundValue = function() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n};\n\nPromise.prototype._migrateCallbacks = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var progress = follower._progressHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (promise instanceof Promise) promise._setIsMigrated();\n    this._addCallbacks(fulfill, reject, progress, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    progress,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 131071 - 5) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        if (receiver !== undefined) this._receiver0 = receiver;\n        if (typeof fulfill === \"function\" && !this._isCarryingStackTrace()) {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : domain.bind(fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : domain.bind(reject);\n        }\n        if (typeof progress === \"function\") {\n            this._progressHandler0 =\n                domain === null ? progress : domain.bind(progress);\n        }\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] = promise;\n        this[base + 4] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : domain.bind(fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : domain.bind(reject);\n        }\n        if (typeof progress === \"function\") {\n            this[base + 2] =\n                domain === null ? progress : domain.bind(progress);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._setProxyHandlers = function (receiver, promiseSlotValue) {\n    var index = this._length();\n\n    if (index >= 131071 - 5) {\n        index = 0;\n        this._setLength(0);\n    }\n    if (index === 0) {\n        this._promise0 = promiseSlotValue;\n        this._receiver0 = receiver;\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] = promiseSlotValue;\n        this[base + 4] = receiver;\n    }\n    this._setLength(index + 1);\n};\n\nPromise.prototype._proxyPromiseArray = function (promiseArray, index) {\n    this._setProxyHandlers(promiseArray, index);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false, true);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    var propagationFlags = 1 | (shouldBind ? 4 : 0);\n    this._propagateFrom(maybePromise, propagationFlags);\n    var promise = maybePromise._target();\n    if (promise._isPending()) {\n        var len = this._length();\n        for (var i = 0; i < len; ++i) {\n            promise._migrateCallbacks(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (promise._isFulfilled()) {\n        this._fulfillUnchecked(promise._value());\n    } else {\n        this._rejectUnchecked(promise._reason(),\n            promise._getCarriedStackTrace());\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, shouldNotMarkOriginatingFromRejection) {\n    if (!shouldNotMarkOriginatingFromRejection) {\n        util.markAsOriginatingFromRejection(reason);\n    }\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason, hasStack ? undefined : trace);\n};\n\nPromise.prototype._resolveFromResolver = function (resolver) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = tryCatch(resolver)(function(value) {\n        if (promise === null) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }, function (reason) {\n        if (promise === null) return;\n        promise._rejectCallback(reason, synchronous);\n        promise = null;\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined && r === errorObj && promise !== null) {\n        promise._rejectCallback(r.e, true, true);\n        promise = null;\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    if (promise._isRejected()) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY && !this._isRejected()) {\n        x = tryCatch(handler).apply(this._boundValue(), value);\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    promise._popContext();\n\n    if (x === errorObj || x === promise || x === NEXT_FILTER) {\n        var err = x === promise ? makeSelfResolutionError() : x.e;\n        promise._rejectCallback(err, false, true);\n    } else {\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._cleanValues = function () {\n    if (this._cancellable()) {\n        this._cancellationParent = undefined;\n    }\n};\n\nPromise.prototype._propagateFrom = function (parent, flags) {\n    if ((flags & 1) > 0 && parent._cancellable()) {\n        this._setCancellable();\n        this._cancellationParent = parent;\n    }\n    if ((flags & 4) > 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n};\n\nPromise.prototype._fulfill = function (value) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._fulfillUnchecked(value);\n};\n\nPromise.prototype._reject = function (reason, carriedStackTrace) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._rejectUnchecked(reason, carriedStackTrace);\n};\n\nPromise.prototype._settlePromiseAt = function (index) {\n    var promise = this._promiseAt(index);\n    var isPromise = promise instanceof Promise;\n\n    if (isPromise && promise._isMigrated()) {\n        promise._unsetIsMigrated();\n        return async.invoke(this._settlePromiseAt, this, index);\n    }\n    var handler = this._isFulfilled()\n        ? this._fulfillmentHandlerAt(index)\n        : this._rejectionHandlerAt(index);\n\n    var carriedStackTrace =\n        this._isCarryingStackTrace() ? this._getCarriedStackTrace() : undefined;\n    var value = this._settledValue;\n    var receiver = this._receiverAt(index);\n    this._clearCallbackDataAtIndex(index);\n\n    if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof PromiseArray) {\n        if (!receiver._isResolved()) {\n            if (this._isFulfilled()) {\n                receiver._promiseFulfilled(value, promise);\n            }\n            else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (this._isFulfilled()) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value, carriedStackTrace);\n        }\n    }\n\n    if (index >= 4 && (index & 31) === 4)\n        async.invokeLater(this._setLength, this, 0);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    if (index === 0) {\n        if (!this._isCarryingStackTrace()) {\n            this._fulfillmentHandler0 = undefined;\n        }\n        this._rejectionHandler0 =\n        this._progressHandler0 =\n        this._receiver0 =\n        this._promise0 = undefined;\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] =\n        this[base + 4] =\n        this[base + 0] =\n        this[base + 1] =\n        this[base + 2] = undefined;\n    }\n};\n\nPromise.prototype._isSettlePromisesQueued = function () {\n    return (this._bitField &\n            -1073741824) === -1073741824;\n};\n\nPromise.prototype._setSettlePromisesQueued = function () {\n    this._bitField = this._bitField | -1073741824;\n};\n\nPromise.prototype._unsetSettlePromisesQueued = function () {\n    this._bitField = this._bitField & (~-1073741824);\n};\n\nPromise.prototype._queueSettlePromises = function() {\n    async.settlePromises(this);\n    this._setSettlePromisesQueued();\n};\n\nPromise.prototype._fulfillUnchecked = function (value) {\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._rejectUnchecked(err, undefined);\n    }\n    this._setFulfilled();\n    this._settledValue = value;\n    this._cleanValues();\n\n    if (this._length() > 0) {\n        this._queueSettlePromises();\n    }\n};\n\nPromise.prototype._rejectUncheckedCheckError = function (reason) {\n    var trace = util.ensureErrorObject(reason);\n    this._rejectUnchecked(reason, trace === reason ? undefined : trace);\n};\n\nPromise.prototype._rejectUnchecked = function (reason, trace) {\n    if (reason === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._rejectUnchecked(err);\n    }\n    this._setRejected();\n    this._settledValue = reason;\n    this._cleanValues();\n\n    if (this._isFinal()) {\n        async.throwLater(function(e) {\n            if (\"stack\" in e) {\n                async.invokeFirst(\n                    CapturedTrace.unhandledRejection, undefined, e);\n            }\n            throw e;\n        }, trace === undefined ? reason : trace);\n        return;\n    }\n\n    if (trace !== undefined && trace !== reason) {\n        this._setCarriedStackTrace(trace);\n    }\n\n    if (this._length() > 0) {\n        this._queueSettlePromises();\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    this._unsetSettlePromisesQueued();\n    var len = this._length();\n    for (var i = 0; i < len; i++) {\n        this._settlePromiseAt(i);\n    }\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nrequire(\"./progress.js\")(Promise, PromiseArray);\nrequire(\"./method.js\")(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire(\"./bind.js\")(Promise, INTERNAL, tryConvertToPromise);\nrequire(\"./finally.js\")(Promise, NEXT_FILTER, tryConvertToPromise);\nrequire(\"./direct_resolve.js\")(Promise);\nrequire(\"./synchronous_inspection.js\")(Promise);\nrequire(\"./join.js\")(Promise, PromiseArray, tryConvertToPromise, INTERNAL);\nPromise.Promise = Promise;\nrequire('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL);\nrequire('./cancel.js')(Promise);\nrequire('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext);\nrequire('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise);\nrequire('./nodeify.js')(Promise);\nrequire('./call_get.js')(Promise);\nrequire('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrequire('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL);\nrequire('./settle.js')(Promise, PromiseArray);\nrequire('./some.js')(Promise, PromiseArray, apiRejection);\nrequire('./promisify.js')(Promise, INTERNAL);\nrequire('./any.js')(Promise);\nrequire('./each.js')(Promise, INTERNAL);\nrequire('./timers.js')(Promise, INTERNAL);\nrequire('./filter.js')(Promise, INTERNAL);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._progressHandler0 = value;                                         \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n        p._settledValue = value;                                             \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    CapturedTrace.setBounds(async.firstLineError, util.lastLineError);       \n    return Promise;                                                          \n\n};\n","\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = require(\"./promise.js\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n","var Promise = require('unexpected-bluebird');\n\nvar workQueue = {\n  queue: [],\n  drain: function drain() {\n    this.queue.forEach(function (fn) {\n      fn();\n    });\n    this.queue = [];\n  }\n};\nvar scheduler = Promise.setScheduler(function (fn) {\n  workQueue.queue.push(fn);\n  scheduler(function () {\n    workQueue.drain();\n  });\n});\n\nPromise.prototype._notifyUnhandledRejection = function () {\n  var that = this;\n  scheduler(function () {\n    if (that._isRejectionUnhandled()) {\n      if (workQueue.onUnhandledRejection) {\n        // for testing\n        workQueue.onUnhandledRejection(that.reason());\n      } else {\n        throw that.reason();\n      }\n    }\n  });\n};\n\nmodule.exports = workQueue;","/* global window */\nvar Promise = require('unexpected-bluebird');\n\nvar useFullStackTrace = false;\n\nif (typeof window !== 'undefined' && typeof window.location !== 'undefined') {\n  useFullStackTrace = !!window.location.search.match(/[?&]full-trace=true(?:$|&)/);\n}\n\nif (typeof process !== 'undefined' && process.env && process.env.UNEXPECTED_FULL_TRACE) {\n  Promise.longStackTraces();\n  useFullStackTrace = true;\n}\n\nmodule.exports = useFullStackTrace;","var workQueue = require('./workQueue');\n\nvar Promise = require('unexpected-bluebird');\n\nvar useFullStackTrace = require('./useFullStackTrace');\n\nmodule.exports = function oathbreaker(value) {\n  if (!value || typeof value.then !== 'function') {\n    return value;\n  }\n\n  if (!value.isRejected) {\n    // this is not a bluebird promise\n    return value;\n  }\n\n  if (value.isFulfilled()) {\n    return value;\n  }\n\n  if (value.isRejected()) {\n    value.caught(function () {// Ignore - already handled\n    });\n    throw value.reason();\n  }\n\n  var onResolve = function onResolve() {};\n\n  var onReject = function onReject() {};\n\n  var evaluated = false;\n  var error;\n  value.then(function (obj) {\n    evaluated = true;\n    onResolve(value);\n  }, function (err) {\n    evaluated = true;\n    error = err;\n    onReject(err);\n  });\n  workQueue.drain();\n\n  if (evaluated && error) {\n    if (error._isUnexpected && Error.captureStackTrace) {\n      Error.captureStackTrace(error);\n    }\n\n    throw error;\n  } else if (evaluated) {\n    return value;\n  } else if (value._captureStackTrace && !useFullStackTrace) {\n    value._captureStackTrace(true);\n  }\n\n  return new Promise(function (resolve, reject) {\n    onResolve = resolve;\n    onReject = reject;\n  });\n};","function throwIfNonUnexpectedError(err) {\n  if (err && err.message === 'aggregate error') {\n    for (var i = 0; i < err.length; i += 1) {\n      throwIfNonUnexpectedError(err[i]);\n    }\n  } else if (!err || !err._isUnexpected) {\n    throw err;\n  }\n}\n\nmodule.exports = throwIfNonUnexpectedError;","var _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar Promise = require('unexpected-bluebird');\n\nvar oathbreaker = require('./oathbreaker');\n\nvar throwIfNonUnexpectedError = require('./throwIfNonUnexpectedError');\n\nfunction makePromise(body) {\n  if (typeof body !== 'function') {\n    throw new TypeError('expect.promise(...) requires a function argument to be supplied.\\n' + 'See http://unexpected.js.org/api/promise/ for more details.');\n  }\n\n  if (body.length === 2) {\n    return new Promise(body);\n  }\n\n  return new Promise(function (resolve, reject) {\n    var runningTasks = 0;\n    var resolvedValue;\n    var outerFunctionHasReturned = false;\n\n    function fulfillIfDone() {\n      if (outerFunctionHasReturned && runningTasks === 0) {\n        resolve(resolvedValue);\n      }\n    }\n\n    function noteResolvedValue(value) {\n      if (typeof value !== 'undefined' && typeof resolvedValue === 'undefined') {\n        resolvedValue = value;\n      }\n    }\n\n    var runner = function runner(fn) {\n      runningTasks += 1;\n      return function () {\n        runningTasks -= 1;\n        var result;\n\n        try {\n          if (typeof fn === 'function') {\n            result = oathbreaker(fn.apply(void 0, arguments));\n\n            if (isPromise(result)) {\n              runningTasks += 1;\n              result.then(function (value) {\n                noteResolvedValue(value);\n                runningTasks -= 1;\n                fulfillIfDone();\n              }, reject);\n            } else {\n              noteResolvedValue(result);\n            }\n          }\n        } catch (e) {\n          return reject(e);\n        }\n\n        fulfillIfDone();\n        return result;\n      };\n    };\n\n    try {\n      var result = oathbreaker(body(runner));\n\n      if (isPromise(result)) {\n        runningTasks += 1;\n        result.then(function (value) {\n          noteResolvedValue(value);\n          runningTasks -= 1;\n          fulfillIfDone();\n        }, reject);\n      } else {\n        noteResolvedValue(result);\n      }\n    } catch (e) {\n      return reject(e);\n    }\n\n    outerFunctionHasReturned = true;\n    fulfillIfDone();\n  });\n}\n\nfunction isPromise(obj) {\n  return obj && _typeof(obj) === 'object' && typeof obj.then === 'function';\n}\n\nfunction extractPromisesFromObject(obj) {\n  if (isPromise(obj)) {\n    return [obj];\n  } else if (obj && _typeof(obj) === 'object') {\n    var promises = []; // Object or Array\n\n    Object.keys(obj).forEach(function (key) {\n      promises.push.apply(promises, _toConsumableArray(extractPromisesFromObject(obj[key])));\n    });\n    return promises;\n  }\n\n  return [];\n}\n\n['all', 'any', 'settle'].forEach(function (staticMethodName) {\n  makePromise[staticMethodName] = function (obj) {\n    var result = Promise[staticMethodName](extractPromisesFromObject(obj));\n\n    if (staticMethodName === 'settle') {\n      return result.then(function (promises) {\n        promises.forEach(function (promise) {\n          if (promise.isRejected()) {\n            throwIfNonUnexpectedError(promise.reason());\n          }\n        });\n        return promises;\n      });\n    }\n\n    return result;\n  };\n}); // Expose all of Bluebird's static methods, except the ones related to long stack traces,\n// unhandled rejections and the scheduler, which we need to manage ourselves:\n\nObject.keys(Promise).forEach(function (staticMethodName) {\n  if (!/^_|^on|^setScheduler|ongStackTraces/.test(staticMethodName) && typeof Promise[staticMethodName] === 'function' && typeof makePromise[staticMethodName] === 'undefined') {\n    makePromise[staticMethodName] = Promise[staticMethodName];\n  }\n});\nmodule.exports = makePromise;","function addAdditionalPromiseMethods(promise, expect, subject) {\n  promise.and = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    function executeAnd() {\n      if (expect.findTypeOf(args[0]).is('expect.it')) {\n        return addAdditionalPromiseMethods(args[0](subject), expect, subject);\n      } else {\n        return expect.apply(void 0, [subject].concat(args));\n      }\n    }\n\n    if (this.isFulfilled()) {\n      return executeAnd();\n    } else {\n      return addAdditionalPromiseMethods(this.then(executeAnd), expect, subject);\n    }\n  };\n\n  return promise;\n}\n\nmodule.exports = addAdditionalPromiseMethods;","var makePromise = require('./makePromise');\n\nmodule.exports = function (promise) {\n  if (typeof promise.isPending !== 'function') {\n    // wrap any non-Unexpected promise\n    return makePromise(function () {\n      return promise;\n    });\n  } else {\n    return promise;\n  }\n};","/* global window */\nvar defaultDepth = 3;\nvar matchDepthParameter = typeof window !== 'undefined' && typeof window.location !== 'undefined' && window.location.search.match(/[?&]depth=(\\d+)(?:$|&)/);\n\nif (matchDepthParameter) {\n  defaultDepth = parseInt(matchDepthParameter[1], 10);\n} else if (typeof process !== 'undefined' && process.env.UNEXPECTED_DEPTH) {\n  defaultDepth = parseInt(process.env.UNEXPECTED_DEPTH, 10);\n}\n\nmodule.exports = defaultDepth;","var utils = require('./utils');\n\nvar defaultDepth = require('./defaultDepth');\n\nvar useFullStackTrace = require('./useFullStackTrace');\n\nvar errorMethodBlacklist = ['message', 'line', 'sourceId', 'sourceURL', 'stack', 'stackArray'].reduce(function (result, prop) {\n  result[prop] = true;\n  return result;\n}, {});\n\nfunction UnexpectedError(expect, parent) {\n  this.errorMode = expect && expect.errorMode || 'default';\n  var base = Error.call(this, '');\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, UnexpectedError);\n  } else {\n    // Throw the error to make sure it has its stack serialized:\n    try {\n      throw base;\n    } catch (err) {}\n\n    this.stack = base.stack;\n  }\n\n  this.expect = expect;\n  this.parent = parent || null;\n  this.name = 'UnexpectedError';\n}\n\nUnexpectedError.prototype = Object.create(Error.prototype);\nUnexpectedError.prototype.useFullStackTrace = useFullStackTrace;\nvar missingOutputMessage = 'You must either provide a format or a magicpen instance';\n\nUnexpectedError.prototype.outputFromOptions = function (options) {\n  if (!options) {\n    throw new Error(missingOutputMessage);\n  }\n\n  if (typeof options === 'string') {\n    return this.expect.createOutput(options);\n  }\n\n  if (options.isMagicPen) {\n    return options.clone();\n  }\n\n  if (options.output) {\n    return options.output.clone();\n  }\n\n  if (options.format) {\n    return this.expect.createOutput(options.format);\n  }\n\n  throw new Error(missingOutputMessage);\n};\n\nUnexpectedError.prototype._isUnexpected = true;\nUnexpectedError.prototype.isUnexpected = true;\n\nUnexpectedError.prototype.buildDiff = function (options) {\n  var output = this.outputFromOptions(options);\n  var expect = this.expect;\n  return this.createDiff && this.createDiff(output, function (actual, expected) {\n    return expect.diff(actual, expected, output.clone());\n  }, function (v, depth) {\n    return output.clone().appendInspected(v, (depth || defaultDepth) - 1);\n  }, function (actual, expected) {\n    return expect.equal(actual, expected);\n  });\n};\n\nUnexpectedError.prototype.getDefaultErrorMessage = function (options) {\n  var output = this.outputFromOptions(options);\n\n  if (this.expect.testDescription) {\n    output.append(this.expect.standardErrorMessage(output.clone(), options));\n  } else if (typeof this.output === 'function') {\n    this.output.call(output, output);\n  }\n\n  var errorWithDiff = this;\n\n  while (!errorWithDiff.createDiff && errorWithDiff.parent) {\n    errorWithDiff = errorWithDiff.parent;\n  }\n\n  if (errorWithDiff && errorWithDiff.createDiff) {\n    var comparison = errorWithDiff.buildDiff(options);\n\n    if (comparison) {\n      output.nl(2).append(comparison);\n    }\n  }\n\n  return output;\n};\n\nUnexpectedError.prototype.getNestedErrorMessage = function (options) {\n  var output = this.outputFromOptions(options);\n\n  if (this.expect.testDescription) {\n    output.append(this.expect.standardErrorMessage(output.clone(), options));\n  } else if (typeof this.output === 'function') {\n    this.output.call(output, output);\n  }\n\n  var parent = this.parent;\n\n  while (parent.getErrorMode() === 'bubble') {\n    parent = parent.parent;\n  }\n\n  if (typeof options === 'string') {\n    options = {\n      format: options\n    };\n  } else if (options && options.isMagicPen) {\n    options = {\n      output: options\n    };\n  }\n\n  output.nl().indentLines().i().block(parent.getErrorMessage(utils.extend({}, options || {}, {\n    compact: this.expect.subject === parent.expect.subject\n  })));\n  return output;\n};\n\nUnexpectedError.prototype.getDefaultOrNestedMessage = function (options) {\n  if (this.hasDiff()) {\n    return this.getDefaultErrorMessage(options);\n  } else {\n    return this.getNestedErrorMessage(options);\n  }\n};\n\nUnexpectedError.prototype.hasDiff = function () {\n  return !!this.getDiffMethod();\n};\n\nUnexpectedError.prototype.getDiffMethod = function () {\n  var errorWithDiff = this;\n\n  while (!errorWithDiff.createDiff && errorWithDiff.parent) {\n    errorWithDiff = errorWithDiff.parent;\n  }\n\n  return errorWithDiff && errorWithDiff.createDiff || null;\n};\n\nUnexpectedError.prototype.getDiff = function (options) {\n  var errorWithDiff = this;\n\n  while (!errorWithDiff.createDiff && errorWithDiff.parent) {\n    errorWithDiff = errorWithDiff.parent;\n  }\n\n  return errorWithDiff && errorWithDiff.buildDiff(options);\n};\n\nUnexpectedError.prototype.getDiffMessage = function (options) {\n  var output = this.outputFromOptions(options);\n  var comparison = this.getDiff(options);\n\n  if (comparison) {\n    output.append(comparison);\n  } else if (this.expect.testDescription) {\n    output.append(this.expect.standardErrorMessage(output.clone(), options));\n  } else if (typeof this.output === 'function') {\n    this.output.call(output, output);\n  }\n\n  return output;\n};\n\nUnexpectedError.prototype.getErrorMode = function () {\n  if (!this.parent) {\n    switch (this.errorMode) {\n      case 'default':\n      case 'bubbleThrough':\n        return this.errorMode;\n\n      default:\n        return 'default';\n    }\n  } else {\n    return this.errorMode;\n  }\n};\n\nUnexpectedError.prototype.getErrorMessage = function (options) {\n  // Search for any parent error that has an error mode of 'bubbleThrough' through on the\n  // error these should be bubbled to the top\n  var errorWithBubbleThrough = this.parent;\n\n  while (errorWithBubbleThrough && errorWithBubbleThrough.getErrorMode() !== 'bubbleThrough') {\n    errorWithBubbleThrough = errorWithBubbleThrough.parent;\n  }\n\n  if (errorWithBubbleThrough) {\n    return errorWithBubbleThrough.getErrorMessage(options);\n  }\n\n  var errorMode = this.getErrorMode();\n\n  switch (errorMode) {\n    case 'nested':\n      return this.getNestedErrorMessage(options);\n\n    case 'default':\n      return this.getDefaultErrorMessage(options);\n\n    case 'bubbleThrough':\n      return this.getDefaultErrorMessage(options);\n\n    case 'bubble':\n      return this.parent.getErrorMessage(options);\n\n    case 'diff':\n      return this.getDiffMessage(options);\n\n    case 'defaultOrNested':\n      return this.getDefaultOrNestedMessage(options);\n\n    default:\n      throw new Error(\"Unknown error mode: '\".concat(errorMode, \"'\"));\n  }\n};\n\nfunction findStackStart(lines) {\n  for (var i = lines.length - 1; i >= 0; i -= 1) {\n    if (lines[i] === '') {\n      return i + 1;\n    }\n  }\n\n  return -1;\n}\n\nUnexpectedError.prototype.serializeMessage = function (outputFormat) {\n  if (!this._hasSerializedErrorMessage) {\n    var htmlFormat = outputFormat === 'html';\n\n    if (htmlFormat) {\n      if (!('htmlMessage' in this)) {\n        this.htmlMessage = this.getErrorMessage({\n          format: 'html'\n        }).toString();\n      }\n    }\n\n    this.message = \"\\n\".concat(this.getErrorMessage({\n      format: htmlFormat ? 'text' : outputFormat\n    }).toString(), \"\\n\");\n\n    if (this.originalError && this.originalError instanceof Error && typeof this.originalError.stack === 'string') {\n      // The stack of the original error looks like this:\n      //   <constructor name>: <error message>\\n<actual stack trace>\n      // Try to get hold of <actual stack trace> and append it\n      // to the error message of this error:\n      var index = this.originalError.stack.indexOf(this.originalError.message);\n\n      if (index === -1) {\n        // Phantom.js doesn't include the error message in the stack property\n        this.stack = \"\".concat(this.message, \"\\n\").concat(this.originalError.stack);\n      } else {\n        this.stack = this.message + this.originalError.stack.substr(index + this.originalError.message.length);\n      }\n    } else if (/^(Unexpected)?Error:?\\n/.test(this.stack)) {\n      // Fix for Jest that does not seem to capture the error message\n      var matchErrorName = /^(?:Unexpected)?Error:?\\n/.exec(this.stack);\n\n      if (matchErrorName) {\n        this.stack = this.message + this.stack.substr(matchErrorName[0].length);\n      }\n    }\n\n    if (this.stack && !this.useFullStackTrace) {\n      var lines = this.stack.split(/\\n/);\n      var stackStart = findStackStart(lines);\n      var newStack = lines.filter(function (line, i) {\n        return i < stackStart || !/node_modules[/\\\\]unexpected(?:-[^/\\\\]+)?[/\\\\]/.test(line) && !/executeExpect.*node_modules[/\\\\]unexpected[/\\\\]/.test(lines[i + 1]);\n      });\n\n      if (newStack.length !== lines.length) {\n        var indentation = /^(\\s*)/.exec(lines[lines.length - 1])[1];\n\n        if (outputFormat === 'html') {\n          newStack.push(\"\".concat(indentation, \"set the query parameter full-trace=true to see the full stack trace\"));\n        } else {\n          newStack.push(\"\".concat(indentation, \"set UNEXPECTED_FULL_TRACE=true to see the full stack trace\"));\n        }\n      }\n\n      this.stack = newStack.join('\\n');\n    }\n\n    this._hasSerializedErrorMessage = true;\n  }\n};\n\nUnexpectedError.prototype.clone = function () {\n  var that = this;\n  var newError = new UnexpectedError(this.expect);\n  Object.keys(that).forEach(function (key) {\n    if (!errorMethodBlacklist[key]) {\n      newError[key] = that[key];\n    }\n  });\n  return newError;\n};\n\nUnexpectedError.prototype.getLabel = function () {\n  var currentError = this;\n\n  while (currentError && !currentError.label) {\n    currentError = currentError.parent;\n  }\n\n  return currentError && currentError.label || null;\n};\n\nUnexpectedError.prototype.getParents = function () {\n  var result = [];\n  var parent = this.parent;\n\n  while (parent) {\n    result.push(parent);\n    parent = parent.parent;\n  }\n\n  return result;\n};\n\nUnexpectedError.prototype.getAllErrors = function () {\n  var result = this.getParents();\n  result.unshift(this);\n  return result;\n};\n\nif (Object.__defineGetter__) {\n  Object.defineProperty(UnexpectedError.prototype, 'htmlMessage', {\n    enumerable: true,\n    get: function get() {\n      return this.getErrorMessage({\n        format: 'html'\n      }).toString();\n    }\n  });\n}\n\nmodule.exports = UnexpectedError;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n/* global afterEach, jasmine */\nvar pendingPromisesForTheCurrentTest = [];\nvar afterEachRegistered = false;\nvar currentSpec = null;\n\nif ((typeof jasmine === \"undefined\" ? \"undefined\" : _typeof(jasmine)) === 'object') {\n  // Add a custom reporter that allows us to capture the name of the currently executing spec:\n  jasmine.getEnv().addReporter({\n    specStarted: function specStarted(spec) {\n      currentSpec = spec;\n    },\n    specDone: function specDone(spec) {\n      currentSpec = null;\n    }\n  });\n}\n\nfunction isPendingOrHasUnhandledRejection(promise) {\n  return promise.isPending() || promise.isRejected() && promise.reason().uncaught;\n}\n\nfunction registerAfterEachHook() {\n  if (typeof afterEach === 'function' && !afterEachRegistered) {\n    afterEachRegistered = true;\n\n    try {\n      afterEach(function () {\n        var error;\n        var testPassed = true;\n\n        if (pendingPromisesForTheCurrentTest.some(isPendingOrHasUnhandledRejection)) {\n          var displayName;\n\n          if (this.currentTest) {\n            // mocha\n            testPassed = this.currentTest.state === 'passed';\n            displayName = this.currentTest.title;\n          } else if (_typeof(currentSpec) === 'object') {\n            testPassed = currentSpec.failedExpectations.length === 0;\n            displayName = currentSpec.fullName;\n          }\n\n          error = new Error(\"\".concat(displayName, \": You have created a promise that was not returned from the it block\"));\n        }\n\n        pendingPromisesForTheCurrentTest = [];\n\n        if (error && testPassed) {\n          throw error;\n        }\n      });\n    } catch (e) {// The benchmark suite fails when attempting to add an afterEach\n    }\n  }\n} // When running in jasmine/node.js, afterEach is available immediately,\n// but doesn't work within the it block. Register the hook immediately:\n\n\nregisterAfterEachHook();\n\nmodule.exports = function notifyPendingPromise(promise) {\n  pendingPromisesForTheCurrentTest.push(promise); // Register the afterEach hook lazily (mocha/node.js):\n\n  registerAfterEachHook();\n};","module.exports = 'inspect';\n\ntry {\n  var util = require('' + 'util');\n\n  if (util && typeof util.inspect === 'function' && util.inspect.custom) {\n    module.exports = util.inspect.custom;\n  }\n} catch (err) {}","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar createStandardErrorMessage = require('./createStandardErrorMessage');\n\nvar makePromise = require('./makePromise');\n\nvar addAdditionalPromiseMethods = require('./addAdditionalPromiseMethods');\n\nvar wrapPromiseIfNecessary = require('./wrapPromiseIfNecessary');\n\nvar oathbreaker = require('./oathbreaker');\n\nvar UnexpectedError = require('./UnexpectedError');\n\nvar utils = require('./utils');\n\nvar nodeJsCustomInspect = require('./nodeJsCustomInspect');\n\nfunction isAssertionArg(_ref) {\n  var type = _ref.type;\n  return type.is('assertion');\n}\n\nfunction lookupAssertionsInParentChain(assertionString, unexpected) {\n  var assertions = [];\n\n  for (var instance = unexpected; instance; instance = instance.parent) {\n    if (instance.assertions[assertionString]) {\n      assertions.push.apply(assertions, _toConsumableArray(instance.assertions[assertionString]));\n    }\n  }\n\n  return assertions;\n}\n\nfunction findSuffixAssertions(assertionString, unexpected) {\n  if (typeof assertionString !== 'string') {\n    return null;\n  }\n\n  var straightforwardAssertions = lookupAssertionsInParentChain(assertionString, unexpected);\n\n  if (straightforwardAssertions.length > 0) {\n    return straightforwardAssertions;\n  }\n\n  var tokens = assertionString.split(' ');\n\n  for (var n = tokens.length - 1; n > 0; n -= 1) {\n    var suffix = tokens.slice(n).join(' ');\n    var suffixAssertions = lookupAssertionsInParentChain(suffix, unexpected);\n\n    if (findSuffixAssertions(tokens.slice(0, n).join(' '), unexpected) && suffixAssertions.length > 0) {\n      return suffixAssertions;\n    }\n  }\n\n  return null;\n}\n\nmodule.exports = function createWrappedExpectProto(unexpected) {\n  var wrappedExpectProto = {\n    promise: makePromise,\n    errorMode: 'default',\n    equal: unexpected.equal,\n    inspect: unexpected.inspect,\n    createOutput: unexpected.createOutput.bind(unexpected),\n    findTypeOf: unexpected.findTypeOf.bind(unexpected),\n    findTypeOfWithParentType: unexpected.findTypeOfWithParentType.bind(unexpected),\n    findCommonType: unexpected.findCommonType.bind(unexpected),\n    it: function it() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (typeof args[0] === 'string') {\n        args[0] = utils.forwardFlags(args[0], this.flags);\n      }\n\n      return unexpected.it.apply(unexpected, args);\n    },\n    diff: unexpected.diff,\n    getType: unexpected.getType,\n    output: unexpected.output,\n    outputFormat: unexpected.outputFormat.bind(unexpected),\n    format: unexpected.format,\n    withError: unexpected.withError,\n    fail: function fail() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var expect = this.context.expect;\n      this.callInNestedContext(function () {\n        expect.fail.apply(expect, args);\n      });\n    },\n    standardErrorMessage: function standardErrorMessage(output, options) {\n      var that = this;\n      options = _typeof(options) === 'object' ? options : {};\n\n      if ('omitSubject' in output) {\n        options.subject = this.subject;\n      }\n\n      if (options && options.compact) {\n        options.compactSubject = function (output) {\n          output.jsFunctionName(that.subjectType.name);\n        };\n      }\n\n      return createStandardErrorMessage(output, that.subjectOutput, that.testDescription, that.argsOutput, options);\n    },\n    callInNestedContext: function callInNestedContext(callback) {\n      var that = this;\n\n      try {\n        var result = oathbreaker(callback());\n\n        if (utils.isPromise(result)) {\n          result = wrapPromiseIfNecessary(result);\n\n          if (result.isPending()) {\n            result = result.then(undefined, function (e) {\n              if (e && e._isUnexpected) {\n                var wrappedError = new UnexpectedError(that, e);\n                wrappedError.originalError = e.originalError;\n                throw wrappedError;\n              }\n\n              throw e;\n            });\n          }\n        } else {\n          result = makePromise.resolve(result);\n        }\n\n        return addAdditionalPromiseMethods(result, that.execute, that.subject);\n      } catch (e) {\n        if (e && e._isUnexpected) {\n          var wrappedError = new UnexpectedError(that, e);\n          wrappedError.originalError = e.originalError;\n          throw wrappedError;\n        }\n\n        throw e;\n      }\n    },\n    shift: function shift(subject, assertionIndex) {\n      if (arguments.length <= 1) {\n        if (arguments.length === 0) {\n          subject = this.subject;\n        }\n\n        assertionIndex = -1;\n\n        for (var i = 0; i < this.assertionRule.args.length; i += 1) {\n          var type = this.assertionRule.args[i].type;\n\n          if (type.is('assertion') || type.is('expect.it')) {\n            assertionIndex = i;\n            break;\n          }\n        }\n      } else if (arguments.length === 3) {\n        // The 3-argument syntax for wrappedExpect.shift is deprecated, please omit the first (expect) arg\n        subject = arguments[1];\n        assertionIndex = arguments[2];\n      }\n\n      if (assertionIndex !== -1) {\n        var args = this.args.slice(0, assertionIndex);\n        var rest = this.args.slice(assertionIndex);\n        var nextArgumentType = this.findTypeOf(rest[0]);\n\n        if (arguments.length > 1) {\n          // Legacy\n          this.argsOutput = function (output) {\n            args.forEach(function (arg, index) {\n              if (index > 0) {\n                output.text(', ');\n              }\n\n              output.appendInspected(arg);\n            });\n\n            if (args.length > 0) {\n              output.sp();\n            }\n\n            if (nextArgumentType.is('string')) {\n              output.error(rest[0]);\n            } else if (rest.length > 0) {\n              output.appendInspected(rest[0]);\n            }\n\n            if (rest.length > 1) {\n              output.sp();\n            }\n\n            rest.slice(1).forEach(function (arg, index) {\n              if (index > 0) {\n                output.text(', ');\n              }\n\n              output.appendInspected(arg);\n            });\n          };\n        }\n\n        if (nextArgumentType.is('expect.it')) {\n          var that = this;\n          return this.withError(function () {\n            return rest[0](subject);\n          }, function (err) {\n            that.fail(err);\n          });\n        } else if (nextArgumentType.is('string')) {\n          return this.execute.apply(this, [subject].concat(_toConsumableArray(rest)));\n        } else {\n          return subject;\n        }\n      } else {\n        // No assertion to delegate to. Provide the new subject as the fulfillment value:\n        return subject;\n      }\n    },\n    _getSubjectType: function _getSubjectType() {\n      return this.findTypeOfWithParentType(this.subject, this.assertionRule.subject.type);\n    },\n    _getArgTypes: function _getArgTypes(index) {\n      var lastIndex = this.assertionRule.args.length - 1;\n      return this.args.map(function (arg, index) {\n        return this.findTypeOfWithParentType(arg, this.assertionRule.args[Math.min(index, lastIndex)].type);\n      }, this);\n    },\n    _getAssertionIndices: function _getAssertionIndices() {\n      if (!this._assertionIndices) {\n        var assertionIndices = [];\n        var args = this.args;\n        var currentAssertionRule = this.assertionRule;\n        var offset = 0; // eslint-disable-next-line no-labels\n\n        OUTER: while (true) {\n          if (currentAssertionRule.args.length > 1 && isAssertionArg(currentAssertionRule.args[currentAssertionRule.args.length - 2])) {\n            assertionIndices.push(offset + currentAssertionRule.args.length - 2);\n            var suffixAssertions = findSuffixAssertions(args[offset + currentAssertionRule.args.length - 2], unexpected);\n\n            if (suffixAssertions) {\n              for (var i = 0; i < suffixAssertions.length; i += 1) {\n                if (suffixAssertions[i].args.some(isAssertionArg)) {\n                  offset += currentAssertionRule.args.length - 1;\n                  currentAssertionRule = suffixAssertions[i]; // eslint-disable-next-line no-labels\n\n                  continue OUTER;\n                }\n              }\n            }\n          } // No further assertions found,\n\n\n          break;\n        }\n\n        this._assertionIndices = assertionIndices;\n      }\n\n      return this._assertionIndices;\n    }\n  };\n\n  if (nodeJsCustomInspect !== 'inspect') {\n    wrappedExpectProto[nodeJsCustomInspect] = unexpected[nodeJsCustomInspect];\n  }\n\n  if (Object.__defineGetter__) {\n    Object.defineProperty(wrappedExpectProto, 'subjectType', {\n      enumerable: true,\n      get: function get() {\n        return this.assertionRule && this._getSubjectType();\n      }\n    });\n    Object.defineProperty(wrappedExpectProto, 'argTypes', {\n      enumerable: true,\n      get: function get() {\n        return this.assertionRule && this._getArgTypes();\n      }\n    });\n  }\n\n  utils.setPrototypeOfOrExtend(wrappedExpectProto, Function.prototype);\n  return wrappedExpectProto;\n};","var _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar createStandardErrorMessage = require('./createStandardErrorMessage');\n\nvar utils = require('./utils');\n\nvar magicpen = require('magicpen');\n\nvar extend = utils.extend;\n\nvar leven = require('leven');\n\nvar makePromise = require('./makePromise');\n\nvar addAdditionalPromiseMethods = require('./addAdditionalPromiseMethods');\n\nvar wrapPromiseIfNecessary = require('./wrapPromiseIfNecessary');\n\nvar oathbreaker = require('./oathbreaker');\n\nvar UnexpectedError = require('./UnexpectedError');\n\nvar notifyPendingPromise = require('./notifyPendingPromise');\n\nvar defaultDepth = require('./defaultDepth');\n\nvar createWrappedExpectProto = require('./createWrappedExpectProto');\n\nvar AssertionString = require('./AssertionString');\n\nvar throwIfNonUnexpectedError = require('./throwIfNonUnexpectedError');\n\nvar nodeJsCustomInspect = require('./nodeJsCustomInspect');\n\nfunction isAssertionArg(_ref) {\n  var type = _ref.type;\n  return type.is('assertion');\n}\n\nfunction Context(unexpected) {\n  this.expect = unexpected;\n  this.level = 0;\n}\n\nContext.prototype.child = function () {\n  var child = Object.create(this);\n  child.level++;\n  return child;\n};\n\nvar anyType = {\n  _unexpectedType: true,\n  name: 'any',\n  level: 0,\n  identify: function identify() {\n    return true;\n  },\n  equal: utils.objectIs,\n  inspect: function inspect(value, depth, output) {\n    if (output && output.isMagicPen) {\n      return output.text(value);\n    } else {\n      // Guard against node.js' require('util').inspect eagerly calling .inspect() on objects\n      return \"type: \".concat(this.name);\n    }\n  },\n  diff: function diff(actual, expected, output, _diff, inspect) {\n    return null;\n  },\n  typeEqualityCache: {},\n  is: function is(typeOrTypeName) {\n    var typeName;\n\n    if (typeof typeOrTypeName === 'string') {\n      typeName = typeOrTypeName;\n    } else {\n      typeName = typeOrTypeName.name;\n    }\n\n    var cachedValue = this.typeEqualityCache[typeName];\n\n    if (typeof cachedValue !== 'undefined') {\n      return cachedValue;\n    }\n\n    var result = false;\n\n    if (this.name === typeName) {\n      result = true;\n    } else if (this.baseType) {\n      result = this.baseType.is(typeName);\n    }\n\n    this.typeEqualityCache[typeName] = result;\n    return result;\n  }\n};\n\nif (nodeJsCustomInspect !== 'inspect') {\n  anyType[nodeJsCustomInspect] = function () {\n    return \"type: \".concat(this.name);\n  };\n}\n\nfunction Unexpected() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  this.assertions = options.assertions || {};\n  this.typeByName = options.typeByName || {\n    any: anyType\n  };\n  this.types = options.types || [anyType];\n\n  if (options.output) {\n    this.output = options.output;\n  } else {\n    this.output = magicpen();\n    this.output.inline = false;\n    this.output.diff = false;\n  }\n\n  this._outputFormat = options.format || magicpen.defaultFormat;\n  this.installedPlugins = options.installedPlugins || []; // Make bound versions of these two helpers up front to save a bit when creating wrapped expects:\n\n  var that = this;\n\n  this.getType = function (typeName) {\n    return that.typeByName[typeName] || that.parent && that.parent.getType(typeName);\n  };\n\n  this.findTypeOf = function (obj) {\n    return utils.findFirst(that.types || [], function (type) {\n      return type.identify && type.identify(obj);\n    }) || that.parent && that.parent.findTypeOf(obj);\n  };\n\n  this.findTypeOfWithParentType = function (obj, requiredParentType) {\n    return utils.findFirst(that.types || [], function (type) {\n      return type.identify && type.identify(obj) && (!requiredParentType || type.is(requiredParentType));\n    }) || that.parent && that.parent.findTypeOfWithParentType(obj, requiredParentType);\n  };\n\n  this.findCommonType = function (a, b) {\n    var aAncestorIndex = {};\n    var current = this.findTypeOf(a);\n\n    while (current) {\n      aAncestorIndex[current.name] = current;\n      current = current.baseType;\n    }\n\n    current = this.findTypeOf(b);\n\n    while (current) {\n      if (aAncestorIndex[current.name]) {\n        return current;\n      }\n\n      current = current.baseType;\n    }\n  };\n\n  this._wrappedExpectProto = createWrappedExpectProto(this);\n}\n\nvar OR = {};\n\nfunction getOrGroups(expectations) {\n  var orGroups = [[]];\n  expectations.forEach(function (expectation) {\n    if (expectation === OR) {\n      orGroups.push([]);\n    } else {\n      orGroups[orGroups.length - 1].push(expectation);\n    }\n  });\n  return orGroups;\n}\n\nfunction evaluateGroup(unexpected, context, subject, orGroup) {\n  return orGroup.map(function (expectation) {\n    var args = Array.prototype.slice.call(expectation);\n    args.unshift(subject);\n    return {\n      expectation: args,\n      promise: makePromise(function () {\n        if (typeof args[1] === 'function') {\n          if (args.length > 2) {\n            throw new Error('expect.it(<function>) does not accept additional arguments');\n          } else {\n            // expect.it(function (value) { ... })\n            return args[1](args[0]);\n          }\n        } else {\n          return unexpected._expect(context.child(), args);\n        }\n      })\n    };\n  });\n}\n\nfunction writeGroupEvaluationsToOutput(output, groupEvaluations) {\n  var hasOrClauses = groupEvaluations.length > 1;\n  var hasAndClauses = groupEvaluations.some(function (_ref2) {\n    var length = _ref2.length;\n    return length > 1;\n  });\n  groupEvaluations.forEach(function (groupEvaluation, i) {\n    if (i > 0) {\n      if (hasAndClauses) {\n        output.nl();\n      } else {\n        output.sp();\n      }\n\n      output.jsComment('or').nl();\n    }\n\n    var groupFailed = false;\n    groupEvaluation.forEach(function (evaluation, j) {\n      if (j > 0) {\n        output.jsComment(' and').nl();\n      }\n\n      var isRejected = evaluation.promise.isRejected();\n\n      if (isRejected && !groupFailed) {\n        groupFailed = true;\n        var err = evaluation.promise.reason();\n\n        if (hasAndClauses || hasOrClauses) {\n          output.error('⨯ ');\n        }\n\n        output.block(function (output) {\n          output.append(err.getErrorMessage(output));\n        });\n      } else {\n        if (isRejected) {\n          output.error('⨯ ');\n        } else {\n          output.success('✓ ');\n        }\n\n        var expectation = evaluation.expectation;\n        output.block(function (output) {\n          var subject = expectation[0];\n\n          var subjectOutput = function subjectOutput(output) {\n            output.appendInspected(subject);\n          };\n\n          var args = expectation.slice(2);\n          var argsOutput = args.map(function (arg) {\n            return function (output) {\n              output.appendInspected(arg);\n            };\n          });\n          var testDescription = expectation[1];\n          createStandardErrorMessage(output, subjectOutput, testDescription, argsOutput, {\n            subject: subject\n          });\n        });\n      }\n    });\n  });\n}\n\nfunction createExpectIt(unexpected, expectations) {\n  var orGroups = getOrGroups(expectations);\n\n  function expectIt(subject, context) {\n    context = context && _typeof(context) === 'object' && context instanceof Context ? context : new Context(unexpected);\n\n    if (orGroups.length === 1 && orGroups[0].length === 1 && orGroups[0][0].length === 1 && typeof orGroups[0][0][0] === 'function') {\n      // expect.it(subject => ...)\n      return oathbreaker(orGroups[0][0][0](subject));\n    }\n\n    var groupEvaluations = [];\n    var promises = [];\n    orGroups.forEach(function (orGroup) {\n      var evaluations = evaluateGroup(unexpected, context, subject, orGroup);\n      evaluations.forEach(function (_ref3) {\n        var promise = _ref3.promise;\n        promises.push(promise);\n      });\n      groupEvaluations.push(evaluations);\n    });\n    return oathbreaker(makePromise.settle(promises).then(function () {\n      groupEvaluations.forEach(function (groupEvaluation) {\n        groupEvaluation.forEach(function (_ref4) {\n          var promise = _ref4.promise;\n\n          if (promise.isRejected() && promise.reason().errorMode === 'bubbleThrough') {\n            throw promise.reason();\n          }\n        });\n      });\n\n      if (!groupEvaluations.some(function (groupEvaluation) {\n        return groupEvaluation.every(function (_ref5) {\n          var promise = _ref5.promise;\n          return promise.isFulfilled();\n        });\n      })) {\n        unexpected.fail(function (output) {\n          writeGroupEvaluationsToOutput(output, groupEvaluations);\n        });\n      }\n    }));\n  }\n\n  expectIt._expectIt = true;\n  expectIt._expectations = expectations;\n  expectIt._OR = OR;\n\n  expectIt.and = function () {\n    var copiedExpectations = expectations.slice();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    copiedExpectations.push(args);\n    return createExpectIt(unexpected, copiedExpectations);\n  };\n\n  expectIt.or = function () {\n    var copiedExpectations = expectations.slice();\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    copiedExpectations.push(OR, args);\n    return createExpectIt(unexpected, copiedExpectations);\n  };\n\n  return expectIt;\n}\n\nUnexpected.prototype.it = function () {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  // ...\n  return createExpectIt(this, [args]);\n};\n\nUnexpected.prototype.equal = function (actual, expected, depth, seen) {\n  var that = this;\n  depth = typeof depth === 'number' ? depth : 100;\n\n  if (depth <= 0) {\n    // detect recursive loops in the structure\n    seen = seen || [];\n\n    if (seen.indexOf(actual) !== -1) {\n      throw new Error('Cannot compare circular structures');\n    }\n\n    seen.push(actual);\n  }\n\n  return this.findCommonType(actual, expected).equal(actual, expected, function (a, b) {\n    return that.equal(a, b, depth - 1, seen);\n  });\n};\n\nUnexpected.prototype.inspect = function (obj, depth, outputOrFormat) {\n  var seen = [];\n  var that = this;\n\n  function printOutput(obj, currentDepth, output) {\n    var objType = that.findTypeOf(obj);\n\n    if (currentDepth <= 0 && objType.is('object') && !objType.is('expect.it')) {\n      return output.text('...');\n    }\n\n    seen = seen || [];\n\n    if (seen.indexOf(obj) !== -1) {\n      return output.text('[Circular]');\n    }\n\n    return objType.inspect(obj, currentDepth, output, function (v, childDepth) {\n      output = output.clone();\n      seen.push(obj);\n\n      if (typeof childDepth === 'undefined') {\n        childDepth = currentDepth - 1;\n      }\n\n      output = printOutput(v, childDepth, output) || output;\n      seen.pop();\n      return output;\n    });\n  }\n\n  var output = typeof outputOrFormat === 'string' ? this.createOutput(outputOrFormat) : outputOrFormat;\n  output = output || this.createOutput();\n  return printOutput(obj, typeof depth === 'number' ? depth : defaultDepth, output) || output;\n};\n\nif (nodeJsCustomInspect !== 'inspect') {\n  Unexpected.prototype[nodeJsCustomInspect] = Unexpected.prototype.inspect;\n}\n\nUnexpected.prototype.expandTypeAlternations = function (assertion) {\n  var that = this;\n\n  function createPermutations(args, i) {\n    if (i === args.length) {\n      return [];\n    }\n\n    var result = [];\n    args[i].forEach(function (arg) {\n      var tails = createPermutations(args, i + 1);\n\n      if (tails.length) {\n        tails.forEach(function (tail) {\n          result.push([arg].concat(tail));\n        });\n      } else if (arg.type.is('assertion')) {\n        result.push([{\n          type: arg.type,\n          minimum: 1,\n          maximum: 1\n        }, {\n          type: that.getType('any'),\n          minimum: 0,\n          maximum: Infinity\n        }]);\n        result.push([{\n          type: that.getType('expect.it'),\n          minimum: 1,\n          maximum: 1\n        }]);\n\n        if (arg.minimum === 0) {\n          // <assertion?>\n          result.push([]);\n        }\n      } else {\n        result.push([arg]);\n      }\n    });\n    return result;\n  }\n\n  var result = [];\n  assertion.subject.forEach(function (subjectRequirement) {\n    if (assertion.args.length) {\n      createPermutations(assertion.args, 0).forEach(function (args) {\n        result.push(extend({}, assertion, {\n          subject: subjectRequirement,\n          args: args\n        }));\n      });\n    } else {\n      result.push(extend({}, assertion, {\n        subject: subjectRequirement,\n        args: []\n      }));\n    }\n  });\n  return result;\n};\n\nUnexpected.prototype.parseAssertion = function (assertionString) {\n  var that = this;\n  var tokens = [];\n  var nextIndex = 0;\n\n  function parseTypeToken(typeToken) {\n    return typeToken.split('|').map(function (typeDeclaration) {\n      var matchNameAndOperator = typeDeclaration.match(/^([a-z_](?:|[a-z0-9_.-]*[_a-z0-9]))([+*?]|)$/i);\n\n      if (!matchNameAndOperator) {\n        throw new SyntaxError(\"Cannot parse type declaration:\".concat(typeDeclaration));\n      }\n\n      var type = that.getType(matchNameAndOperator[1]);\n\n      if (!type) {\n        throw new Error(\"Unknown type: \".concat(matchNameAndOperator[1], \" in \").concat(assertionString));\n      }\n\n      var operator = matchNameAndOperator[2];\n      return {\n        minimum: !operator || operator === '+' ? 1 : 0,\n        maximum: operator === '*' || operator === '+' ? Infinity : 1,\n        type: type\n      };\n    });\n  }\n\n  function hasVarargs(types) {\n    return types.some(function (_ref6) {\n      var minimum = _ref6.minimum,\n          maximum = _ref6.maximum;\n      return minimum !== 1 || maximum !== 1;\n    });\n  }\n\n  assertionString.replace(/\\s*<((?:[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])[?*+]?)(?:\\|(?:[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])[?*+]?))*)>|\\s*([^<]+)/gi, function (_ref7, $1, $2, index) {\n    var length = _ref7.length;\n\n    if (index !== nextIndex) {\n      throw new SyntaxError(\"Cannot parse token at index \".concat(nextIndex, \" in \").concat(assertionString));\n    }\n\n    if ($1) {\n      tokens.push(parseTypeToken($1));\n    } else {\n      tokens.push($2.trim());\n    }\n\n    nextIndex += length;\n  });\n  var assertion;\n\n  if (tokens.length === 1 && typeof tokens[0] === 'string') {\n    if (!this._legacyTypelessAssertionWarned) {\n      console.warn('The typeless expect.addAssertion syntax is deprecated and will be removed in a future update\\n' + 'Please refer to http://unexpected.js.org/api/addAssertion/');\n      this._legacyTypelessAssertionWarned = true;\n    }\n\n    assertion = {\n      subject: parseTypeToken('any'),\n      assertion: tokens[0],\n      args: [parseTypeToken('any*')]\n    };\n  } else {\n    assertion = {\n      subject: tokens[0],\n      assertion: tokens[1],\n      args: tokens.slice(2)\n    };\n  }\n\n  if (!Array.isArray(assertion.subject)) {\n    throw new SyntaxError(\"Missing subject type in \".concat(assertionString));\n  }\n\n  if (typeof assertion.assertion !== 'string') {\n    throw new SyntaxError(\"Missing assertion in \".concat(assertionString));\n  }\n\n  if (hasVarargs(assertion.subject)) {\n    throw new SyntaxError(\"The subject type cannot have varargs: \".concat(assertionString));\n  }\n\n  if (assertion.args.some(function (arg) {\n    return typeof arg === 'string';\n  })) {\n    throw new SyntaxError('Only one assertion string is supported (see #225)');\n  }\n\n  if (assertion.args.slice(0, -1).some(hasVarargs)) {\n    throw new SyntaxError(\"Only the last argument type can have varargs: \".concat(assertionString));\n  }\n\n  if ([assertion.subject].concat(assertion.args.slice(0, -1)).some(function (argRequirements) {\n    return argRequirements.some(function (_ref8) {\n      var type = _ref8.type;\n      return type.is('assertion');\n    });\n  })) {\n    throw new SyntaxError(\"Only the last argument type can be <assertion>: \".concat(assertionString));\n  }\n\n  var lastArgRequirements = assertion.args[assertion.args.length - 1] || [];\n  var assertionRequirements = lastArgRequirements.filter(function (_ref9) {\n    var type = _ref9.type;\n    return type.is('assertion');\n  });\n\n  if (assertionRequirements.length > 0 && lastArgRequirements.length > 1) {\n    throw new SyntaxError(\"<assertion> cannot be alternated with other types: \".concat(assertionString));\n  }\n\n  if (assertionRequirements.some(function (_ref10) {\n    var maximum = _ref10.maximum;\n    return maximum !== 1;\n  })) {\n    throw new SyntaxError(\"<assertion+> and <assertion*> are not allowed: \".concat(assertionString));\n  }\n\n  return this.expandTypeAlternations(assertion);\n};\n\nvar placeholderSplitRegexp = /(\\{(?:\\d+)\\})/g;\nvar placeholderRegexp = /\\{(\\d+)\\}/;\n\nUnexpected.prototype.fail = function (arg) {\n  if (arg instanceof UnexpectedError) {\n    arg._hasSerializedErrorMessage = false;\n    throw arg;\n  }\n\n  if (utils.isError(arg)) {\n    throw arg;\n  }\n\n  var error = new UnexpectedError(this.expect);\n\n  if (typeof arg === 'function') {\n    error.errorMode = 'bubble';\n    error.output = arg;\n  } else if (arg && _typeof(arg) === 'object') {\n    if (typeof arg.message !== 'undefined') {\n      error.errorMode = 'bubble';\n    }\n\n    error.output = function (output) {\n      if (typeof arg.message !== 'undefined') {\n        if (arg.message.isMagicPen) {\n          output.append(arg.message);\n        } else if (typeof arg.message === 'function') {\n          arg.message.call(output, output);\n        } else {\n          output.text(String(arg.message));\n        }\n      } else {\n        output.error('Explicit failure');\n      }\n    };\n\n    var expect = this.expect;\n    Object.keys(arg).forEach(function (key) {\n      var value = arg[key];\n\n      if (key === 'diff') {\n        if (typeof value === 'function' && this.parent) {\n          error.createDiff = function (output, diff, inspect, equal) {\n            var childOutput = expect.createOutput(output.format);\n            childOutput.inline = output.inline;\n            childOutput.output = output.output;\n            return value(childOutput, function diff(actual, expected) {\n              return expect.diff(actual, expected, childOutput.clone());\n            }, function inspect(v, depth) {\n              return childOutput.clone().appendInspected(v, (depth || defaultDepth) - 1);\n            }, function (actual, expected) {\n              return expect.equal(actual, expected);\n            });\n          };\n        } else {\n          error.createDiff = value;\n        }\n      } else if (key !== 'message') {\n        error[key] = value;\n      }\n    }, this);\n  } else {\n    var placeholderArgs;\n\n    if (arguments.length > 0) {\n      placeholderArgs = new Array(arguments.length - 1);\n\n      for (var i = 1; i < arguments.length; i += 1) {\n        placeholderArgs[i - 1] = arguments[i];\n      }\n    }\n\n    error.errorMode = 'bubble';\n\n    error.output = function (output) {\n      var message = arg ? String(arg) : 'Explicit failure';\n      var tokens = message.split(placeholderSplitRegexp);\n      tokens.forEach(function (token) {\n        var match = placeholderRegexp.exec(token);\n\n        if (match) {\n          var index = match[1];\n\n          if (index in placeholderArgs) {\n            var placeholderArg = placeholderArgs[index];\n\n            if (placeholderArg && placeholderArg.isMagicPen) {\n              output.append(placeholderArg);\n            } else {\n              output.appendInspected(placeholderArg);\n            }\n          } else {\n            output.text(match[0]);\n          }\n        } else {\n          output.error(token);\n        }\n      });\n    };\n  }\n\n  throw error;\n};\n\nfunction compareSpecificities(a, b) {\n  for (var i = 0; i < Math.min(a.length, b.length); i += 1) {\n    var c = b[i] - a[i];\n\n    if (c !== 0) {\n      return c;\n    }\n  }\n\n  return b.length - a.length;\n}\n\nfunction calculateAssertionSpecificity(_ref11) {\n  var subject = _ref11.subject,\n      args = _ref11.args;\n  return [subject.type.level].concat(args.map(function (_ref12) {\n    var minimum = _ref12.minimum,\n        maximum = _ref12.maximum,\n        type = _ref12.type;\n    var bonus = minimum === 1 && maximum === 1 ? 0.5 : 0;\n    return bonus + type.level;\n  }));\n}\n\nUnexpected.prototype.addAssertion = function (patternOrPatterns, handler, childUnexpected) {\n  if (this._frozen) {\n    throw new Error('Cannot add an assertion to a frozen instance, please run .clone() first');\n  }\n\n  var maxArguments;\n\n  if (_typeof(childUnexpected) === 'object') {\n    maxArguments = 3;\n  } else {\n    maxArguments = 2;\n  }\n\n  if (arguments.length > maxArguments || typeof handler !== 'function' || typeof patternOrPatterns !== 'string' && !Array.isArray(patternOrPatterns)) {\n    var errorMessage = 'Syntax: expect.addAssertion(<string|array[string]>, function (expect, subject, ...) { ... });';\n\n    if ((typeof handler === 'string' || Array.isArray(handler)) && typeof arguments[2] === 'function') {\n      errorMessage += '\\nAs of Unexpected 10, the syntax for adding assertions that apply only to specific\\n' + 'types has changed. See http://unexpected.js.org/api/addAssertion/';\n    }\n\n    throw new Error(errorMessage);\n  }\n\n  var patterns = Array.isArray(patternOrPatterns) ? patternOrPatterns : [patternOrPatterns];\n  patterns.forEach(function (pattern) {\n    if (typeof pattern !== 'string' || pattern === '') {\n      throw new Error('Assertion patterns must be a non-empty string');\n    } else {\n      if (pattern !== pattern.trim()) {\n        throw new Error(\"Assertion patterns can't start or end with whitespace:\\n\\n    \".concat(JSON.stringify(pattern)));\n      }\n    }\n  });\n  var that = this;\n  var assertions = this.assertions;\n  var defaultValueByFlag = {};\n  var assertionHandlers = [];\n  var maxNumberOfArgs = 0;\n  patterns.forEach(function (pattern) {\n    var assertionDeclarations = that.parseAssertion(pattern);\n    assertionDeclarations.forEach(function (_ref13) {\n      var assertion = _ref13.assertion,\n          args = _ref13.args,\n          subject = _ref13.subject;\n      ensureValidUseOfParenthesesOrBrackets(assertion);\n      var expandedAssertions = expandAssertion(assertion);\n      expandedAssertions.forEach(function (_ref14) {\n        var flags = _ref14.flags,\n            alternations = _ref14.alternations,\n            text = _ref14.text;\n        Object.keys(flags).forEach(function (flag) {\n          defaultValueByFlag[flag] = false;\n        });\n        maxNumberOfArgs = Math.max(maxNumberOfArgs, args.reduce(function (previous, _ref15) {\n          var maximum = _ref15.maximum;\n          return previous + (maximum === null ? Infinity : maximum);\n        }, 0));\n        assertionHandlers.push({\n          handler: handler,\n          alternations: alternations,\n          flags: flags,\n          subject: subject,\n          args: args,\n          testDescriptionString: text,\n          declaration: pattern,\n          unexpected: childUnexpected\n        });\n      });\n    });\n  });\n\n  if (handler.length - 2 > maxNumberOfArgs) {\n    throw new Error(\"The provided assertion handler takes \".concat(handler.length - 2, \" parameters, but the type signature specifies a maximum of \").concat(maxNumberOfArgs, \":\\n\\n    \").concat(JSON.stringify(patterns)));\n  }\n\n  assertionHandlers.forEach(function (handler) {\n    // Make sure that all flags are defined.\n    handler.flags = extend({}, defaultValueByFlag, handler.flags);\n    var assertionHandlers = assertions[handler.testDescriptionString];\n    handler.specificity = calculateAssertionSpecificity(handler);\n\n    if (!assertionHandlers) {\n      assertions[handler.testDescriptionString] = [handler];\n    } else {\n      var i = 0;\n\n      while (i < assertionHandlers.length && compareSpecificities(handler.specificity, assertionHandlers[i].specificity) > 0) {\n        i += 1;\n      }\n\n      assertionHandlers.splice(i, 0, handler);\n    }\n  });\n  return this.expect; // for chaining\n};\n\nUnexpected.prototype.addType = function (type, childUnexpected) {\n  if (this._frozen) {\n    throw new Error('Cannot add a type to a frozen instance, please run .clone() first');\n  }\n\n  var that = this;\n  var baseType;\n\n  if (typeof type.name !== 'string' || !/^[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])$/i.test(type.name)) {\n    throw new Error('A type must be given a non-empty name and must match ^[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])$');\n  }\n\n  if (typeof type.identify !== 'function' && type.identify !== false) {\n    throw new Error(\"Type \".concat(type.name, \" must specify an identify function or be declared abstract by setting identify to false\"));\n  }\n\n  if (this.typeByName[type.name]) {\n    throw new Error(\"The type with the name \".concat(type.name, \" already exists\"));\n  }\n\n  if (type.base) {\n    baseType = this.getType(type.base);\n\n    if (!baseType) {\n      throw new Error(\"Unknown base type: \".concat(type.base));\n    }\n  } else {\n    baseType = anyType;\n  }\n\n  var extendedBaseType = Object.create(baseType);\n\n  extendedBaseType.inspect = function (value, depth, output) {\n    if (!output || !output.isMagicPen) {\n      throw new Error('You need to pass the output to baseType.inspect() as the third parameter');\n    }\n\n    return baseType.inspect(value, depth, output, function (value, depth) {\n      return output.clone().appendInspected(value, depth);\n    });\n  };\n\n  if (nodeJsCustomInspect !== 'inspect') {\n    extendedBaseType[nodeJsCustomInspect] = extendedBaseType.inspect;\n  }\n\n  extendedBaseType.diff = function (actual, expected, output) {\n    if (!output || !output.isMagicPen) {\n      throw new Error('You need to pass the output to baseType.diff() as the third parameter');\n    }\n\n    return baseType.diff(actual, expected, output.clone(), function (actual, expected) {\n      return that.diff(actual, expected, output.clone());\n    }, function (value, depth) {\n      return output.clone().appendInspected(value, depth);\n    }, that.equal.bind(that));\n  };\n\n  extendedBaseType.equal = function (actual, expected) {\n    return baseType.equal(actual, expected, that.equal.bind(that));\n  };\n\n  var extendedType = extend({}, baseType, type, {\n    baseType: extendedBaseType\n  });\n  var originalInspect = extendedType.inspect; // Prevent node.js' util.inspect from complaining about our inspect method:\n\n  if (nodeJsCustomInspect !== 'inspect') {\n    extendedType[nodeJsCustomInspect] = function () {\n      return \"type: \".concat(type.name);\n    };\n  }\n\n  extendedType.inspect = function (obj, depth, output, inspect) {\n    if (arguments.length < 2 || !output || !output.isMagicPen) {\n      return \"type: \".concat(type.name);\n    } else if (childUnexpected) {\n      var childOutput = childUnexpected.createOutput(output.format);\n      return originalInspect.call(this, obj, depth, childOutput, inspect) || childOutput;\n    } else {\n      return originalInspect.call(this, obj, depth, output, inspect) || output;\n    }\n  };\n\n  if (childUnexpected) {\n    extendedType.childUnexpected = childUnexpected;\n    var originalDiff = extendedType.diff;\n\n    extendedType.diff = function (actual, expected, output, inspect, diff, equal) {\n      var childOutput = childUnexpected.createOutput(output.format); // Make sure that already buffered up output is preserved:\n\n      childOutput.output = output.output;\n      return originalDiff.call(this, actual, expected, childOutput, inspect, diff, equal) || output;\n    };\n  }\n\n  if (extendedType.identify === false) {\n    this.types.push(extendedType);\n  } else {\n    this.types.unshift(extendedType);\n  }\n\n  extendedType.level = baseType.level + 1;\n  extendedType.typeEqualityCache = {};\n  this.typeByName[extendedType.name] = extendedType;\n  return this.expect;\n};\n\nUnexpected.prototype.addStyle = function () {\n  var _this$output;\n\n  if (this._frozen) {\n    throw new Error('Cannot add a style to a frozen instance, please run .clone() first');\n  }\n\n  (_this$output = this.output).addStyle.apply(_this$output, arguments);\n\n  return this.expect;\n};\n\nUnexpected.prototype.installTheme = function () {\n  var _this$output2;\n\n  if (this._frozen) {\n    throw new Error('Cannot install a theme into a frozen instance, please run .clone() first');\n  }\n\n  (_this$output2 = this.output).installTheme.apply(_this$output2, arguments);\n\n  return this.expect;\n};\n\nfunction getPluginName(plugin) {\n  if (typeof plugin === 'function') {\n    return utils.getFunctionName(plugin);\n  } else {\n    return plugin.name;\n  }\n}\n\nUnexpected.prototype.use = function (plugin) {\n  if (this._frozen) {\n    throw new Error('Cannot install a plugin into a frozen instance, please run .clone() first');\n  }\n\n  if (typeof plugin !== 'function' && (_typeof(plugin) !== 'object' || typeof plugin.installInto !== 'function') || typeof plugin.name !== 'undefined' && typeof plugin.name !== 'string') {\n    throw new Error('Plugins must be functions or adhere to the following interface\\n' + '{\\n' + '  name: <an optional plugin name>,\\n' + '  version: <an optional semver version string>,\\n' + '  installInto: <a function that will update the given expect instance>\\n' + '}');\n  }\n\n  var pluginName = getPluginName(plugin);\n  var existingPlugin = utils.findFirst(this.installedPlugins, function (installedPlugin) {\n    if (installedPlugin === plugin) {\n      return true;\n    } else {\n      return pluginName && pluginName === getPluginName(installedPlugin);\n    }\n  });\n\n  if (existingPlugin) {\n    if (existingPlugin === plugin || typeof plugin.version !== 'undefined' && plugin.version === existingPlugin.version) {\n      // No-op\n      return this.expect;\n    } else {\n      throw new Error(\"Another instance of the plugin '\".concat(pluginName, \"' is already installed\").concat(typeof existingPlugin.version !== 'undefined' ? \" (version \".concat(existingPlugin.version).concat(typeof plugin.version !== 'undefined' ? \", trying to install \".concat(plugin.version) : '', \")\") : '', \". Please check your node_modules folder for unmet peerDependencies.\"));\n    }\n  }\n\n  if (pluginName === 'unexpected-promise') {\n    throw new Error('The unexpected-promise plugin was pulled into Unexpected as of 8.5.0. This means that the plugin is no longer supported.');\n  }\n\n  this.installedPlugins.push(plugin);\n\n  if (typeof plugin === 'function') {\n    plugin(this.expect);\n  } else {\n    plugin.installInto(this.expect);\n  }\n\n  return this.expect; // for chaining\n};\n\nUnexpected.prototype.withError = function (body, handler) {\n  return oathbreaker(makePromise(body).caught(function (e) {\n    throwIfNonUnexpectedError(e);\n    return handler(e);\n  }));\n};\n\nUnexpected.prototype.installPlugin = Unexpected.prototype.use; // Legacy alias\n\nfunction installExpectMethods(unexpected) {\n  var expect = function expect() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    /// ...\n    return unexpected._expect(new Context(unexpected), args);\n  };\n\n  expect.it = unexpected.it.bind(unexpected);\n  expect.equal = unexpected.equal.bind(unexpected);\n  expect.inspect = unexpected.inspect.bind(unexpected);\n\n  if (nodeJsCustomInspect !== 'inspect') {\n    expect[nodeJsCustomInspect] = unexpected[nodeJsCustomInspect].bind(unexpected);\n  }\n\n  expect.findTypeOf = unexpected.findTypeOf; // Already bound\n\n  expect.fail = function () {\n    try {\n      unexpected.fail.apply(unexpected, arguments);\n    } catch (e) {\n      if (e && e._isUnexpected) {\n        unexpected.setErrorMessage(e);\n      }\n\n      throw e;\n    }\n  };\n\n  expect.createOutput = unexpected.createOutput.bind(unexpected);\n  expect.diff = unexpected.diff.bind(unexpected);\n  expect.promise = makePromise;\n  expect.withError = unexpected.withError;\n  expect.addAssertion = unexpected.addAssertion.bind(unexpected);\n  expect.addStyle = unexpected.addStyle.bind(unexpected);\n  expect.installTheme = unexpected.installTheme.bind(unexpected);\n  expect.addType = unexpected.addType.bind(unexpected);\n  expect.getType = unexpected.getType;\n  expect.clone = unexpected.clone.bind(unexpected);\n  expect.child = unexpected.child.bind(unexpected);\n  expect.freeze = unexpected.freeze.bind(unexpected);\n  expect.toString = unexpected.toString.bind(unexpected);\n  expect.assertions = unexpected.assertions;\n  expect.use = expect.installPlugin = unexpected.use.bind(unexpected);\n  expect.output = unexpected.output;\n  expect.outputFormat = unexpected.outputFormat.bind(unexpected);\n  expect.notifyPendingPromise = notifyPendingPromise;\n\n  expect.hook = function (fn) {\n    unexpected._expect = fn(unexpected._expect.bind(unexpected));\n  }; // TODO For testing purpose while we don't have all the pieces yet\n\n\n  expect.parseAssertion = unexpected.parseAssertion.bind(unexpected);\n  return expect;\n}\n\nfunction calculateLimits(items) {\n  return items.reduce(function (result, _ref16) {\n    var minimum = _ref16.minimum,\n        maximum = _ref16.maximum;\n    result.minimum += minimum;\n    result.maximum += maximum;\n    return result;\n  }, {\n    minimum: 0,\n    maximum: 0\n  });\n}\n\nUnexpected.prototype.throwAssertionNotFoundError = function (subject, testDescriptionString, args) {\n  var candidateHandlers = this.assertions[testDescriptionString];\n  var that = this;\n  var instance = this;\n\n  while (instance && !candidateHandlers) {\n    candidateHandlers = instance.assertions[testDescriptionString];\n    instance = instance.parent;\n  }\n\n  if (candidateHandlers) {\n    this.fail({\n      message: function message(output) {\n        var subjectOutput = function subjectOutput(output) {\n          output.appendInspected(subject);\n        };\n\n        var argsOutput = function argsOutput(output) {\n          output.appendItems(args, ', ');\n        };\n\n        output.append(createStandardErrorMessage(output.clone(), subjectOutput, testDescriptionString, argsOutput)).nl().indentLines();\n        output.i().error('The assertion does not have a matching signature for:').nl().indentLines().i().text('<').text(that.findTypeOf(subject).name).text('>').sp().text(testDescriptionString);\n        args.forEach(function (arg, i) {\n          output.sp().text('<').text(that.findTypeOf(arg).name).text('>');\n        });\n        output.outdentLines().nl().i().text('did you mean:').indentLines().nl();\n        var assertionDeclarations = Object.keys(candidateHandlers.reduce(function (result, _ref17) {\n          var declaration = _ref17.declaration;\n          result[declaration] = true;\n          return result;\n        }, {})).sort();\n        assertionDeclarations.forEach(function (declaration, i) {\n          output.nl(i > 0 ? 1 : 0).i().text(declaration);\n        });\n        output.outdentLines();\n      }\n    });\n  }\n\n  var assertionsWithScore = [];\n  var assertionStrings = [];\n  instance = this;\n\n  while (instance) {\n    assertionStrings.push.apply(assertionStrings, _toConsumableArray(Object.keys(instance.assertions)));\n    instance = instance.parent;\n  }\n\n  function compareAssertions(a, b) {\n    var aAssertion = that.lookupAssertionRule(subject, a, args);\n    var bAssertion = that.lookupAssertionRule(subject, b, args);\n\n    if (!aAssertion && !bAssertion) {\n      return 0;\n    }\n\n    if (aAssertion && !bAssertion) {\n      return -1;\n    }\n\n    if (!aAssertion && bAssertion) {\n      return 1;\n    }\n\n    return compareSpecificities(aAssertion.specificity, bAssertion.specificity);\n  }\n\n  assertionStrings.forEach(function (assertionString) {\n    var score = leven(testDescriptionString, assertionString);\n    assertionsWithScore.push({\n      assertion: assertionString,\n      score: score\n    });\n  }, this);\n  var bestMatch = assertionsWithScore.sort(function (a, b) {\n    var c = a.score - b.score;\n\n    if (c !== 0) {\n      return c;\n    }\n\n    if (a.assertion < b.assertion) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }).slice(0, 10).filter(function (_ref18, i, arr) {\n    var score = _ref18.score;\n    return Math.abs(score - arr[0].score) <= 2;\n  }).sort(function (a, b) {\n    var c = compareAssertions(a.assertion, b.assertion);\n\n    if (c !== 0) {\n      return c;\n    }\n\n    return a.score - b.score;\n  })[0];\n  this.fail({\n    errorMode: 'bubbleThrough',\n    message: function message(output) {\n      output.error(\"Unknown assertion '\").jsString(testDescriptionString).error(\"', did you mean: '\").jsString(bestMatch.assertion).error(\"'\");\n    }\n  });\n};\n\nUnexpected.prototype.lookupAssertionRule = function (subject, testDescriptionString, args, requireAssertionSuffix) {\n  var that = this;\n\n  if (typeof testDescriptionString !== 'string') {\n    throw new Error('The expect function requires the second parameter to be a string or an expect.it.');\n  }\n\n  var handlers;\n  var instance = this;\n\n  while (instance) {\n    var instanceHandlers = instance.assertions[testDescriptionString];\n\n    if (instanceHandlers) {\n      handlers = handlers ? handlers.concat(instanceHandlers) : instanceHandlers;\n    }\n\n    instance = instance.parent;\n  }\n\n  if (!handlers) {\n    return null;\n  }\n\n  var cachedTypes = {};\n\n  function findTypeOf(value, key) {\n    var type = cachedTypes[key];\n\n    if (!type) {\n      type = that.findTypeOf(value);\n      cachedTypes[key] = type;\n    }\n\n    return type;\n  }\n\n  function matches(value, assertionType, key, relaxed) {\n    if (assertionType.is('assertion') && typeof value === 'string') {\n      return true;\n    }\n\n    if (relaxed) {\n      if (assertionType.identify === false) {\n        return that.types.some(function (type) {\n          return type.identify && type.is(assertionType) && type.identify(value);\n        });\n      }\n\n      return assertionType.identify(value);\n    } else {\n      return findTypeOf(value, key).is(assertionType);\n    }\n  }\n\n  function matchesHandler(handler, relaxed) {\n    if (!matches(subject, handler.subject.type, 'subject', relaxed)) {\n      return false;\n    }\n\n    if (requireAssertionSuffix && !handler.args.some(isAssertionArg)) {\n      return false;\n    }\n\n    var requireArgumentsLength = calculateLimits(handler.args);\n\n    if (args.length < requireArgumentsLength.minimum || requireArgumentsLength.maximum < args.length) {\n      return false;\n    } else if (args.length === 0 && requireArgumentsLength.maximum === 0) {\n      return true;\n    }\n\n    var lastRequirement = handler.args[handler.args.length - 1];\n    return args.every(function (arg, i) {\n      if (i < handler.args.length - 1) {\n        return matches(arg, handler.args[i].type, i, relaxed);\n      } else {\n        return matches(arg, lastRequirement.type, i, relaxed);\n      }\n    });\n  }\n\n  var j, handler;\n\n  for (j = 0; j < handlers.length; j += 1) {\n    handler = handlers[j];\n\n    if (matchesHandler(handler)) {\n      return handler;\n    }\n  }\n\n  for (j = 0; j < handlers.length; j += 1) {\n    handler = handlers[j];\n\n    if (matchesHandler(handler, true)) {\n      return handler;\n    }\n  }\n\n  return null;\n};\n\nfunction makeExpectFunction(unexpected) {\n  var expect = installExpectMethods(unexpected);\n  unexpected.expect = expect;\n  return expect;\n}\n\nUnexpected.prototype.setErrorMessage = function (err) {\n  err.serializeMessage(this.outputFormat());\n};\n\nUnexpected.prototype._expect = function expect(context, args) {\n  var that = this;\n  var subject = args[0];\n  var testDescriptionString = args[1];\n\n  if (args.length < 2) {\n    throw new Error('The expect function requires at least two parameters.');\n  } else if (typeof testDescriptionString === 'function') {\n    return that.expect.withError(function () {\n      return testDescriptionString(subject);\n    }, function (err) {\n      that.fail(err);\n    });\n  }\n\n  function executeExpect(context, subject, testDescriptionString, args) {\n    var _assertionRule;\n\n    var assertionRule = that.lookupAssertionRule(subject, testDescriptionString, args);\n\n    if (!assertionRule) {\n      var tokens = testDescriptionString.split(' '); // eslint-disable-next-line no-labels\n\n      OUTER: for (var n = tokens.length - 1; n > 0; n -= 1) {\n        var prefix = tokens.slice(0, n).join(' ');\n        var remainingTokens = tokens.slice(n);\n        var argsWithAssertionPrepended = [remainingTokens.join(' ')].concat(args);\n        assertionRule = that.lookupAssertionRule(subject, prefix, argsWithAssertionPrepended, true);\n\n        if (assertionRule) {\n          // Found the longest prefix of the string that yielded a suitable assertion for the given subject and args\n          // To avoid bogus error messages when shifting later (#394) we require some prefix of the remaining tokens\n          // to be a valid assertion name:\n          for (var i = 1; i < remainingTokens.length; i += 1) {\n            if (that.assertions.hasOwnProperty(remainingTokens.slice(0, i + 1).join(' '))) {\n              testDescriptionString = prefix;\n              args = argsWithAssertionPrepended; // eslint-disable-next-line no-labels\n\n              break OUTER;\n            }\n          }\n        }\n      }\n\n      if (!assertionRule) {\n        that.throwAssertionNotFoundError(subject, testDescriptionString, args);\n      }\n    }\n\n    if (assertionRule && assertionRule.unexpected && assertionRule.unexpected !== that) {\n      var _assertionRule$unexpe;\n\n      return (_assertionRule$unexpe = assertionRule.unexpected).expect.apply(_assertionRule$unexpe, [subject, testDescriptionString].concat(_toConsumableArray(args)));\n    }\n\n    var flags = extend({}, assertionRule.flags);\n\n    var wrappedExpect = function wrappedExpect(subject, testDescriptionString) {\n      if (arguments.length === 0) {\n        throw new Error('The expect function requires at least one parameter.');\n      } else if (arguments.length === 1) {\n        return addAdditionalPromiseMethods(makePromise.resolve(subject), wrappedExpect, subject);\n      } else if (typeof testDescriptionString === 'function') {\n        wrappedExpect.errorMode = 'nested';\n        return wrappedExpect.withError(function () {\n          return testDescriptionString(subject);\n        }, function (err) {\n          wrappedExpect.fail(err);\n        });\n      }\n\n      testDescriptionString = utils.forwardFlags(testDescriptionString, flags);\n      var args = new Array(arguments.length - 2);\n\n      for (var _i = 2; _i < arguments.length; _i += 1) {\n        args[_i - 2] = arguments[_i];\n      }\n\n      return wrappedExpect.callInNestedContext(function () {\n        return executeExpect(context.child(), subject, testDescriptionString, args);\n      });\n    };\n\n    utils.setPrototypeOfOrExtend(wrappedExpect, that._wrappedExpectProto);\n    wrappedExpect.context = context;\n    wrappedExpect.execute = wrappedExpect;\n    wrappedExpect.alternations = assertionRule.alternations;\n    wrappedExpect.flags = flags;\n    wrappedExpect.subject = subject;\n    wrappedExpect.testDescription = testDescriptionString;\n    wrappedExpect.args = args;\n    wrappedExpect.assertionRule = assertionRule;\n\n    wrappedExpect.subjectOutput = function (output) {\n      output.appendInspected(subject);\n    };\n\n    wrappedExpect.argsOutput = args.map(function (arg, i) {\n      var argRule = wrappedExpect.assertionRule.args[i];\n\n      if (typeof arg === 'string' && (argRule && argRule.type.is('assertion') || wrappedExpect._getAssertionIndices().indexOf(i) >= 0)) {\n        return new AssertionString(arg);\n      }\n\n      return function (output) {\n        output.appendInspected(arg);\n      };\n    }); // Eager-compute these properties in browsers that don't support getters\n    // (Object.defineProperty might be polyfilled by es5-sham):\n\n    if (!Object.__defineGetter__) {\n      wrappedExpect.subjectType = wrappedExpect._getSubjectType();\n      wrappedExpect.argTypes = wrappedExpect._getArgTypes();\n    }\n\n    return oathbreaker((_assertionRule = assertionRule).handler.apply(_assertionRule, [wrappedExpect, subject].concat(_toConsumableArray(args))));\n  }\n\n  try {\n    var result = executeExpect(context, subject, testDescriptionString, Array.prototype.slice.call(args, 2));\n\n    if (utils.isPromise(result)) {\n      result = wrapPromiseIfNecessary(result);\n\n      if (result.isPending()) {\n        that.expect.notifyPendingPromise(result);\n        result = result.then(undefined, function (e) {\n          if (e && e._isUnexpected && context.level === 0) {\n            that.setErrorMessage(e);\n          }\n\n          throw e;\n        });\n      }\n    } else {\n      result = makePromise.resolve(result);\n    }\n\n    return addAdditionalPromiseMethods(result, that.expect, subject);\n  } catch (e) {\n    if (e && e._isUnexpected) {\n      var newError = e;\n\n      if (typeof mochaPhantomJS !== 'undefined') {\n        newError = e.clone();\n      }\n\n      if (context.level === 0) {\n        that.setErrorMessage(newError);\n      }\n\n      throw newError;\n    }\n\n    throw e;\n  }\n};\n\nUnexpected.prototype.diff = function (a, b) {\n  var output = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.createOutput();\n  var recursions = arguments.length > 3 ? arguments[3] : undefined;\n  var seen = arguments.length > 4 ? arguments[4] : undefined;\n  var that = this;\n  var maxRecursions = 100;\n  recursions = typeof recursions === 'number' ? recursions : maxRecursions;\n\n  if (recursions <= 0) {\n    // detect recursive loops in the structure\n    seen = seen || [];\n\n    if (seen.indexOf(a) !== -1) {\n      throw new Error('Cannot compare circular structures');\n    }\n\n    seen.push(a);\n  }\n\n  return this.findCommonType(a, b).diff(a, b, output, function (actual, expected) {\n    return that.diff(actual, expected, output.clone(), recursions - 1, seen);\n  }, function (v, depth) {\n    return output.clone().appendInspected(v, depth);\n  }, function (actual, expected) {\n    return that.equal(actual, expected);\n  });\n};\n\nUnexpected.prototype.toString = function () {\n  var assertions = this.assertions;\n  var seen = {};\n  var declarations = [];\n  var pen = magicpen();\n  Object.keys(assertions).sort().forEach(function (key) {\n    assertions[key].forEach(function (_ref19) {\n      var declaration = _ref19.declaration;\n\n      if (!seen[declaration]) {\n        declarations.push(declaration);\n        seen[declaration] = true;\n      }\n    });\n  });\n  declarations.forEach(function (declaration) {\n    pen.text(declaration).nl();\n  });\n  return pen.toString();\n};\n\nUnexpected.prototype.clone = function () {\n  var clonedAssertions = {};\n  Object.keys(this.assertions).forEach(function (assertion) {\n    clonedAssertions[assertion] = [].concat(this.assertions[assertion]);\n  }, this);\n  var unexpected = new Unexpected({\n    assertions: clonedAssertions,\n    types: [].concat(this.types),\n    typeByName: extend({}, this.typeByName),\n    output: this.output.clone(),\n    format: this.outputFormat(),\n    installedPlugins: [].concat(this.installedPlugins)\n  }); // Install the hooks:\n\n  unexpected._expect = this._expect; // Make sure that changes to the parent's preferredWidth doesn't propagate:\n\n  unexpected.output.preferredWidth = this.output.preferredWidth;\n  return makeExpectFunction(unexpected);\n};\n\nUnexpected.prototype.child = function () {\n  var childUnexpected = new Unexpected({\n    assertions: {},\n    types: [],\n    typeByName: {},\n    output: this.output.clone(),\n    format: this.outputFormat(),\n    installedPlugins: []\n  });\n  var parent = childUnexpected.parent = this;\n  var childExpect = makeExpectFunction(childUnexpected);\n\n  childExpect.exportAssertion = function (testDescription, handler) {\n    parent.addAssertion(testDescription, handler, childUnexpected);\n    return this;\n  };\n\n  childExpect.exportType = function (type) {\n    if (childExpect.getType(type.name) !== type) {\n      childExpect.addType(type);\n    }\n\n    parent.addType(type, childUnexpected);\n    return this;\n  };\n\n  childExpect.exportStyle = function (name, handler) {\n    parent.addStyle(name, function () {\n      var childOutput = childExpect.createOutput(this.format);\n\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this.append(handler.call.apply(handler, [childOutput].concat(args)) || childOutput);\n    });\n    return this;\n  };\n\n  return childExpect;\n};\n\nUnexpected.prototype.freeze = function () {\n  this._frozen = true;\n  return this.expect;\n};\n\nUnexpected.prototype.outputFormat = function (format) {\n  if (typeof format === 'undefined') {\n    return this._outputFormat;\n  } else {\n    this._outputFormat = format;\n    return this.expect;\n  }\n};\n\nUnexpected.prototype.createOutput = function (format) {\n  var that = this;\n  var output = this.output.clone(format || 'text');\n  output.addStyle('appendInspected', function (value, depth) {\n    this.append(that.inspect(value, depth, this.clone()));\n  });\n  return output;\n};\n\nUnexpected.create = function () {\n  var unexpected = new Unexpected();\n  return makeExpectFunction(unexpected);\n};\n\nvar expandAssertion = function () {\n  function isFlag(token) {\n    return token.slice(0, 1) === '[' && token.slice(-1) === ']';\n  }\n\n  function isAlternation(token) {\n    return token.slice(0, 1) === '(' && token.slice(-1) === ')';\n  }\n\n  function removeEmptyStrings(texts) {\n    return texts.filter(function (text) {\n      return text !== '';\n    });\n  }\n\n  function createPermutations(tokens, index) {\n    if (index === tokens.length) {\n      return [{\n        text: '',\n        flags: {},\n        alternations: []\n      }];\n    }\n\n    var token = tokens[index];\n    var tail = createPermutations(tokens, index + 1);\n\n    if (isFlag(token)) {\n      var flag = token.slice(1, -1);\n      return tail.map(function (pattern) {\n        var flags = {};\n        flags[flag] = true;\n        return {\n          text: \"\".concat(flag, \" \").concat(pattern.text),\n          flags: extend(flags, pattern.flags),\n          alternations: pattern.alternations\n        };\n      }).concat(tail.map(function (pattern) {\n        var flags = {};\n        flags[flag] = false;\n        return {\n          text: pattern.text,\n          flags: extend(flags, pattern.flags),\n          alternations: pattern.alternations\n        };\n      }));\n    } else if (isAlternation(token)) {\n      return token.substr(1, token.length - 2) // Remove parentheses\n      .split(/\\|/).reduce(function (result, alternation) {\n        return result.concat(tail.map(function (_ref20) {\n          var text = _ref20.text,\n              flags = _ref20.flags,\n              alternations = _ref20.alternations;\n          return {\n            // Make sure that an empty alternation doesn't produce two spaces:\n            text: alternation ? alternation + text : text.replace(/^ /, ''),\n            flags: flags,\n            alternations: [alternation].concat(alternations)\n          };\n        }));\n      }, []);\n    } else {\n      return tail.map(function (_ref21) {\n        var text = _ref21.text,\n            flags = _ref21.flags,\n            alternations = _ref21.alternations;\n        return {\n          text: token + text,\n          flags: flags,\n          alternations: alternations\n        };\n      });\n    }\n  }\n\n  return function (pattern) {\n    pattern = pattern.replace(/(\\[[^\\]]+\\]) ?/g, '$1');\n    var splitRegex = /\\[[^\\]]+\\]|\\([^)]+\\)/g;\n    var tokens = [];\n    var m;\n    var lastIndex = 0;\n\n    while (m = splitRegex.exec(pattern)) {\n      tokens.push(pattern.slice(lastIndex, m.index));\n      tokens.push(pattern.slice(m.index, splitRegex.lastIndex));\n      lastIndex = splitRegex.lastIndex;\n    }\n\n    tokens.push(pattern.slice(lastIndex));\n    tokens = removeEmptyStrings(tokens);\n    var permutations = createPermutations(tokens, 0);\n    permutations.forEach(function (permutation) {\n      permutation.text = permutation.text.trim();\n\n      if (permutation.text === '') {\n        // This can only happen if the pattern only contains flags\n        throw new Error('Assertion patterns must not only contain flags');\n      }\n    });\n    return permutations;\n  };\n}();\n\nfunction ensureValidUseOfParenthesesOrBrackets(pattern) {\n  var counts = {\n    '[': 0,\n    ']': 0,\n    '(': 0,\n    ')': 0\n  };\n\n  for (var i = 0; i < pattern.length; i += 1) {\n    var c = pattern.charAt(i);\n\n    if (c in counts) {\n      counts[c] += 1;\n    }\n\n    if (c === ']' && counts['['] >= counts[']']) {\n      if (counts['['] === counts[']'] + 1) {\n        throw new Error(\"Assertion patterns must not contain flags with brackets: '\".concat(pattern, \"'\"));\n      }\n\n      if (counts['('] !== counts[')']) {\n        throw new Error(\"Assertion patterns must not contain flags with parentheses: '\".concat(pattern, \"'\"));\n      }\n\n      if (pattern.charAt(i - 1) === '[') {\n        throw new Error(\"Assertion patterns must not contain empty flags: '\".concat(pattern, \"'\"));\n      }\n    } else if (c === ')' && counts['('] >= counts[')']) {\n      if (counts['('] === counts[')'] + 1) {\n        throw new Error(\"Assertion patterns must not contain alternations with parentheses: '\".concat(pattern, \"'\"));\n      }\n\n      if (counts['['] !== counts[']']) {\n        throw new Error(\"Assertion patterns must not contain alternations with brackets: '\".concat(pattern, \"'\"));\n      }\n    }\n  }\n\n  if (counts['['] !== counts[']']) {\n    throw new Error(\"Assertion patterns must not contain unbalanced brackets: '\".concat(pattern, \"'\"));\n  }\n\n  if (counts['('] !== counts[')']) {\n    throw new Error(\"Assertion patterns must not contain unbalanced parentheses: '\".concat(pattern, \"'\"));\n  }\n}\n\nmodule.exports = Unexpected;","function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath = void 0;\n\n        var addPath = bestPath[diagonalPath - 1],\n            removePath = bestPath[diagonalPath + 1],\n            _oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen,\n            canRemove = removePath && 0 <= _oldPos && _oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        _oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && _oldPos + 1 >= oldLen) {\n          return done(buildValues(self, basePath.components, newString, oldString, self.useLongestToken));\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          // This should not happen, but we want to be safe.\n\n          /* istanbul ignore next */\n          if (editLength > maxEditLength) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  pushComponent: function pushComponent(components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        newPos = basePath.newPos,\n        oldPos = newPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, components, newString, oldString, useLongestToken) {\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var lastComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof lastComponent.value === 'string' && (lastComponent.added || lastComponent.removed) && diff.equals('', lastComponent.value)) {\n    components[componentLen - 2].value += lastComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 0080–00FF\n//  - U+00D7  × Multiplication sign\n//  - U+00F7  ÷ Division sign\n// Latin Extended-A, 0100–017F\n// Latin Extended-B, 0180–024F\n// IPA Extensions, 0250–02AF\n// Spacing Modifier Letters, 02B0–02FF\n//  - U+02C7  ˇ &#711;  Caron\n//  - U+02D8  ˘ &#728;  Breve\n//  - U+02D9  ˙ &#729;  Dot Above\n//  - U+02DA  ˚ &#730;  Ring Above\n//  - U+02DB  ˛ &#731;  Ogonek\n//  - U+02DC  ˜ &#732;  Small Tilde\n//  - U+02DD  ˝ &#733;  Double Acute Accent\n// Latin Extended Additional, 1E00–1EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  var tokens = value.split(/(\\s+|[()[\\]{}'\"]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction parsePatch(uniDiff) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: +chunkHeader[2] || 1,\n      newStart: +chunkHeader[3],\n      newLines: +chunkHeader[4] || 1,\n      lines: [],\n      linedelimiters: []\n    };\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n    return line === patchContent;\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    if (_toPos < 0) {\n      // Creating a new file\n      _toPos = 0;\n    }\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters[j];\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff = diffLines(oldStr, newStr, options);\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  var _loop = function _loop(i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      var _curRange;\n\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          var _curRange2;\n\n          // Overlapping\n          (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n        } else {\n          var _curRange3;\n\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    _loop(i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  var diff = structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options);\n  var ret = [];\n\n  if (oldFileName == newFileName) {\n    ret.push('Index: ' + oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i];\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\n/* See LICENSE file for terms of use */\n\nexport { Diff, diffChars, diffWords, diffWordsWithSpace, diffLines, diffTrimmedLines, diffSentences, diffCss, diffJson, diffArrays, structuredPatch, createTwoFilesPatch, createPatch, applyPatch, applyPatches, parsePatch, merge, convertChangesToDMP, convertChangesToXML, canonicalize };\n","// eslint-disable-next-line no-control-regex\nmodule.exports = /([\\x00-\\x09\\x0B-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u037F-\\u0383\\u038B\\u038D\\u03A2\\u0528-\\u0530\\u0557\\u0558\\u0560\\u0588\\u058B-\\u058E\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EF\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB-\\u07FF\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F-\\u089F\\u08A1\\u08AD-\\u08E3\\u08FF\\u0978\\u0980\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FC-\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0C00\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C34\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5A-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C80\\u0C81\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0D01\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D45\\u0D49\\u0D4F-\\u0D56\\u0D58-\\u0D5F\\u0D64\\u0D65\\u0D76-\\u0D78\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EBA\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F5-\\u13FF\\u169D-\\u169F\\u16F1-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1878-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191D-\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C80-\\u1CBF\\u1CC8-\\u1CCF\\u1CF7-\\u1CFF\\u1DE7-\\u1DFB\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20BA-\\u20CF\\u20F1-\\u20FF\\u218A-\\u218F\\u23F4-\\u23FF\\u2427-\\u243F\\u244B-\\u245F\\u2700\\u2B4D-\\u2B4F\\u2B5A-\\u2BFF\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E3C-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u312E-\\u3130\\u318F\\u31BB-\\u31BF\\u31E4-\\u31EF\\u321F\\u32FF\\u4DB6-\\u4DBF\\u9FCD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA698-\\uA69E\\uA6F8-\\uA6FF\\uA78F\\uA794-\\uA79F\\uA7AB-\\uA7F7\\uA82C-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C5-\\uA8CD\\uA8DA-\\uA8DF\\uA8FC-\\uA8FF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9E0-\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAA7C-\\uAA7F\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F-\\uABBF\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE27-\\uFE2F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF])/g;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar utils = require('./utils');\n\nvar stringDiff = require('diff');\n\nvar specialCharRegExp = require('./specialCharRegExp');\n\nmodule.exports = function (expect) {\n  expect.installTheme({\n    styles: {\n      jsBoolean: 'jsPrimitive',\n      jsNumber: 'jsPrimitive',\n      error: ['red', 'bold'],\n      success: ['green', 'bold'],\n      diffAddedLine: 'green',\n      diffAddedHighlight: ['bgGreen', 'white'],\n      diffAddedSpecialChar: ['bgGreen', 'cyan', 'bold'],\n      diffRemovedLine: 'red',\n      diffRemovedHighlight: ['bgRed', 'white'],\n      diffRemovedSpecialChar: ['bgRed', 'cyan', 'bold'],\n      partialMatchHighlight: ['bgYellow']\n    }\n  });\n  expect.installTheme('html', {\n    palette: ['#993333', '#669933', '#314575', '#337777', '#710071', '#319916', '#BB1A53', '#999933', '#4311C2', '#996633', '#993399', '#333399', '#228842', '#C24747', '#336699', '#663399'],\n    styles: {\n      jsComment: '#969896',\n      jsFunctionName: '#795da3',\n      jsKeyword: '#a71d5d',\n      jsPrimitive: '#0086b3',\n      jsRegexp: '#183691',\n      jsString: '#df5000',\n      jsKey: '#555'\n    }\n  });\n  expect.installTheme('ansi', {\n    palette: ['#FF1A53', '#E494FF', '#1A53FF', '#FF1AC6', '#1AFF53', '#D557FF', '#81FF57', '#C6FF1A', '#531AFF', '#AFFF94', '#C61AFF', '#53FF1A', '#FF531A', '#1AFFC6', '#FFC61A', '#1AC6FF'],\n    styles: {\n      jsComment: 'gray',\n      jsFunctionName: 'jsKeyword',\n      jsKeyword: 'magenta',\n      jsNumber: [],\n      jsPrimitive: 'cyan',\n      jsRegexp: 'green',\n      jsString: 'cyan',\n      jsKey: '#666',\n      diffAddedHighlight: ['bgGreen', 'black'],\n      diffRemovedHighlight: ['bgRed', 'black'],\n      partialMatchHighlight: ['bgYellow', 'black']\n    }\n  });\n  expect.addStyle('colorByIndex', function (content, index) {\n    var palette = this.theme().palette;\n\n    if (palette) {\n      var color = palette[index % palette.length];\n      this.text(content, color);\n    } else {\n      this.text(content);\n    }\n  });\n  expect.addStyle('singleQuotedString', function (content) {\n    content = String(content);\n    this.jsString(\"'\").jsString( // eslint-disable-next-line no-control-regex\n    content.replace(/[\\\\\\x00-\\x1f']/g, function ($0) {\n      if ($0 === '\\n') {\n        return '\\\\n';\n      } else if ($0 === '\\r') {\n        return '\\\\r';\n      } else if ($0 === \"'\") {\n        return \"\\\\'\";\n      } else if ($0 === '\\\\') {\n        return '\\\\\\\\';\n      } else if ($0 === '\\t') {\n        return '\\\\t';\n      } else if ($0 === '\\b') {\n        return '\\\\b';\n      } else if ($0 === '\\f') {\n        return '\\\\f';\n      } else {\n        var charCode = $0.charCodeAt(0);\n        return \"\\\\x\".concat(charCode < 16 ? '0' : '').concat(charCode.toString(16));\n      }\n    })).jsString(\"'\");\n  });\n  expect.addStyle('propertyForObject', function (key, inspectedValue, isArrayLike) {\n    var keyOmitted = false;\n    var isSymbol;\n    isSymbol = _typeof(key) === 'symbol';\n\n    if (isSymbol) {\n      this.text('[').appendInspected(key).text(']').text(':');\n    } else {\n      key = String(key);\n\n      if (/^[a-z$_][a-z0-9$_]*$/i.test(key)) {\n        this.text(key, 'jsKey').text(':');\n      } else if (/^(?:0|[1-9][0-9]*)$/.test(key)) {\n        if (isArrayLike) {\n          keyOmitted = true;\n        } else {\n          this.jsNumber(key).text(':');\n        }\n      } else {\n        this.singleQuotedString(key).text(':');\n      }\n    }\n\n    if (!inspectedValue.isEmpty()) {\n      if (!keyOmitted) {\n        if (key.length > 5 && inspectedValue.isBlock() && inspectedValue.isMultiline()) {\n          this.indentLines();\n          this.nl().i();\n        } else {\n          this.sp();\n        }\n      }\n\n      this.append(inspectedValue);\n    }\n  }); // Intended to be redefined by a plugin that offers syntax highlighting:\n\n  expect.addStyle('code', function (content, language) {\n    this.text(content);\n  });\n  expect.addStyle('annotationBlock', function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var pen = this.getContentFromArguments(args);\n    var height = pen.size().height;\n    this.block(function () {\n      for (var i = 0; i < height; i += 1) {\n        if (i > 0) {\n          this.nl();\n        }\n\n        this.error('//');\n      }\n    });\n    this.sp().block(pen);\n  });\n  expect.addStyle('commentBlock', function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var pen = this.getContentFromArguments(args);\n    var height = pen.size().height;\n    this.block(function () {\n      for (var i = 0; i < height; i += 1) {\n        if (i > 0) {\n          this.nl();\n        }\n\n        this.jsComment('//');\n      }\n    });\n    this.sp().block(pen);\n  });\n  expect.addStyle('removedHighlight', function (content) {\n    this.alt({\n      text: function text() {\n        content.split(/(\\n)/).forEach(function (fragment) {\n          this.block(function () {\n            this.text(fragment.replace(/\\n/g, '\\\\n')).nl().text(fragment.replace(/[\\s\\S]/g, '^'));\n          });\n\n          if (fragment === '\\n') {\n            this.nl();\n          }\n        }, this);\n      },\n      fallback: function fallback() {\n        var _this = this;\n\n        content.split(/(\\n)/).forEach(function (fragment) {\n          if (fragment === '\\n') {\n            _this.diffRemovedSpecialChar('\\\\n').nl();\n          } else {\n            _this.diffRemovedHighlight(fragment);\n          }\n        });\n      }\n    });\n  });\n  expect.addStyle('match', function (content) {\n    this.alt({\n      text: function text() {\n        content.split(/(\\n)/).forEach(function (fragment) {\n          if (fragment === '\\n') {\n            this.nl();\n          } else {\n            this.block(function () {\n              this.text(fragment).nl().text(fragment.replace(/[\\s\\S]/g, '^'));\n            });\n          }\n        }, this);\n      },\n      fallback: function fallback() {\n        this.diffAddedHighlight(content);\n      }\n    });\n  });\n  expect.addStyle('partialMatch', function (content) {\n    this.alt({\n      text: function text() {\n        // We haven't yet come up with a good styling for partial matches in text mode\n        this.match(content);\n      },\n      fallback: function fallback() {\n        this.partialMatchHighlight(content);\n      }\n    });\n  });\n  expect.addStyle('shouldEqualError', function (expected) {\n    this.error(typeof expected === 'undefined' ? 'should be' : 'should equal').sp().block(function () {\n      this.appendInspected(expected);\n    });\n  });\n  expect.addStyle('errorName', function (_ref) {\n    var name = _ref.name,\n        constructor = _ref.constructor;\n\n    if (typeof name === 'string' && name !== 'Error') {\n      this.text(name);\n    } else if (constructor && typeof constructor.name === 'string') {\n      this.text(constructor.name);\n    } else {\n      this.text('Error');\n    }\n  });\n  expect.addStyle('appendErrorMessage', function (error, options) {\n    if (error && error.isUnexpected) {\n      this.append(error.getErrorMessage(utils.extend({\n        output: this\n      }, options)));\n    } else {\n      this.appendInspected(error);\n    }\n  });\n  expect.addStyle('appendItems', function (items, separator) {\n    var that = this;\n    separator = separator || '';\n    items.forEach(function (item, index) {\n      if (index > 0) {\n        that.append(separator);\n      }\n\n      that.appendInspected(item);\n    });\n  });\n  expect.addStyle('stringDiffFragment', function (ch, text, baseStyle, markUpSpecialCharacters) {\n    text.split(/\\n/).forEach(function (line, i, _ref2) {\n      var length = _ref2.length;\n\n      if (this.isAtStartOfLine()) {\n        this.alt({\n          text: ch,\n          fallback: function fallback() {\n            if (line === '' && ch !== ' ' && (i === 0 || i !== length - 1)) {\n              this[ch === '+' ? 'diffAddedSpecialChar' : 'diffRemovedSpecialChar']('\\\\n');\n            }\n          }\n        });\n      }\n\n      var matchTrailingSpace = line.match(/^(.*[^ ])?( +)$/);\n\n      if (matchTrailingSpace) {\n        line = matchTrailingSpace[1] || '';\n      }\n\n      if (markUpSpecialCharacters) {\n        line.split(specialCharRegExp).forEach(function (part) {\n          if (specialCharRegExp.test(part)) {\n            this[{\n              '+': 'diffAddedSpecialChar',\n              '-': 'diffRemovedSpecialChar'\n            }[ch] || baseStyle](utils.escapeChar(part));\n          } else {\n            this[baseStyle](part);\n          }\n        }, this);\n      } else {\n        this[baseStyle](line);\n      }\n\n      if (matchTrailingSpace) {\n        this[{\n          '+': 'diffAddedHighlight',\n          '-': 'diffRemovedHighlight'\n        }[ch] || baseStyle](matchTrailingSpace[2]);\n      }\n\n      if (i !== length - 1) {\n        this.nl();\n      }\n    }, this);\n  });\n  expect.addStyle('stringDiff', function (actual, expected) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var type = options.type || 'WordsWithSpace';\n    var diffLines = [];\n    var lastPart;\n    stringDiff.diffLines(actual, expected).forEach(function (part) {\n      if (lastPart && lastPart.removed && part.added) {\n        diffLines.push({\n          oldValue: lastPart.value,\n          newValue: part.value,\n          replaced: true\n        });\n        lastPart = null;\n      } else {\n        if (lastPart) {\n          diffLines.push(lastPart);\n        }\n\n        lastPart = part;\n      }\n    });\n\n    if (lastPart) {\n      diffLines.push(lastPart);\n    }\n\n    diffLines.forEach(function (part, index) {\n      if (part.replaced) {\n        var oldValue = part.oldValue;\n        var newValue = part.newValue;\n        var newLine = this.clone();\n        var oldEndsWithNewline = oldValue.slice(-1) === '\\n';\n        var newEndsWithNewline = newValue.slice(-1) === '\\n';\n\n        if (oldEndsWithNewline) {\n          oldValue = oldValue.slice(0, -1);\n        }\n\n        if (newEndsWithNewline) {\n          newValue = newValue.slice(0, -1);\n        }\n\n        stringDiff[\"diff\".concat(type)](oldValue, newValue).forEach(function (_ref3) {\n          var added = _ref3.added,\n              value = _ref3.value,\n              removed = _ref3.removed;\n\n          if (added) {\n            newLine.stringDiffFragment('+', value, 'diffAddedHighlight', options.markUpSpecialCharacters);\n          } else if (removed) {\n            this.stringDiffFragment('-', value, 'diffRemovedHighlight', options.markUpSpecialCharacters);\n          } else {\n            newLine.stringDiffFragment('+', value, 'diffAddedLine');\n            this.stringDiffFragment('-', value, 'diffRemovedLine');\n          }\n        }, this);\n\n        if (newEndsWithNewline && !oldEndsWithNewline) {\n          newLine.diffAddedSpecialChar('\\\\n');\n        }\n\n        if (oldEndsWithNewline && !newEndsWithNewline) {\n          this.diffRemovedSpecialChar('\\\\n');\n        }\n\n        this.nl().append(newLine).nl(oldEndsWithNewline && index < diffLines.length - 1 ? 1 : 0);\n      } else {\n        var endsWithNewline = /\\n$/.test(part.value);\n        var value = endsWithNewline ? part.value.slice(0, -1) : part.value;\n\n        if (part.added) {\n          this.stringDiffFragment('+', value, 'diffAddedLine', options.markUpSpecialCharacters);\n        } else if (part.removed) {\n          this.stringDiffFragment('-', value, 'diffRemovedLine', options.markUpSpecialCharacters);\n        } else {\n          this.stringDiffFragment(' ', value, 'text');\n        }\n\n        if (endsWithNewline) {\n          this.nl();\n        }\n      }\n    }, this);\n  });\n  expect.addStyle('arrow', function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var styles = options.styles || [];\n    var i;\n    this.nl(options.top || 0).sp(options.left || 0).text('┌', styles);\n\n    for (i = 1; i < options.width; i += 1) {\n      this.text(i === options.width - 1 && options.direction === 'up' ? '▷' : '─', styles);\n    }\n\n    this.nl();\n\n    for (i = 1; i < options.height - 1; i += 1) {\n      this.sp(options.left || 0).text('│', styles).nl();\n    }\n\n    this.sp(options.left || 0).text('└', styles);\n\n    for (i = 1; i < options.width; i += 1) {\n      this.text(i === options.width - 1 && options.direction === 'down' ? '▷' : '─', styles);\n    }\n  });\n\n  var flattenBlocksInLines = require('magicpen/lib/flattenBlocksInLines');\n\n  expect.addStyle('merge', function (pens) {\n    var flattenedPens = pens.map(function (_ref4) {\n      var output = _ref4.output;\n      return flattenBlocksInLines(output);\n    }).reverse();\n    var maxHeight = flattenedPens.reduce(function (maxHeight, _ref5) {\n      var length = _ref5.length;\n      return Math.max(maxHeight, length);\n    }, 0);\n    var blockNumbers = new Array(flattenedPens.length);\n    var blockOffsets = new Array(flattenedPens.length); // As long as there's at least one pen with a line left:\n\n    for (var lineNumber = 0; lineNumber < maxHeight; lineNumber += 1) {\n      if (lineNumber > 0) {\n        this.nl();\n      }\n\n      var i = void 0;\n\n      for (i = 0; i < blockNumbers.length; i += 1) {\n        blockNumbers[i] = 0;\n        blockOffsets[i] = 0;\n      }\n\n      var contentLeft = void 0;\n\n      do {\n        contentLeft = false;\n        var hasOutputChar = false;\n\n        for (i = 0; i < flattenedPens.length; i += 1) {\n          var currentLine = flattenedPens[i][lineNumber];\n\n          if (currentLine) {\n            while (currentLine[blockNumbers[i]] && blockOffsets[i] >= currentLine[blockNumbers[i]].args.content.length) {\n              blockNumbers[i] += 1;\n              blockOffsets[i] = 0;\n            }\n\n            var currentBlock = currentLine[blockNumbers[i]];\n\n            if (currentBlock) {\n              contentLeft = true;\n\n              if (!hasOutputChar) {\n                var ch = currentBlock.args.content.charAt(blockOffsets[i]);\n\n                if (ch !== ' ') {\n                  this.text(ch, currentBlock.args.styles);\n                  hasOutputChar = true;\n                }\n              }\n\n              blockOffsets[i] += 1;\n            }\n          }\n        }\n\n        if (!hasOutputChar && contentLeft) {\n          this.sp();\n        }\n      } while (contentLeft);\n    }\n  });\n  expect.addStyle('arrowsAlongsideChangeOutputs', function (packing, changeOutputs) {\n    if (packing) {\n      var topByChangeNumber = {};\n      var top = 0;\n      changeOutputs.forEach(function (changeOutput, index) {\n        topByChangeNumber[index] = top;\n        top += changeOutput.size().height;\n      });\n      var that = this;\n      var arrows = [];\n      packing.forEach(function (columnSet, i, _ref6) {\n        var length = _ref6.length;\n        columnSet.forEach(function (_ref7) {\n          var start = _ref7.start,\n              end = _ref7.end,\n              direction = _ref7.direction;\n          arrows.push(that.clone().arrow({\n            left: i * 2,\n            top: topByChangeNumber[start],\n            width: 1 + (length - i) * 2,\n            height: topByChangeNumber[end] - topByChangeNumber[start] + 1,\n            direction: direction\n          }));\n        });\n      });\n\n      if (arrows.length === 1) {\n        this.block(arrows[0]);\n      } else if (arrows.length > 1) {\n        this.block(function () {\n          this.merge(arrows);\n        });\n      }\n    } else {\n      this.i();\n    }\n\n    this.block(function () {\n      changeOutputs.forEach(function (changeOutput, index) {\n        this.nl(index > 0 ? 1 : 0);\n\n        if (!changeOutput.isEmpty()) {\n          this.sp(packing ? 1 : 0).append(changeOutput);\n        }\n      }, this);\n    });\n  });\n};","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","module.exports = arrayDiff;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n  this.index = index;\n  this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n  return {\n    type: this.type\n  , index: this.index\n  , values: this.values\n  };\n};\n\nfunction RemoveDiff(index, howMany) {\n  this.index = index;\n  this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type\n  , index: this.index\n  , howMany: this.howMany\n  };\n};\n\nfunction MoveDiff(from, to, howMany) {\n  this.from = from;\n  this.to = to;\n  this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type\n  , from: this.from\n  , to: this.to\n  , howMany: this.howMany\n  };\n};\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n\nfunction arrayDiff(before, after, equalFn) {\n  if (!equalFn) equalFn = strictEqual;\n\n  // Find all items in both the before and after array, and represent them\n  // as moves. Many of these \"moves\" may end up being discarded in the last\n  // pass if they are from an index to the same index, but we don't know this\n  // up front, since we haven't yet offset the indices.\n  //\n  // Also keep a map of all the indices accounted for in the before and after\n  // arrays. These maps are used next to create insert and remove diffs.\n  var beforeLength = before.length;\n  var afterLength = after.length;\n  var moves = [];\n  var beforeMarked = {};\n  var afterMarked = {};\n  for (var beforeIndex = 0; beforeIndex < beforeLength; beforeIndex++) {\n    var beforeItem = before[beforeIndex];\n    for (var afterIndex = 0; afterIndex < afterLength; afterIndex++) {\n      if (afterMarked[afterIndex]) continue;\n      if (!equalFn(beforeItem, after[afterIndex], beforeIndex, afterIndex)) continue;\n      var from = beforeIndex;\n      var to = afterIndex;\n      var howMany = 0;\n      do {\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n      } while (\n        beforeIndex < beforeLength &&\n        afterIndex < afterLength &&\n        equalFn(before[beforeIndex], after[afterIndex], beforeIndex, afterIndex) &&\n        !afterMarked[afterIndex]\n      );\n      moves.push(new MoveDiff(from, to, howMany));\n      beforeIndex--;\n      break;\n    }\n  }\n\n  // Create a remove for all of the items in the before array that were\n  // not marked as being matched in the after array as well\n  var removes = [];\n  for (beforeIndex = 0; beforeIndex < beforeLength;) {\n    if (beforeMarked[beforeIndex]) {\n      beforeIndex++;\n      continue;\n    }\n    var index = beforeIndex;\n    var howMany = 0;\n    while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n      howMany++;\n    }\n    removes.push(new RemoveDiff(index, howMany));\n  }\n\n  // Create an insert for all of the items in the after array that were\n  // not marked as being matched in the before array as well\n  var inserts = [];\n  for (afterIndex = 0; afterIndex < afterLength;) {\n    if (afterMarked[afterIndex]) {\n      afterIndex++;\n      continue;\n    }\n    var index = afterIndex;\n    var howMany = 0;\n    while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n      howMany++;\n    }\n    var values = after.slice(index, index + howMany);\n    inserts.push(new InsertDiff(index, values));\n  }\n\n  var insertsLength = inserts.length;\n  var removesLength = removes.length;\n  var movesLength = moves.length;\n  var i, j;\n\n  // Offset subsequent removes and moves by removes\n  var count = 0;\n  for (i = 0; i < removesLength; i++) {\n    var remove = removes[i];\n    remove.index -= count;\n    count += remove.howMany;\n    for (j = 0; j < movesLength; j++) {\n      var move = moves[j];\n      if (move.from >= remove.index) move.from -= remove.howMany;\n    }\n  }\n\n  // Offset moves by inserts\n  for (i = insertsLength; i--;) {\n    var insert = inserts[i];\n    var howMany = insert.values.length;\n    for (j = movesLength; j--;) {\n      var move = moves[j];\n      if (move.to >= insert.index) move.to -= howMany;\n    }\n  }\n\n  // Offset the to of moves by later moves\n  for (i = movesLength; i-- > 1;) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    for (j = i; j--;) {\n      var earlier = moves[j];\n      if (earlier.to >= move.to) earlier.to -= move.howMany;\n      if (earlier.to >= move.from) earlier.to += move.howMany;\n    }\n  }\n\n  // Only output moves that end up having an effect after offsetting\n  var outputMoves = [];\n\n  // Offset the from of moves by earlier moves\n  for (i = 0; i < movesLength; i++) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    outputMoves.push(move);\n    for (j = i + 1; j < movesLength; j++) {\n      var later = moves[j];\n      if (later.from >= move.from) later.from -= move.howMany;\n      if (later.from >= move.to) later.from += move.howMany;\n    }\n  }\n\n  return removes.concat(outputMoves, inserts);\n}\n","var arrayDiff = require('arraydiff-papandreou');\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i += 1) {\n        var source = arguments[i];\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    }\n    return target;\n}\n\nmodule.exports = function arrayChanges(actual, expected, equal, similar, options) {\n    if (Array.isArray(options) || typeof options === 'boolean') {\n        throw new Error([\n            'It looks like you are using arrayChanges includeNonNumericalProperties,',\n            'the API has changed. You need to supply it as an entry to an option object:',\n            'arrayChanges(actual, expected, equal, similar, {',\n            '  includeNonNumericalProperties: [\"foo\", \"bar\"]',\n            '})'\n        ].join('\\n'));\n    }\n\n    options = options || {};\n    var includeNonNumericalProperties = options.includeNonNumericalProperties;\n    var fallbackToItemByItemDiff = 'fallbackToItemByItemDiff' in options ? options.fallbackToItemByItemDiff : true;\n\n    var mutatedArray = new Array(actual.length);\n\n    for (var k = 0; k < actual.length; k += 1) {\n        mutatedArray[k] = {\n            type: 'similar',\n            value: actual[k],\n            actualIndex: k\n        };\n    }\n\n    equal = equal || function (a, b) {\n        return a === b;\n    };\n\n    similar = similar || function (a, b) {\n        return false;\n    };\n\n    var itemsDiff = arrayDiff(Array.prototype.slice.call(actual), Array.prototype.slice.call(expected), function (a, b, aIndex, bIndex) {\n        return equal(a, b, aIndex, bIndex) || similar(a, b, aIndex, bIndex);\n    });\n\n    function offsetIndex(index) {\n        var offsetIndex = 0;\n        var i;\n        for (i = 0; i < mutatedArray.length && offsetIndex < index; i += 1) {\n            if (mutatedArray[i].type !== 'remove' && mutatedArray[i].type !== 'moveSource') {\n                offsetIndex++;\n            }\n        }\n\n        return i;\n    }\n\n    var removes = itemsDiff.filter(function (diffItem) {\n        return diffItem.type === 'remove';\n    });\n\n    var removedItems = 0;\n    removes.forEach(function (diffItem) {\n        var removeIndex = removedItems + diffItem.index;\n        mutatedArray.slice(removeIndex, diffItem.howMany + removeIndex).forEach(function (v) {\n            v.type = 'remove';\n        });\n        removedItems += diffItem.howMany;\n    });\n\n    var moves = itemsDiff.filter(function (diffItem) {\n        return diffItem.type === 'move';\n    });\n\n\n    moves.forEach(function (diffItem) {\n        var moveFromIndex = offsetIndex(diffItem.from + 1) - 1;\n        var removed = mutatedArray.slice(moveFromIndex, diffItem.howMany + moveFromIndex);\n        var added = removed.map(function (v) {\n            return extend({}, v, { last: false, type: 'moveTarget' });\n        });\n        removed.forEach(function (v) {\n            v.type = 'moveSource';\n        });\n        var insertIndex = offsetIndex(diffItem.to);\n        Array.prototype.splice.apply(mutatedArray, [insertIndex, 0].concat(added));\n    });\n\n\n    var inserts = itemsDiff.filter(function (diffItem) {\n        return diffItem.type === 'insert';\n    });\n\n    inserts.forEach(function (diffItem) {\n        var added = new Array(diffItem.values.length);\n        for (var i = 0 ; i < diffItem.values.length ; i += 1) {\n            added[i] = {\n                type: 'insert',\n                value: diffItem.values[i],\n                expectedIndex: diffItem.index\n            };\n        }\n        var insertIndex = offsetIndex(diffItem.index);\n        Array.prototype.splice.apply(mutatedArray, [insertIndex, 0].concat(added));\n    });\n\n    var offset = 0;\n    mutatedArray.forEach(function (diffItem, index) {\n        var type = diffItem.type;\n        if (type === 'remove' || type === 'moveSource') {\n            offset -= 1;\n        } else if (type === 'similar') {\n            diffItem.expected = expected[offset + index];\n            diffItem.expectedIndex = offset + index;\n        }\n    });\n\n    var conflicts = mutatedArray.reduce(function (conflicts, item) {\n        return item.type === 'similar' || item.type === 'moveSource' || item.type === 'moveTarget' ? conflicts : conflicts + 1;\n    }, 0);\n\n    if (fallbackToItemByItemDiff) {\n        var c, i;\n        for (i = 0, c = 0; i < Math.max(actual.length, expected.length) && c <= conflicts; i += 1) {\n            if (\n                i >= actual.length || i >= expected.length || (!equal(actual[i], expected[i], i, i) && !similar(actual[i], expected[i], i, i))\n            ) {\n                c += 1;\n            }\n        }\n\n        if (c <= conflicts) {\n            mutatedArray = [];\n            var j;\n            for (j = 0; j < Math.min(actual.length, expected.length); j += 1) {\n                mutatedArray.push({\n                    type: 'similar',\n                    value: actual[j],\n                    expected: expected[j],\n                    actualIndex: j,\n                    expectedIndex: j\n                });\n            }\n\n            if (actual.length < expected.length) {\n                for (; j < Math.max(actual.length, expected.length); j += 1) {\n                    mutatedArray.push({\n                        type: 'insert',\n                        value: expected[j],\n                        expectedIndex: j\n                    });\n                }\n            } else {\n                for (; j < Math.max(actual.length, expected.length); j += 1) {\n                    mutatedArray.push({\n                        type: 'remove',\n                        value: actual[j],\n                        actualIndex: j\n                    });\n                }\n            }\n        }\n    }\n\n    mutatedArray.forEach(function (diffItem) {\n        if (diffItem.type === 'similar' && equal(diffItem.value, diffItem.expected, diffItem.actualIndex, diffItem.expectedIndex)) {\n            diffItem.type = 'equal';\n        }\n    });\n\n    if (includeNonNumericalProperties) {\n        var nonNumericalKeys;\n        if (Array.isArray(includeNonNumericalProperties)) {\n            nonNumericalKeys = includeNonNumericalProperties;\n        } else {\n            var isSeenByNonNumericalKey = {};\n            nonNumericalKeys = [];\n            [actual, expected].forEach(function (obj) {\n                Object.keys(obj).forEach(function (key) {\n                    if (!/^(?:0|[1-9][0-9]*)$/.test(key) && !isSeenByNonNumericalKey[key]) {\n                        isSeenByNonNumericalKey[key] = true;\n                        nonNumericalKeys.push(key);\n                    }\n                });\n                if (Object.getOwnPropertySymbols) {\n                    Object.getOwnPropertySymbols(obj).forEach(function (symbol) {\n                        if (!isSeenByNonNumericalKey[symbol]) {\n                            isSeenByNonNumericalKey[symbol] = true;\n                            nonNumericalKeys.push(symbol);\n                        }\n                    });\n                }\n            });\n        }\n        nonNumericalKeys.forEach(function (key) {\n            var valueExpected;\n\n            if (key in actual) {\n                var valueActual = actual[key];\n                valueExpected = expected[key];\n\n                if (key in expected && typeof valueExpected !== 'undefined') {\n                    valueExpected = expected[key];\n\n                    mutatedArray.push({\n                        type: equal(valueActual, valueExpected, key, key) ? 'equal' : 'similar',\n                        expectedIndex: key,\n                        actualIndex: key,\n                        value: valueActual,\n                        expected: valueExpected\n                    });\n                } else if (typeof valueActual !== 'undefined') {\n                    mutatedArray.push({\n                        type: 'remove',\n                        actualIndex: key,\n                        value: valueActual\n                    });\n                }\n            } else {\n                valueExpected = expected[key];\n\n                if (typeof valueExpected !== 'undefined') {\n                    mutatedArray.push({\n                        type: 'insert',\n                        expectedIndex: key,\n                        value: valueExpected\n                    });\n                }\n            }\n        });\n    }\n\n    if (mutatedArray.length > 0) {\n        mutatedArray[mutatedArray.length - 1].last = true;\n    }\n\n    return mutatedArray;\n};\n","'use strict';\nmodule.exports = Number.isNaN || function (x) {\n\treturn x !== x;\n};\n","'use strict';\nvar numberIsNan = require('number-is-nan');\n\nmodule.exports = Number.isFinite || function (val) {\n\treturn !(typeof val !== 'number' || numberIsNan(val) || val === Infinity || val === -Infinity);\n};\n","'use strict';\nvar isFinite = require('is-finite');\n\nmodule.exports = function (str, n) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string as the first argument');\n\t}\n\n\tif (n < 0 || !isFinite(n)) {\n\t\tthrow new TypeError('Expected a finite positive number');\n\t}\n\n\tvar ret = '';\n\n\tdo {\n\t\tif (n & 1) {\n\t\t\tret += str;\n\t\t}\n\n\t\tstr += str;\n\t} while (n = n >> 1);\n\n\treturn ret;\n};\n","'use strict';\nvar repeating = require('repeating');\n\n// detect either spaces or tabs but not both to properly handle tabs\n// for indentation and spaces for alignment\nvar INDENT_RE = /^(?:( )+|\\t+)/;\n\nfunction getMostUsed(indents) {\n\tvar result = 0;\n\tvar maxUsed = 0;\n\tvar maxWeight = 0;\n\n\tfor (var n in indents) {\n\t\tvar indent = indents[n];\n\t\tvar u = indent[0];\n\t\tvar w = indent[1];\n\n\t\tif (u > maxUsed || u === maxUsed && w > maxWeight) {\n\t\t\tmaxUsed = u;\n\t\t\tmaxWeight = w;\n\t\t\tresult = +n;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// used to see if tabs or spaces are the most used\n\tvar tabs = 0;\n\tvar spaces = 0;\n\n\t// remember the size of previous line's indentation\n\tvar prev = 0;\n\n\t// remember how many indents/unindents as occurred for a given size\n\t// and how much lines follow a given indentation\n\t//\n\t// indents = {\n\t//    3: [1, 0],\n\t//    4: [1, 5],\n\t//    5: [1, 0],\n\t//   12: [1, 0],\n\t// }\n\tvar indents = {};\n\n\t// pointer to the array of last used indent\n\tvar current;\n\n\t// whether the last action was an indent (opposed to an unindent)\n\tvar isIndent;\n\n\tstr.split(/\\n/g).forEach(function (line) {\n\t\tif (!line) {\n\t\t\t// ignore empty lines\n\t\t\treturn;\n\t\t}\n\n\t\tvar indent;\n\t\tvar matches = line.match(INDENT_RE);\n\n\t\tif (!matches) {\n\t\t\tindent = 0;\n\t\t} else {\n\t\t\tindent = matches[0].length;\n\n\t\t\tif (matches[1]) {\n\t\t\t\tspaces++;\n\t\t\t} else {\n\t\t\t\ttabs++;\n\t\t\t}\n\t\t}\n\n\t\tvar diff = indent - prev;\n\t\tprev = indent;\n\n\t\tif (diff) {\n\t\t\t// an indent or unindent has been detected\n\n\t\t\tisIndent = diff > 0;\n\n\t\t\tcurrent = indents[isIndent ? diff : -diff];\n\n\t\t\tif (current) {\n\t\t\t\tcurrent[0]++;\n\t\t\t} else {\n\t\t\t\tcurrent = indents[diff] = [1, 0];\n\t\t\t}\n\t\t} else if (current) {\n\t\t\t// if the last action was an indent, increment the weight\n\t\t\tcurrent[1] += +isIndent;\n\t\t}\n\t});\n\n\tvar amount = getMostUsed(indents);\n\n\tvar type;\n\tvar actual;\n\tif (!amount) {\n\t\ttype = null;\n\t\tactual = '';\n\t} else if (spaces >= tabs) {\n\t\ttype = 'space';\n\t\tactual = repeating(' ', amount);\n\t} else {\n\t\ttype = 'tab';\n\t\tactual = repeating('\\t', amount);\n\t}\n\n\treturn {\n\t\tamount: amount,\n\t\ttype: type,\n\t\tindent: actual\n\t};\n};\n","var _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar utils = require('./utils');\n\nvar isRegExp = utils.isRegExp;\nvar leftPad = utils.leftPad;\n\nvar arrayChanges = require('array-changes');\n\nvar leven = require('leven');\n\nvar detectIndent = require('detect-indent');\n\nvar defaultDepth = require('./defaultDepth');\n\nvar AssertionString = require('./AssertionString');\n\nmodule.exports = function (expect) {\n  expect.addType({\n    name: 'wrapperObject',\n    identify: false,\n    equal: function equal(a, b, _equal) {\n      return a === b || _equal(this.unwrap(a), this.unwrap(b));\n    },\n    inspect: function inspect(value, depth, output, _inspect) {\n      output.append(this.prefix(output.clone(), value));\n      output.append(_inspect(this.unwrap(value), depth));\n      output.append(this.suffix(output.clone(), value));\n      return output;\n    },\n    diff: function diff(actual, expected, output, _diff, inspect) {\n      output.inline = true;\n      actual = this.unwrap(actual);\n      expected = this.unwrap(expected);\n\n      var comparison = _diff(actual, expected);\n\n      var prefixOutput = this.prefix(output.clone(), actual);\n      var suffixOutput = this.suffix(output.clone(), actual);\n\n      if (comparison && comparison.inline) {\n        return output.append(prefixOutput).append(comparison).append(suffixOutput);\n      } else {\n        return output.append(prefixOutput).nl().indentLines().i().block(function () {\n          this.append(inspect(actual)).sp().annotationBlock(function () {\n            this.shouldEqualError(expected, inspect);\n\n            if (comparison) {\n              this.nl(2).append(comparison);\n            }\n          });\n        }).nl().outdentLines().append(suffixOutput);\n      }\n    }\n  });\n\n  if (typeof Symbol === 'function') {\n    expect.addType({\n      name: 'Symbol',\n      identify: function identify(obj) {\n        return _typeof(obj) === 'symbol';\n      },\n      inspect: function inspect(obj, depth, output, _inspect2) {\n        return output.jsKeyword('Symbol').text('(').singleQuotedString(obj.toString().replace(/^Symbol\\(|\\)$/g, '')).text(')');\n      }\n    });\n  }\n\n  expect.addType({\n    name: 'object',\n    indent: true,\n    forceMultipleLines: false,\n    identify: function identify(obj) {\n      return obj && _typeof(obj) === 'object';\n    },\n    prefix: function prefix(output, obj) {\n      var constructor = obj.constructor;\n      var constructorName = constructor && typeof constructor === 'function' && constructor !== Object && utils.getFunctionName(constructor);\n\n      if (constructorName && constructorName !== 'Object') {\n        output.text(\"\".concat(constructorName, \"(\"));\n      }\n\n      return output.text('{');\n    },\n    property: function property(output, key, inspectedValue, isArrayLike) {\n      return output.propertyForObject(key, inspectedValue, isArrayLike);\n    },\n    suffix: function suffix(output, obj) {\n      output.text('}');\n      var constructor = obj.constructor;\n      var constructorName = constructor && typeof constructor === 'function' && constructor !== Object && utils.getFunctionName(constructor);\n\n      if (constructorName && constructorName !== 'Object') {\n        output.text(')');\n      }\n\n      return output;\n    },\n    delimiter: function delimiter(output, i, length) {\n      if (i < length - 1) {\n        output.text(',');\n      }\n\n      return output;\n    },\n    getKeys: Object.getOwnPropertySymbols ? function (obj) {\n      var keys = Object.getOwnPropertyNames(obj);\n      var symbols = Object.getOwnPropertySymbols(obj);\n\n      if (symbols.length > 0) {\n        return keys.concat(symbols);\n      } else {\n        return keys;\n      }\n    } : Object.getOwnPropertyNames,\n    // If Symbol support is not detected default to undefined which, when\n    // passed to Array.prototype.sort, means \"natural\" (asciibetical) sort.\n    keyComparator: typeof Symbol === 'function' ? function (a, b) {\n      var aIsSymbol, bIsSymbol;\n      var aString = a;\n      var bString = b;\n      aIsSymbol = _typeof(a) === 'symbol';\n      bIsSymbol = _typeof(b) === 'symbol';\n\n      if (aIsSymbol) {\n        if (bIsSymbol) {\n          aString = a.toString();\n          bString = b.toString();\n        } else {\n          return 1;\n        }\n      } else if (bIsSymbol) {\n        return -1;\n      }\n\n      if (aString < bString) {\n        return -1;\n      } else if (aString > bString) {\n        return 1;\n      }\n\n      return 0;\n    } : undefined,\n    equal: function equal(a, b, _equal2) {\n      return utils.checkObjectEqualityUsingType(a, b, this, _equal2);\n    },\n    hasKey: function hasKey(obj, key, own) {\n      if (own) {\n        return Object.prototype.hasOwnProperty.call(obj, key);\n      } else {\n        return key in obj;\n      }\n    },\n    inspect: function inspect(obj, depth, output, _inspect3) {\n      var keys = this.getKeys(obj);\n\n      if (keys.length === 0) {\n        this.prefix(output, obj);\n        this.suffix(output, obj);\n        return output;\n      }\n\n      var type = this;\n      var inspectedItems = keys.map(function (key, index) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(obj, key);\n        var hasGetter = propertyDescriptor && propertyDescriptor.get;\n        var hasSetter = propertyDescriptor && propertyDescriptor.set;\n        var propertyOutput = output.clone();\n\n        if (hasSetter && !hasGetter) {\n          propertyOutput.text('set').sp();\n        } // Inspect the setter function if there's no getter:\n\n\n        var value;\n\n        if (hasSetter && !hasGetter) {\n          value = hasSetter;\n        } else {\n          value = type.valueForKey(obj, key);\n        }\n\n        var inspectedValue = _inspect3(value);\n\n        if (value && value._expectIt) {\n          inspectedValue = output.clone().block(inspectedValue);\n        }\n\n        type.property(propertyOutput, key, inspectedValue);\n        propertyOutput.amend(type.delimiter(output.clone(), index, keys.length));\n\n        if (hasGetter && hasSetter) {\n          propertyOutput.sp().jsComment('/* getter/setter */');\n        } else if (hasGetter) {\n          propertyOutput.sp().jsComment('/* getter */');\n        }\n\n        return propertyOutput;\n      });\n      var maxLineLength = output.preferredWidth - (depth === Infinity ? 0 : depth) * 2 - 2;\n      var width = 0;\n      var compact = inspectedItems.length > 5 || inspectedItems.every(function (inspectedItem) {\n        if (inspectedItem.isMultiline()) {\n          return false;\n        }\n\n        width += inspectedItem.size().width;\n        return width < maxLineLength;\n      });\n      var itemsOutput = output.clone();\n\n      if (compact) {\n        var currentLineLength = 0;\n        inspectedItems.forEach(function (inspectedItem, index) {\n          var size = inspectedItem.size();\n          currentLineLength += size.width + 1;\n\n          if (index > 0) {\n            if (size.height === 1 && currentLineLength < maxLineLength) {\n              itemsOutput.sp();\n            } else {\n              itemsOutput.nl();\n              currentLineLength = size.width;\n            }\n\n            if (size.height > 1) {\n              // Make sure that we don't append more to this line\n              currentLineLength = maxLineLength;\n            }\n          }\n\n          itemsOutput.append(inspectedItem);\n        });\n      } else {\n        inspectedItems.forEach(function (inspectedItem, index) {\n          if (index > 0) {\n            itemsOutput.nl();\n          }\n\n          itemsOutput.append(inspectedItem);\n        });\n      }\n\n      var prefixOutput = this.prefix(output.clone(), obj);\n      var suffixOutput = this.suffix(output.clone(), obj);\n      output.append(prefixOutput);\n\n      if (this.forceMultipleLines || itemsOutput.isMultiline()) {\n        if (!prefixOutput.isEmpty()) {\n          output.nl();\n        }\n\n        if (this.indent) {\n          output.indentLines().i();\n        }\n\n        output.block(itemsOutput);\n\n        if (this.indent) {\n          output.outdentLines();\n        }\n\n        if (!suffixOutput.isEmpty()) {\n          output.nl();\n        }\n      } else {\n        output.sp(prefixOutput.isEmpty() ? 0 : 1).append(itemsOutput).sp(suffixOutput.isEmpty() ? 0 : 1);\n      }\n\n      return output.append(suffixOutput);\n    },\n    diff: function diff(actual, expected, output, _diff2, inspect, equal) {\n      if (actual.constructor !== expected.constructor) {\n        return output.text('Mismatching constructors ').text(actual.constructor && utils.getFunctionName(actual.constructor) || actual.constructor).text(' should be ').text(expected.constructor && utils.getFunctionName(expected.constructor) || expected.constructor);\n      }\n\n      output.inline = true;\n      var actualKeys = this.getKeys(actual);\n      var expectedKeys = this.getKeys(expected);\n      var keys = this.uniqueKeys(actualKeys, expectedKeys);\n      var prefixOutput = this.prefix(output.clone(), actual);\n      output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n      if (this.indent) {\n        output.indentLines();\n      }\n\n      var type = this;\n      keys.forEach(function (key, index) {\n        output.nl(index > 0 ? 1 : 0).i().block(function () {\n          var valueActual = type.valueForKey(actual, key);\n          var valueExpected = type.valueForKey(expected, key);\n          var annotation = output.clone();\n          var conflicting = !equal(valueActual, valueExpected);\n          var isInlineDiff = false;\n          var valueOutput;\n\n          if (conflicting) {\n            if (!type.hasKey(expected, key)) {\n              annotation.error('should be removed');\n              isInlineDiff = true;\n            } else if (!type.hasKey(actual, key)) {\n              this.error('// missing').sp();\n              valueOutput = output.clone().appendInspected(valueExpected);\n              isInlineDiff = true;\n            } else {\n              var keyDiff = _diff2(valueActual, valueExpected);\n\n              if (!keyDiff || keyDiff && !keyDiff.inline) {\n                annotation.shouldEqualError(valueExpected);\n\n                if (keyDiff) {\n                  annotation.nl(2).append(keyDiff);\n                }\n              } else {\n                isInlineDiff = true;\n                valueOutput = keyDiff;\n              }\n            }\n          } else {\n            isInlineDiff = true;\n          }\n\n          if (!valueOutput) {\n            valueOutput = inspect(valueActual, conflicting ? Infinity : null);\n          }\n\n          valueOutput.amend(type.delimiter(output.clone(), index, actualKeys.length));\n\n          if (!isInlineDiff) {\n            valueOutput = output.clone().block(valueOutput);\n          }\n\n          type.property(this, key, valueOutput);\n\n          if (!annotation.isEmpty()) {\n            this.sp().annotationBlock(annotation);\n          }\n        });\n      });\n\n      if (this.indent) {\n        output.outdentLines();\n      }\n\n      var suffixOutput = this.suffix(output.clone(), actual);\n      return output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n    },\n    similar: function similar(a, b) {\n      var _this = this;\n\n      if (a === null || b === null) {\n        return false;\n      }\n\n      var typeA = _typeof(a);\n\n      var typeB = _typeof(b);\n\n      if (typeA !== typeB) {\n        return false;\n      }\n\n      if (typeA === 'string') {\n        return leven(a, b) < a.length / 2;\n      }\n\n      if (typeA !== 'object' || !a) {\n        return false;\n      }\n\n      if (utils.isArray(a) && utils.isArray(b)) {\n        return true;\n      }\n\n      var aKeys = this.getKeys(a);\n      var bKeys = this.getKeys(b);\n      var numberOfSimilarKeys = 0;\n      var requiredSimilarKeys = Math.round(Math.max(aKeys.length, bKeys.length) / 2);\n      return aKeys.concat(bKeys).some(function (key) {\n        if (_this.hasKey(a, key) && _this.hasKey(b, key)) {\n          numberOfSimilarKeys += 1;\n        }\n\n        return numberOfSimilarKeys >= requiredSimilarKeys;\n      });\n    },\n    uniqueKeys: utils.uniqueStringsAndSymbols,\n    valueForKey: function valueForKey(obj, key) {\n      return obj[key];\n    }\n  });\n  expect.addType({\n    name: 'type',\n    base: 'object',\n    identify: function identify(value) {\n      return value && value._unexpectedType;\n    },\n    inspect: function inspect(_ref, depth, output) {\n      var name = _ref.name;\n      return output.text('type: ').jsKeyword(name);\n    }\n  });\n  expect.addType({\n    name: 'array-like',\n    base: 'object',\n    identify: false,\n    numericalPropertiesOnly: true,\n    getKeys: function getKeys(obj) {\n      var keys = new Array(obj.length);\n\n      for (var i = 0; i < obj.length; i += 1) {\n        keys[i] = i;\n      }\n\n      if (!this.numericalPropertiesOnly) {\n        keys.push.apply(keys, _toConsumableArray(this.getKeysNonNumerical(obj)));\n      }\n\n      return keys;\n    },\n    getKeysNonNumerical: Object.getOwnPropertySymbols ? function (obj) {\n      var keys = [];\n      Object.keys(obj).forEach(function (key) {\n        if (!utils.numericalRegExp.test(key)) {\n          keys.push(key);\n        }\n      });\n      var symbols = Object.getOwnPropertySymbols(obj);\n\n      if (symbols.length > 0) {\n        keys.push.apply(keys, _toConsumableArray(symbols));\n      }\n\n      return keys;\n    } : function (obj) {\n      var keys = [];\n      Object.keys(obj).forEach(function (key) {\n        if (!utils.numericalRegExp.test(key)) {\n          keys.push(key);\n        }\n      });\n      return keys;\n    },\n    equal: function equal(a, b, _equal3) {\n      var _this2 = this;\n\n      if (a === b) {\n        return true;\n      } else if (a.constructor === b.constructor && a.length === b.length) {\n        var i; // compare numerically indexed elements\n\n        for (i = 0; i < a.length; i += 1) {\n          if (!_equal3(this.valueForKey(a, i), this.valueForKey(b, i))) {\n            return false;\n          }\n        } // compare non-numerical keys if enabled for the type\n\n\n        if (!this.numericalPropertiesOnly) {\n          var aKeys = this.getKeysNonNumerical(a).filter(function (key) {\n            // include keys whose value is not undefined\n            return typeof _this2.valueForKey(a, key) !== 'undefined';\n          });\n          var bKeys = this.getKeysNonNumerical(b).filter(function (key) {\n            // include keys whose value is not undefined on either LHS or RHS\n            return typeof _this2.valueForKey(b, key) !== 'undefined' || typeof _this2.valueForKey(a, key) !== 'undefined';\n          });\n\n          if (aKeys.length !== bKeys.length) {\n            return false;\n          }\n\n          for (i = 0; i < aKeys.length; i += 1) {\n            if (!_equal3(this.valueForKey(a, aKeys[i]), this.valueForKey(b, bKeys[i]))) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      } else {\n        return false;\n      }\n    },\n    prefix: function prefix(output) {\n      return output.text('[');\n    },\n    suffix: function suffix(output) {\n      return output.text(']');\n    },\n    inspect: function inspect(arr, depth, output, _inspect4) {\n      var _this3 = this;\n\n      var prefixOutput = this.prefix(output.clone(), arr);\n      var suffixOutput = this.suffix(output.clone(), arr);\n      var keys = this.getKeys(arr);\n\n      if (keys.length === 0) {\n        return output.append(prefixOutput).append(suffixOutput);\n      }\n\n      if (depth === 1 && arr.length > 10) {\n        return output.append(prefixOutput).text('...').append(suffixOutput);\n      }\n\n      var inspectedItems = keys.map(function (key) {\n        var inspectedValue;\n\n        if (_this3.hasKey(arr, key)) {\n          inspectedValue = _inspect4(_this3.valueForKey(arr, key));\n        } else if (utils.numericalRegExp.test(key)) {\n          // Sparse array entry\n          inspectedValue = output.clone();\n        } else {\n          // Not present non-numerical property returned by getKeys\n          inspectedValue = _inspect4(undefined);\n        }\n\n        return _this3.property(output.clone(), key, inspectedValue, true);\n      });\n      var currentDepth = defaultDepth - Math.min(defaultDepth, depth);\n      var maxLineLength = output.preferredWidth - 20 - currentDepth * output.indentationWidth - 2;\n      var width = 0;\n      var multipleLines = this.forceMultipleLines || inspectedItems.some(function (o) {\n        if (o.isMultiline()) {\n          return true;\n        }\n\n        var size = o.size();\n        width += size.width;\n        return width > maxLineLength;\n      });\n      inspectedItems.forEach(function (inspectedItem, index) {\n        inspectedItem.amend(_this3.delimiter(output.clone(), index, keys.length));\n      });\n\n      if (multipleLines) {\n        output.append(prefixOutput);\n\n        if (!prefixOutput.isEmpty()) {\n          output.nl();\n        }\n\n        if (this.indent) {\n          output.indentLines();\n        }\n\n        inspectedItems.forEach(function (inspectedItem, index) {\n          output.nl(index > 0 ? 1 : 0).i().block(inspectedItem);\n        });\n\n        if (this.indent) {\n          output.outdentLines();\n        }\n\n        if (!suffixOutput.isEmpty()) {\n          output.nl();\n        }\n\n        return output.append(suffixOutput);\n      } else {\n        output.append(prefixOutput).sp(prefixOutput.isEmpty() ? 0 : 1);\n        inspectedItems.forEach(function (inspectedItem, index) {\n          output.append(inspectedItem);\n          var lastIndex = index === inspectedItems.length - 1;\n\n          if (!lastIndex) {\n            output.sp();\n          }\n        });\n        return output.sp(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n      }\n    },\n    diffLimit: 512,\n    diff: function diff(actual, expected, output, _diff3, inspect, equal) {\n      output.inline = true;\n\n      if (Math.max(actual.length, expected.length) > this.diffLimit) {\n        output.jsComment(\"Diff suppressed due to size > \".concat(this.diffLimit));\n        return output;\n      }\n\n      if (actual.constructor !== expected.constructor) {\n        return this.baseType.diff(actual, expected, output);\n      }\n\n      var prefixOutput = this.prefix(output.clone(), actual);\n      output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n      if (this.indent) {\n        output.indentLines();\n      }\n\n      var actualElements = utils.duplicateArrayLikeUsingType(actual, this);\n      var actualKeys = this.getKeys(actual);\n      var expectedElements = utils.duplicateArrayLikeUsingType(expected, this);\n      var expectedKeys = this.getKeys(expected);\n      var nonNumericalKeysAndSymbols = !this.numericalPropertiesOnly && utils.uniqueNonNumericalStringsAndSymbols(actualKeys, expectedKeys);\n      var type = this;\n      var changes = arrayChanges(actualElements, expectedElements, equal, function (a, b) {\n        return type.similar(a, b);\n      }, {\n        includeNonNumericalProperties: nonNumericalKeysAndSymbols\n      });\n      var indexOfLastNonInsert = changes.reduce(function (previousValue, diffItem, index) {\n        return diffItem.type === 'insert' ? previousValue : index;\n      }, -1);\n      var packing = utils.packArrows(changes); // NOTE: Will have side effects in changes if the packing results in too many arrow lanes\n\n      output.arrowsAlongsideChangeOutputs(packing, changes.map(function (diffItem, index) {\n        var delimiterOutput = type.delimiter(output.clone(), index, indexOfLastNonInsert + 1);\n\n        if (diffItem.type === 'moveTarget') {\n          return output.clone();\n        } else {\n          return output.clone().block(function () {\n            if (diffItem.type === 'moveSource') {\n              var propertyOutput = type.property(output.clone(), diffItem.actualIndex, inspect(diffItem.value), true);\n              this.amend(propertyOutput).amend(delimiterOutput).sp().error('// should be moved');\n            } else if (diffItem.type === 'insert') {\n              this.annotationBlock(function () {\n                this.error('missing ').block(function () {\n                  var index = typeof diffItem.actualIndex !== 'undefined' ? diffItem.actualIndex : diffItem.expectedIndex;\n                  var propertyOutput = type.property(output.clone(), index, inspect(diffItem.value), true);\n                  this.amend(propertyOutput);\n                });\n              });\n            } else if (diffItem.type === 'remove') {\n              this.block(function () {\n                var propertyOutput = type.property(output.clone(), diffItem.actualIndex, inspect(diffItem.value), true);\n                this.amend(propertyOutput).amend(delimiterOutput).sp().error('// should be removed');\n              });\n            } else if (diffItem.type === 'equal') {\n              this.block(function () {\n                var propertyOutput = type.property(output.clone(), diffItem.actualIndex, inspect(diffItem.value), true);\n                this.amend(propertyOutput).amend(delimiterOutput);\n              });\n            } else {\n              this.block(function () {\n                var valueDiff = _diff3(diffItem.value, diffItem.expected);\n\n                if (valueDiff && valueDiff.inline) {\n                  this.append(valueDiff).append(delimiterOutput);\n                } else {\n                  var _propertyOutput = type.property(output.clone(), diffItem.actualIndex, inspect(diffItem.value), true);\n\n                  this.append(_propertyOutput).append(delimiterOutput).sp().annotationBlock(function () {\n                    this.shouldEqualError(diffItem.expected, inspect);\n\n                    if (valueDiff) {\n                      this.nl(2).append(valueDiff);\n                    }\n                  });\n                }\n              });\n            }\n          });\n        }\n      }));\n\n      if (this.indent) {\n        output.outdentLines();\n      }\n\n      var suffixOutput = this.suffix(output.clone(), actual);\n      return output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n    }\n  });\n  expect.addType({\n    name: 'array',\n    base: 'array-like',\n    numericalPropertiesOnly: false,\n    identify: function identify(arr) {\n      return utils.isArray(arr);\n    }\n  });\n  expect.addType({\n    name: 'arguments',\n    base: 'array-like',\n    prefix: function prefix(output) {\n      return output.text('arguments(', 'cyan');\n    },\n    suffix: function suffix(output) {\n      return output.text(')', 'cyan');\n    },\n    identify: function identify(obj) {\n      return Object.prototype.toString.call(obj) === '[object Arguments]';\n    }\n  });\n  var errorMethodBlacklist = ['message', 'name', 'description', 'line', 'number', 'column', 'sourceId', 'sourceURL', 'stack', 'stackArray', '__stackCleaned__', 'isOperational' // added by the promise implementation\n  ].reduce(function (result, prop) {\n    result[prop] = true;\n    return result;\n  }, {});\n\n  if (new Error().hasOwnProperty('arguments')) {\n    // node.js 0.10 adds two extra non-enumerable properties to Error instances:\n    errorMethodBlacklist.arguments = true;\n    errorMethodBlacklist.type = true;\n  }\n\n  expect.addType({\n    base: 'object',\n    name: 'Error',\n    identify: function identify(value) {\n      return utils.isError(value);\n    },\n    getKeys: function getKeys(value) {\n      var keys = this.baseType.getKeys(value).filter(function (key) {\n        return !errorMethodBlacklist[key];\n      });\n      keys.unshift('message');\n      return keys;\n    },\n    unwrap: function unwrap(value) {\n      return this.getKeys(value).reduce(function (result, key) {\n        result[key] = value[key];\n        return result;\n      }, {});\n    },\n    equal: function equal(a, b, _equal4) {\n      return a === b || _equal4(a.message, b.message) && utils.checkObjectEqualityUsingType(a, b, this, _equal4);\n    },\n    inspect: function inspect(value, depth, output, _inspect5) {\n      output.errorName(value).text('(');\n      var keys = this.getKeys(value);\n\n      if (keys.length === 1 && keys[0] === 'message') {\n        if (value.message !== '') {\n          output.append(_inspect5(value.message));\n        }\n      } else {\n        output.append(_inspect5(this.unwrap(value), depth));\n      }\n\n      return output.text(')');\n    },\n    diff: function diff(actual, expected, output, _diff4) {\n      if (actual.constructor !== expected.constructor) {\n        return output.text('Mismatching constructors ').errorName(actual).text(' should be ').errorName(expected);\n      }\n\n      output = _diff4(this.unwrap(actual), this.unwrap(expected));\n\n      if (output) {\n        output = output.clone().errorName(actual).text('(').append(output).text(')');\n        output.inline = false;\n      }\n\n      return output;\n    }\n  });\n  var unexpectedErrorMethodBlacklist = ['output', '_isUnexpected', 'htmlMessage', '_hasSerializedErrorMessage', 'expect', 'assertion', 'originalError'].reduce(function (result, prop) {\n    result[prop] = true;\n    return result;\n  }, {});\n  expect.addType({\n    base: 'Error',\n    name: 'UnexpectedError',\n    identify: function identify(value) {\n      return value && _typeof(value) === 'object' && value._isUnexpected && this.baseType.identify(value);\n    },\n    getKeys: function getKeys(value) {\n      return this.baseType.getKeys(value).filter(function (key) {\n        return !unexpectedErrorMethodBlacklist[key];\n      });\n    },\n    inspect: function inspect(value, depth, output) {\n      output.jsFunctionName(this.name).text('(');\n      var errorMessage = value.getErrorMessage(output);\n\n      if (errorMessage.isMultiline()) {\n        output.nl().indentLines().i().block(errorMessage).nl();\n      } else {\n        output.append(errorMessage);\n      }\n\n      return output.text(')');\n    }\n  });\n  expect.addType({\n    name: 'date',\n    identify: function identify(obj) {\n      return Object.prototype.toString.call(obj) === '[object Date]';\n    },\n    equal: function equal(a, b) {\n      return a.getTime() === b.getTime();\n    },\n    inspect: function inspect(date, depth, output, _inspect6) {\n      // TODO: Inspect \"new\" as an operator and Date as a built-in once we have the styles defined:\n      var dateStr = date.toUTCString().replace(/UTC/, 'GMT');\n      var milliseconds = date.getUTCMilliseconds();\n\n      if (milliseconds > 0) {\n        var millisecondsStr = String(milliseconds);\n\n        while (millisecondsStr.length < 3) {\n          millisecondsStr = \"0\".concat(millisecondsStr);\n        }\n\n        dateStr = dateStr.replace(' GMT', \".\".concat(millisecondsStr, \" GMT\"));\n      }\n\n      return output.jsKeyword('new').sp().text('Date(').append(_inspect6(dateStr).text(')'));\n    }\n  });\n  expect.addType({\n    base: 'object',\n    name: 'function',\n    identify: function identify(f) {\n      return typeof f === 'function';\n    },\n    getKeys: Object.keys,\n    equal: function equal(a, b) {\n      return a === b;\n    },\n    inspect: function inspect(f, depth, output, _inspect7) {\n      // Don't break when a function has its own custom #toString:\n      var source = Function.prototype.toString.call(f).replace(/\\r\\n?|\\n\\r?/g, '\\n');\n      var name = utils.getFunctionName(f) || '';\n      var preamble;\n      var body;\n      var bodyIndent;\n      var matchSource = source.match(/^\\s*((?:async )?\\s*(?:\\S+\\s*=>|\\([^)]*\\)\\s*=>|class|function\\s?(?:\\*\\s*)?\\w*\\s*\\([^)]*\\)))([\\s\\S]*)$/);\n\n      if (matchSource) {\n        // Normalize so there's always space after \"function\" and never after \"*\" for generator functions:\n        preamble = matchSource[1].replace(/function(\\S)/, 'function $1').replace(/\\* /, '*');\n\n        if (preamble === 'function ()' && name) {\n          // fn.bind() doesn't seem to include the name in the .toString() output:\n          preamble = \"function \".concat(name, \"()\");\n        }\n\n        body = matchSource[2];\n        var matchBodyAndIndent = body.match(/^(\\s*\\{)([\\s\\S]*?)([ ]*)\\}\\s*$/);\n        var openingBrace;\n        var isWrappedInBraces = true;\n        var closingBrace = '}';\n        var reindentBodyLevel = 0;\n\n        if (matchBodyAndIndent) {\n          openingBrace = matchBodyAndIndent[1];\n          body = matchBodyAndIndent[2];\n          bodyIndent = matchBodyAndIndent[3] || '';\n\n          if (bodyIndent.length === 1) {\n            closingBrace = ' }';\n          }\n        } else {\n          // Attempt to match an arrow function with an implicit return body.\n          matchBodyAndIndent = body.match(/^(\\s*)([\\s\\S]*?)([ ]*)\\s*$/);\n\n          if (matchBodyAndIndent) {\n            openingBrace = matchBodyAndIndent[1];\n            isWrappedInBraces = false;\n            body = matchBodyAndIndent[2];\n            var matchInitialNewline = openingBrace.match(/^\\n( +)/);\n\n            if (matchInitialNewline) {\n              openingBrace = '\\n';\n\n              if (/\\n/.test(body)) {\n                // An arrow function whose body starts with a newline, as prettier likes to output, eg.:\n                //        () =>\n                //          foo(\n                //            1\n                //          );\n                // Shuffle/hack things around so it will be formatted correctly:\n                bodyIndent = matchInitialNewline[1];\n                reindentBodyLevel = 1;\n              } else {\n                body = body.replace(/^\\s*/, '  ');\n              }\n            } else {\n              bodyIndent = matchBodyAndIndent[3] || '';\n            }\n\n            closingBrace = '';\n          }\n        } // Remove leading indentation unless the function is a one-liner or it uses multiline string literals\n\n\n        if (/\\n/.test(body) && !/\\\\\\n/.test(body)) {\n          body = body.replace(new RegExp(\"^ {\".concat(bodyIndent.length, \"}\"), 'mg'), '');\n          var indent = detectIndent(body);\n          body = body.replace(new RegExp(\"^(?:\".concat(indent.indent, \")*\"), 'mg'), function (_ref2) {\n            var length = _ref2.length;\n            return utils.leftPad('', (length / indent.amount + reindentBodyLevel) * output.indentationWidth, ' ');\n          });\n        }\n\n        if (!name || name === 'anonymous') {\n          name = '';\n        }\n\n        if (/^\\s*\\[native code\\]\\s*$/.test(body)) {\n          body = ' /* native code */ ';\n          closingBrace = '}';\n        } else if (/^\\s*$/.test(body)) {\n          body = '';\n        } else if (/^\\s*[^\\r\\n]{1,30}\\s*$/.test(body) && body.indexOf('//') === -1 && isWrappedInBraces) {\n          body = \" \".concat(body.trim(), \" \");\n          closingBrace = '}';\n        } else {\n          body = body.replace(/^((?:.*\\n){3}( *).*\\n)[\\s\\S]*?\\n[\\s\\S]*?\\n((?:.*\\n){3})$/, '$1$2// ... lines removed ...\\n$3');\n        }\n\n        if (matchBodyAndIndent) {\n          body = openingBrace + body + closingBrace;\n        } else {\n          // Strip trailing space from arrow function body\n          body = body.replace(/[ ]*$/, '');\n        }\n      } else {\n        preamble = \"function \".concat(name, \"( /*...*/ ) \");\n        body = '{ /*...*/ }';\n      }\n\n      return output.code(preamble + body, 'javascript');\n    },\n    diff: function diff(actual, expected, output) {\n      // Avoid rendering an object diff when both are functions\n      if (typeof actual !== 'function' || typeof expected !== 'function') {\n        return this.baseType.diff(actual, expected, output);\n      }\n    }\n  });\n  expect.addType({\n    base: 'function',\n    name: 'expect.it',\n    identify: function identify(f) {\n      return typeof f === 'function' && f._expectIt;\n    },\n    inspect: function inspect(_ref3, depth, output, _inspect8) {\n      var _expectations = _ref3._expectations,\n          _OR = _ref3._OR;\n      output.text('expect.it(');\n      var orBranch = false;\n\n      _expectations.forEach(function (expectation, index) {\n        if (expectation === _OR) {\n          orBranch = true;\n          return;\n        }\n\n        if (orBranch) {\n          output.text(')\\n      .or(');\n        } else if (index > 0) {\n          output.text(')\\n        .and(');\n        }\n\n        var args = Array.prototype.slice.call(expectation);\n        args.forEach(function (arg, i) {\n          if (i > 0) {\n            output.text(', ');\n          }\n\n          output.append(_inspect8(arg));\n        });\n        orBranch = false;\n      });\n\n      return output.amend(')');\n    }\n  });\n  expect.addType({\n    name: 'Promise',\n    base: 'object',\n    identify: function identify(obj) {\n      return obj && this.baseType.identify(obj) && typeof obj.then === 'function';\n    },\n    inspect: function inspect(promise, depth, output, _inspect9) {\n      output.jsFunctionName('Promise');\n\n      if (promise.isPending && promise.isPending()) {\n        output.sp().yellow('(pending)');\n      } else if (promise.isFulfilled && promise.isFulfilled()) {\n        output.sp().green('(fulfilled)');\n\n        if (promise.value) {\n          var value = promise.value();\n\n          if (typeof value !== 'undefined') {\n            output.sp().text('=>').sp().append(_inspect9(value));\n          }\n        }\n      } else if (promise.isRejected && promise.isRejected()) {\n        output.sp().red('(rejected)');\n        var reason = promise.reason();\n\n        if (typeof reason !== 'undefined') {\n          output.sp().text('=>').sp().append(_inspect9(promise.reason()));\n        }\n      }\n\n      return output;\n    }\n  });\n  expect.addType({\n    name: 'regexp',\n    base: 'object',\n    identify: isRegExp,\n    equal: function equal(a, b) {\n      return a === b || a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline;\n    },\n    inspect: function inspect(regExp, depth, output) {\n      return output.jsRegexp(regExp);\n    },\n    diff: function diff(actual, expected, output, _diff5, inspect) {\n      output.inline = false;\n      return output.stringDiff(String(actual), String(expected), {\n        type: 'Chars',\n        markUpSpecialCharacters: true\n      });\n    }\n  });\n  expect.addType({\n    name: 'binaryArray',\n    base: 'array-like',\n    digitWidth: 2,\n    hexDumpWidth: 16,\n    identify: false,\n    prefix: function prefix(output) {\n      return output.code(\"\".concat(this.name, \"([\"), 'javascript');\n    },\n    suffix: function suffix(output) {\n      return output.code('])', 'javascript');\n    },\n    equal: function equal(a, b) {\n      if (a === b) {\n        return true;\n      }\n\n      if (a.length !== b.length) {\n        return false;\n      }\n\n      for (var i = 0; i < a.length; i += 1) {\n        if (a[i] !== b[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    hexDump: function hexDump(obj, maxLength) {\n      var hexDump = '';\n\n      if (typeof maxLength !== 'number' || maxLength === 0) {\n        maxLength = obj.length;\n      }\n\n      for (var i = 0; i < maxLength; i += this.hexDumpWidth) {\n        if (hexDump.length > 0) {\n          hexDump += '\\n';\n        }\n\n        var hexChars = '';\n        var asciiChars = ' │';\n\n        for (var j = 0; j < this.hexDumpWidth; j += 1) {\n          if (i + j < maxLength) {\n            var octet = obj[i + j];\n            hexChars += \"\".concat(leftPad(octet.toString(16).toUpperCase(), this.digitWidth, '0'), \" \");\n            asciiChars += String.fromCharCode(octet).replace(/\\n/g, '␊').replace(/\\r/g, '␍');\n          } else if (this.digitWidth === 2) {\n            hexChars += '   ';\n          }\n        }\n\n        if (this.digitWidth === 2) {\n          hexDump += \"\".concat(hexChars + asciiChars, \"\\u2502\");\n        } else {\n          hexDump += hexChars.replace(/\\s+$/, '');\n        }\n      }\n\n      return hexDump;\n    },\n    inspect: function inspect(obj, depth, output) {\n      this.prefix(output, obj);\n      var codeStr = '';\n\n      for (var i = 0; i < Math.min(this.hexDumpWidth, obj.length); i += 1) {\n        if (i > 0) {\n          codeStr += ', ';\n        }\n\n        var octet = obj[i];\n        codeStr += \"0x\".concat(leftPad(octet.toString(16).toUpperCase(), this.digitWidth, '0'));\n      }\n\n      if (obj.length > this.hexDumpWidth) {\n        codeStr += \" /* \".concat(obj.length - this.hexDumpWidth, \" more */ \");\n      }\n\n      output.code(codeStr, 'javascript');\n      this.suffix(output, obj);\n      return output;\n    },\n    diffLimit: 512,\n    diff: function diff(actual, expected, output, _diff6, inspect) {\n      output.inline = false;\n\n      if (Math.max(actual.length, expected.length) > this.diffLimit) {\n        output.jsComment(\"Diff suppressed due to size > \".concat(this.diffLimit));\n      } else {\n        output.stringDiff(this.hexDump(actual), this.hexDump(expected), {\n          type: 'Chars',\n          markUpSpecialCharacters: false\n        }) // eslint-disable-next-line no-control-regex\n        .replaceText(/[\\x00-\\x1f\\x7f-\\xff␊␍]/g, '.').replaceText(/[│ ]/g, function (styles, content) {\n          this.text(content);\n        });\n      }\n\n      return output;\n    }\n  });\n  [8, 16, 32].forEach(function (numBits) {\n    ['Int', 'Uint'].forEach(function (intOrUint) {\n      var constructorName = \"\".concat(intOrUint + numBits, \"Array\");\n      var Constructor = global[constructorName];\n\n      if (typeof Constructor !== 'undefined') {\n        expect.addType({\n          name: constructorName,\n          base: 'binaryArray',\n          hexDumpWidth: 128 / numBits,\n          digitWidth: numBits / 4,\n          identify: function identify(obj) {\n            return obj instanceof Constructor;\n          }\n        });\n      }\n    }, this);\n  }, this);\n\n  if (typeof Buffer !== 'undefined') {\n    expect.addType({\n      name: 'Buffer',\n      base: 'binaryArray',\n      identify: Buffer.isBuffer\n    });\n  }\n\n  expect.addType({\n    name: 'string',\n    identify: function identify(value) {\n      return typeof value === 'string';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.singleQuotedString(value);\n    },\n    diffLimit: 4096,\n    diff: function diff(actual, expected, output, _diff7, inspect) {\n      if (Math.max(actual.length, expected.length) > this.diffLimit) {\n        output.jsComment(\"Diff suppressed due to size > \".concat(this.diffLimit));\n        return output;\n      }\n\n      output.stringDiff(actual, expected, {\n        type: 'WordsWithSpace',\n        markUpSpecialCharacters: true\n      });\n      output.inline = false;\n      return output;\n    }\n  });\n  expect.addType({\n    name: 'number',\n    identify: function identify(value) {\n      return typeof value === 'number' && !isNaN(value);\n    },\n    inspect: function inspect(value, depth, output) {\n      if (value === 0 && 1 / value === -Infinity) {\n        value = '-0';\n      } else {\n        value = String(value);\n      }\n\n      return output.jsNumber(String(value));\n    }\n  });\n  expect.addType({\n    name: 'NaN',\n    identify: function identify(value) {\n      return typeof value === 'number' && isNaN(value);\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    }\n  });\n  expect.addType({\n    name: 'boolean',\n    identify: function identify(value) {\n      return typeof value === 'boolean';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    }\n  });\n  expect.addType({\n    name: 'undefined',\n    identify: function identify(value) {\n      return typeof value === 'undefined';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    }\n  });\n  expect.addType({\n    name: 'null',\n    identify: function identify(value) {\n      return value === null;\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    }\n  });\n  expect.addType({\n    name: 'assertion',\n    identify: function identify(value) {\n      return value instanceof AssertionString;\n    }\n  });\n};","\nmodule.exports = arrayDiff;\n\nvar MAX_STACK_DEPTH = 1000;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n    this.index = index;\n    this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n    return {\n        type: this.type\n        , index: this.index\n        , values: this.values\n    };\n};\n\nfunction RemoveDiff(index, howMany) {\n    this.index = index;\n    this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n    return {\n        type: this.type\n        , index: this.index\n        , howMany: this.howMany\n    };\n};\n\nfunction MoveDiff(from, to, howMany) {\n    this.from = from;\n    this.to = to;\n    this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n    return {\n        type: this.type\n        , from: this.from\n        , to: this.to\n        , howMany: this.howMany\n    };\n};\n\nfunction strictEqual(a, b, indexA, indexB, callback) {\n    return callback(a === b);\n}\n\n\nfunction arrayDiff(before, after, equalFn, callback) {\n    if (!equalFn) equalFn = strictEqual;\n\n    // Find all items in both the before and after array, and represent them\n    // as moves. Many of these \"moves\" may end up being discarded in the last\n    // pass if they are from an index to the same index, but we don't know this\n    // up front, since we haven't yet offset the indices.\n    //\n    // Also keep a map of all the indices accounted for in the before and after\n    // arrays. These maps are used next to create insert and remove diffs.\n    var beforeLength = before.length;\n    var afterLength = after.length;\n    var moves = [];\n    var beforeMarked = {};\n    var afterMarked = {};\n\n    function findMatching(beforeIndex, afterIndex, howMany, callback) {\n\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n\n        if (beforeIndex < beforeLength &&\n            afterIndex < afterLength &&\n            !afterMarked[afterIndex]) {\n\n            equalFn(before[beforeIndex], after[afterIndex], beforeIndex, afterIndex, function (areEqual) {\n                if (areEqual) {\n                    setTimeout(function () {\n                        findMatching(beforeIndex, afterIndex, howMany, callback);\n                    }, 0);\n                } else {\n                    callback(beforeIndex, afterIndex, howMany);\n                }\n            });\n        } else {\n            callback(beforeIndex, afterIndex, howMany);\n        }\n\n\n    }\n\n    function compare(beforeIndex, afterIndex, stackDepthRemaining, callback) {\n        if (afterIndex >= afterLength) {\n            beforeIndex++;\n            afterIndex = 0;\n        }\n        if (beforeIndex >= beforeLength) {\n            callback();\n            return;\n        }\n\n        if (!afterMarked[afterIndex]) {\n            equalFn(before[beforeIndex], after[afterIndex], beforeIndex, afterIndex, function (areEqual) {\n                if (areEqual) {\n\n                    var from = beforeIndex;\n                    var to = afterIndex;\n                    findMatching(beforeIndex, afterIndex, 0, function (newBeforeIndex, newAfterIndex, howMany) {\n\n                        moves.push(new MoveDiff(from, to, howMany));\n                        if (stackDepthRemaining) {\n                            compare(newBeforeIndex, 0, stackDepthRemaining - 1, callback);\n                        } else {\n                            setTimeout(function () {\n                                compare(newBeforeIndex, 0, MAX_STACK_DEPTH, callback);\n                            }, 0);\n                        }\n                    });\n                } else {\n                    if (stackDepthRemaining) {\n                        compare(beforeIndex, afterIndex + 1, stackDepthRemaining - 1, callback);\n                    } else {\n                        setTimeout(function () {\n                            compare(beforeIndex, afterIndex + 1, MAX_STACK_DEPTH, callback);\n                        }, 0);\n                    }\n                }\n            });\n        } else {\n            if (stackDepthRemaining) {\n                compare(beforeIndex, afterIndex + 1, stackDepthRemaining - 1, callback);\n            } else {\n                setTimeout(function () {\n                    compare(beforeIndex, afterIndex + 1, MAX_STACK_DEPTH, callback);\n                }, 0);\n            }\n        }\n    }\n\n    compare(0, 0, MAX_STACK_DEPTH, function () {\n\n        // Create a remove for all of the items in the before array that were\n        // not marked as being matched in the after array as well\n        var removes = [];\n        for (var beforeIndex = 0; beforeIndex < beforeLength;) {\n            if (beforeMarked[beforeIndex]) {\n                beforeIndex++;\n                continue;\n            }\n            var index = beforeIndex;\n            var howMany = 0;\n            while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n                howMany++;\n            }\n            removes.push(new RemoveDiff(index, howMany));\n        }\n\n        // Create an insert for all of the items in the after array that were\n        // not marked as being matched in the before array as well\n        var inserts = [];\n        for (var afterIndex = 0; afterIndex < afterLength;) {\n            if (afterMarked[afterIndex]) {\n                afterIndex++;\n                continue;\n            }\n            var index = afterIndex;\n            var howMany = 0;\n            while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n                howMany++;\n            }\n            var values = after.slice(index, index + howMany);\n            inserts.push(new InsertDiff(index, values));\n        }\n\n        var insertsLength = inserts.length;\n        var removesLength = removes.length;\n        var movesLength = moves.length;\n        var i, j;\n\n        // Offset subsequent removes and moves by removes\n        var count = 0;\n        for (i = 0; i < removesLength; i++) {\n            var remove = removes[i];\n            remove.index -= count;\n            count += remove.howMany;\n            for (j = 0; j < movesLength; j++) {\n                var move = moves[j];\n                if (move.from >= remove.index) move.from -= remove.howMany;\n            }\n        }\n\n        // Offset moves by inserts\n        for (i = insertsLength; i--;) {\n            var insert = inserts[i];\n            var howMany = insert.values.length;\n            for (j = movesLength; j--;) {\n                var move = moves[j];\n                if (move.to >= insert.index) move.to -= howMany;\n            }\n        }\n\n        // Offset the to of moves by later moves\n        for (i = movesLength; i-- > 1;) {\n            var move = moves[i];\n            if (move.to === move.from) continue;\n            for (j = i; j--;) {\n                var earlier = moves[j];\n                if (earlier.to >= move.to) earlier.to -= move.howMany;\n                if (earlier.to >= move.from) earlier.to += move.howMany;\n            }\n        }\n\n        // Only output moves that end up having an effect after offsetting\n        var outputMoves = [];\n\n        // Offset the from of moves by earlier moves\n        for (i = 0; i < movesLength; i++) {\n            var move = moves[i];\n            if (move.to === move.from) continue;\n            outputMoves.push(move);\n            for (j = i + 1; j < movesLength; j++) {\n                var later = moves[j];\n                if (later.from >= move.from) later.from -= move.howMany;\n                if (later.from >= move.to) later.from += move.howMany;\n            }\n        }\n\n        callback(removes.concat(outputMoves, inserts));\n    });\n}\n","/*global setTimeout */\nvar arrayDiff = require('arraydiff-async');\nvar MAX_STACK_DEPTH = 1000;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i += 1) {\n        var source = arguments[i];\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    }\n    return target;\n}\n\nmodule.exports = function arrayChanges(actual, expected, equal, similar, includeNonNumericalProperties, arrayChangesCallback) {\n    if (typeof includeNonNumericalProperties === 'function') {\n        arrayChangesCallback = includeNonNumericalProperties;\n        includeNonNumericalProperties = false;\n    }\n    var mutatedArray = new Array(actual.length);\n\n    for (var k = 0; k < actual.length; k += 1) {\n        mutatedArray[k] = {\n            type: 'similar',\n            actualIndex: k,\n            value: actual[k]\n        };\n    }\n\n    similar = similar || function (a, b, aIndex, bIndex, callback) {\n            return callback(false);\n        };\n\n    arrayDiff([].concat(actual), [].concat(expected), function (a, b, aIndex, bIndex, callback) {\n        equal(a, b, aIndex, bIndex, function (isEqual) {\n            if (isEqual) {\n                return callback(true);\n            }\n            similar(a, b, aIndex, bIndex, function (isSimilar) {\n                return callback(isSimilar);\n            });\n        });\n    }, function (itemsDiff) {\n\n        function offsetIndex(index) {\n            var currentOffsetIndex = 0;\n            var i;\n            for (i = 0; i < mutatedArray.length && currentOffsetIndex < index; i += 1) {\n                if (mutatedArray[i].type !== 'remove' && mutatedArray[i].type !== 'moveSource') {\n                    currentOffsetIndex += 1;\n                }\n            }\n\n            return i;\n        }\n\n        var removes = itemsDiff.filter(function (diffItem) {\n            return diffItem.type === 'remove';\n        });\n\n        var removedItems = 0;\n        removes.forEach(function (diffItem) {\n            var removeIndex = removedItems + diffItem.index;\n            mutatedArray.slice(removeIndex, diffItem.howMany + removeIndex).forEach(function (v) {\n                v.type = 'remove';\n            });\n            removedItems += diffItem.howMany;\n        });\n\n        var moves = itemsDiff.filter(function (diffItem) {\n            return diffItem.type === 'move';\n        });\n\n        moves.forEach(function (diffItem) {\n            var moveFromIndex = offsetIndex(diffItem.from + 1) - 1;\n            var removed = mutatedArray.slice(moveFromIndex, diffItem.howMany + moveFromIndex);\n            var added = removed.map(function (v) {\n                return extend({}, v, { last: false, type: 'moveTarget' });\n            });\n            removed.forEach(function (v) {\n                v.type = 'moveSource';\n            });\n            var insertIndex = offsetIndex(diffItem.to);\n            Array.prototype.splice.apply(mutatedArray, [insertIndex, 0].concat(added));\n        });\n\n        var inserts = itemsDiff.filter(function (diffItem) {\n            return diffItem.type === 'insert';\n        });\n\n        inserts.forEach(function (diffItem) {\n            var added = new Array(diffItem.values.length);\n            for (var i = 0 ; i < diffItem.values.length ; i += 1) {\n                added[i] = {\n                    type: 'insert',\n                    value: diffItem.values[i]\n                };\n            }\n            Array.prototype.splice.apply(mutatedArray, [offsetIndex(diffItem.index), 0].concat(added));\n        });\n\n        var offset = 0;\n        mutatedArray.forEach(function (diffItem, index) {\n            var type = diffItem.type;\n            if (type === 'remove' || type === 'moveSource') {\n                offset -= 1;\n            } else if (type === 'similar') {\n                diffItem.expected = expected[offset + index];\n                diffItem.expectedIndex = offset + index;\n            }\n        });\n\n        var conflicts = mutatedArray.reduce(function (conflicts, item) {\n            return item.type === 'similar' || item.type === 'moveSource' || item.type === 'moveTarget' ? conflicts : conflicts + 1;\n        }, 0);\n\n        var end = Math.max(actual.length, expected.length);\n\n        var countConflicts = function (i, c, stackCallsRemaining, callback) {\n\n            if (i >= end || c > conflicts) {\n                // Do a setTimeout to let the stack unwind\n                return setTimeout(function () {\n                    callback(c);\n                }, 0);\n            }\n\n            similar(actual[i], expected[i], i, i, function (areSimilar) {\n                if (!areSimilar) {\n                    c += 1;\n                    if (stackCallsRemaining === 0) {\n                        return setTimeout(function () {\n                            countConflicts(i + 1, c, MAX_STACK_DEPTH, callback);\n                        });\n                    }\n                    return countConflicts(i + 1, c, stackCallsRemaining - 1, callback);\n                }\n                equal(actual[i], expected[i], i, i, function (areEqual) {\n                    if (!areEqual) {\n                        c += 1;\n                    }\n                    if (stackCallsRemaining === 0) {\n                        return setTimeout(function () {\n                            countConflicts(i + 1, c, MAX_STACK_DEPTH, callback);\n                        });\n                    }\n                    return countConflicts(i + 1, c, stackCallsRemaining - 1, callback);\n                });\n            });\n        };\n\n        countConflicts(0, 0, MAX_STACK_DEPTH, function (c) {\n            if (c <= conflicts) {\n                mutatedArray = [];\n                var j;\n                for (j = 0; j < Math.min(actual.length, expected.length); j += 1) {\n                    mutatedArray.push({\n                        type: 'similar',\n                        actualIndex: j,\n                        expectedIndex: j,\n                        value: actual[j],\n                        expected: expected[j]\n                    });\n                }\n\n                if (actual.length < expected.length) {\n                    for (; j < Math.max(actual.length, expected.length); j += 1) {\n                        mutatedArray.push({\n                            type: 'insert',\n                            value: expected[j]\n                        });\n                    }\n                } else {\n                    for (; j < Math.max(actual.length, expected.length); j += 1) {\n                        mutatedArray.push({\n                            type: 'remove',\n                            value: actual[j]\n                        });\n                    }\n                }\n            }\n\n            var setEqual = function (i, stackCallsRemaining, callback) {\n                if (i >= mutatedArray.length) {\n                    return callback();\n                }\n                var diffItem = mutatedArray[i];\n                if (diffItem.type === 'similar') {\n                    return equal(diffItem.value, diffItem.expected, diffItem.actualIndex, diffItem.expectedIndex, function (areEqual) {\n                        if (areEqual) {\n                            mutatedArray[i].type = 'equal';\n                        }\n                        if (stackCallsRemaining === 0) {\n                            return setTimeout(function () {\n                                setEqual(i + 1, MAX_STACK_DEPTH, callback);\n                            });\n                        }\n                        setEqual(i + 1, stackCallsRemaining - 1, callback);\n                    });\n                }\n                if (stackCallsRemaining === 0) {\n                    return setTimeout(function () {\n                        setEqual(i + 1, MAX_STACK_DEPTH, callback);\n                    });\n                }\n                return setEqual(i + 1, stackCallsRemaining - 1, callback);\n            };\n\n            if (includeNonNumericalProperties) {\n                var nonNumericalKeys;\n                if (Array.isArray(includeNonNumericalProperties)) {\n                    nonNumericalKeys = includeNonNumericalProperties;\n                } else {\n                    var isSeenByNonNumericalKey = {};\n                    nonNumericalKeys = [];\n                    [actual, expected].forEach(function (obj) {\n                        Object.keys(obj).forEach(function (key) {\n                            if (!/^(?:0|[1-9][0-9]*)$/.test(key) && !isSeenByNonNumericalKey[key]) {\n                                isSeenByNonNumericalKey[key] = true;\n                                nonNumericalKeys.push(key);\n                            }\n                        });\n                        if (Object.getOwnPropertySymbols) {\n                            Object.getOwnPropertySymbols(obj).forEach(function (symbol) {\n                                if (!isSeenByNonNumericalKey[symbol]) {\n                                    isSeenByNonNumericalKey[symbol] = true;\n                                    nonNumericalKeys.push(symbol);\n                                }\n                            });\n                        }\n                    });\n                }\n                nonNumericalKeys.forEach(function (key) {\n                    var valueExpected;\n\n                    if (key in actual) {\n                        var valueActual = actual[key];\n                        valueExpected = expected[key];\n\n                        if (key in expected && typeof valueExpected !== 'undefined') {\n                            valueExpected = expected[key];\n\n                            mutatedArray.push({\n                                type: 'similar',\n                                expectedIndex: key,\n                                actualIndex: key,\n                                value: valueActual,\n                                expected: valueExpected\n                            });\n                        } else if (typeof valueActual !== 'undefined') {\n                            mutatedArray.push({\n                                type: 'remove',\n                                actualIndex: key,\n                                value: valueActual\n                            });\n                        }\n                    } else {\n                        valueExpected = expected[key];\n\n                        if (typeof valueExpected !== 'undefined') {\n                            mutatedArray.push({\n                                type: 'insert',\n                                expectedIndex: key,\n                                value: valueExpected\n                            });\n                        }\n                    }\n                });\n            }\n\n            setEqual(0, MAX_STACK_DEPTH, function () {\n                if (mutatedArray.length > 0) {\n                    mutatedArray[mutatedArray.length - 1].last = true;\n                }\n\n                arrayChangesCallback(mutatedArray);\n            });\n        });\n    });\n};\n","var _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n/* global setTimeout */\nvar utils = require('./utils');\n\nvar arrayChanges = require('array-changes');\n\nvar arrayChangesAsync = require('array-changes-async');\n\nvar throwIfNonUnexpectedError = require('./throwIfNonUnexpectedError');\n\nvar objectIs = utils.objectIs;\nvar extend = utils.extend;\n\nmodule.exports = function (expect) {\n  expect.addAssertion('<any> [not] to be (ok|truthy)', function (expect, subject) {\n    var not = !!expect.flags.not;\n    var condition = !!subject;\n\n    if (condition === not) {\n      expect.fail();\n    }\n  });\n  expect.addAssertion('<any> [not] to be (ok|truthy) <string>', function (expect, subject, message) {\n    var not = !!expect.flags.not;\n    var condition = !!subject;\n\n    if (condition === not) {\n      expect.fail({\n        errorMode: 'bubble',\n        message: message\n      });\n    }\n  });\n  expect.addAssertion('<any> [not] to be <any>', function (expect, subject, value) {\n    if (objectIs(subject, value) === expect.flags.not) {\n      expect.fail({\n        label: 'should be'\n      });\n    }\n  });\n  expect.addAssertion('<string> [not] to be <string>', function (expect, subject, value) {\n    expect(subject, '[not] to equal', value);\n  });\n  expect.addAssertion('<boolean> [not] to be true', function (expect, subject) {\n    expect(subject, '[not] to be', true);\n  });\n  expect.addAssertion('<boolean> [not] to be false', function (expect, subject) {\n    expect(subject, '[not] to be', false);\n  });\n  expect.addAssertion('<any> [not] to be falsy', function (expect, subject) {\n    expect(subject, '[!not] to be truthy');\n  });\n  expect.addAssertion('<any> [not] to be falsy <string>', function (expect, subject, message) {\n    var not = !!expect.flags.not;\n    var condition = !!subject;\n\n    if (condition !== not) {\n      expect.fail({\n        errorMode: 'bubble',\n        message: message\n      });\n    }\n  });\n  expect.addAssertion('<any> [not] to be null', function (expect, subject) {\n    expect(subject, '[not] to be', null);\n  });\n  expect.addAssertion('<any> [not] to be undefined', function (expect, subject) {\n    expect(typeof subject === 'undefined', '[not] to be truthy');\n  });\n  expect.addAssertion('<any> to be defined', function (expect, subject) {\n    expect(subject, 'not to be undefined');\n  });\n  expect.addAssertion('<number|NaN> [not] to be NaN', function (expect, subject) {\n    expect(isNaN(subject), '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be close to <number> <number?>', function (expect, subject, value, epsilon) {\n    expect.errorMode = 'bubble';\n\n    if (typeof epsilon !== 'number') {\n      epsilon = 1e-9;\n    }\n\n    expect.withError(function () {\n      expect(Math.abs(subject - value), '[not] to be less than or equal to', epsilon);\n    }, function (e) {\n      expect.fail(function (output) {\n        output.error('expected ').appendInspected(subject).sp().error(expect.testDescription).sp().appendInspected(value).sp().text('(epsilon: ').jsNumber(epsilon.toExponential()).text(')');\n      });\n    });\n  });\n  expect.addAssertion('<any> [not] to be (a|an) <type>', function (expect, subject, type) {\n    expect.argsOutput[0] = function (output) {\n      output.text(type.name);\n    };\n\n    expect(type.identify(subject), '[not] to be true');\n  });\n  expect.addAssertion('<any> [not] to be (a|an) <string>', function (expect, subject, typeName) {\n    typeName = /^reg(?:exp?|ular expression)$/.test(typeName) ? 'regexp' : typeName;\n\n    expect.argsOutput[0] = function (output) {\n      output.jsString(typeName);\n    };\n\n    if (!expect.getType(typeName)) {\n      expect.errorMode = 'nested';\n      expect.fail(function (output) {\n        output.error('Unknown type:').sp().jsString(typeName);\n      });\n    }\n\n    expect(expect.subjectType.is(typeName), '[not] to be truthy');\n  });\n  expect.addAssertion('<any> [not] to be (a|an) <function>', function (expect, subject, Constructor) {\n    var className = utils.getFunctionName(Constructor);\n\n    if (className) {\n      expect.argsOutput[0] = function (output) {\n        output.text(className);\n      };\n    }\n\n    expect(subject instanceof Constructor, '[not] to be truthy');\n  });\n  expect.addAssertion('<any> [not] to be one of <array>', function (expect, subject, superset) {\n    var found = false;\n\n    for (var i = 0; i < superset.length; i += 1) {\n      found = found || objectIs(subject, superset[i]);\n    }\n\n    if (found === expect.flags.not) {\n      expect.fail();\n    }\n  }); // Alias for common '[not] to be (a|an)' assertions\n\n  expect.addAssertion('<any> [not] to be an (object|array)', function (expect, subject) {\n    expect(subject, '[not] to be an', expect.alternations[0]);\n  });\n  expect.addAssertion('<any> [not] to be a (boolean|number|string|function|regexp|regex|regular expression|date)', function (expect, subject) {\n    expect(subject, '[not] to be a', expect.alternations[0]);\n  });\n  expect.addAssertion('<string> to be (the empty|an empty|a non-empty) string', function (expect, subject) {\n    expect(subject, expect.alternations[0] === 'a non-empty' ? 'not to be empty' : 'to be empty');\n  });\n  expect.addAssertion('<array-like> to be (the empty|an empty|a non-empty) array', function (expect, subject) {\n    expect(subject, expect.alternations[0] === 'a non-empty' ? 'not to be empty' : 'to be empty');\n  });\n  expect.addAssertion('<string> to match <regexp>', function (expect, subject, regexp) {\n    return expect.withError(function () {\n      var captures = subject.match(regexp);\n      expect(captures, 'to be truthy');\n      return captures;\n    }, function (e) {\n      e.label = 'should match';\n      expect.fail(e);\n    });\n  });\n  expect.addAssertion('<string> not to match <regexp>', function (expect, subject, regexp) {\n    return expect.withError(function () {\n      expect(regexp.test(subject), 'to be false');\n    }, function (e) {\n      expect.fail({\n        label: 'should not match',\n        diff: function diff(output) {\n          output.inline = false;\n          var lastIndex = 0;\n\n          function flushUntilIndex(i) {\n            if (i > lastIndex) {\n              output.text(subject.substring(lastIndex, i));\n              lastIndex = i;\n            }\n          }\n\n          subject.replace(new RegExp(regexp.source, 'g'), function ($0, index) {\n            flushUntilIndex(index);\n            lastIndex += $0.length;\n            output.removedHighlight($0);\n          });\n          flushUntilIndex(subject.length);\n          return output;\n        }\n      });\n    });\n  });\n  expect.addAssertion('<object|function> [not] to have own property <string>', function (expect, subject, key) {\n    expect(subject.hasOwnProperty(key), '[not] to be truthy');\n    return subject[key];\n  });\n  expect.addAssertion('<object|function> [not] to have (enumerable|configurable|writable) property <string>', function (expect, subject, key) {\n    var descriptor = expect.alternations[0];\n    expect(Object.getOwnPropertyDescriptor(subject, key)[descriptor], '[not] to be truthy');\n    return subject[key];\n  });\n  expect.addAssertion('<object|function> [not] to have property <string>', function (expect, subject, key) {\n    var subjectType = expect.findTypeOf(subject);\n    var subjectKey = subjectType.is('function') ? subject[key] : subjectType.valueForKey(subject, key);\n    expect(subjectKey, '[!not] to be undefined');\n    return subjectKey;\n  });\n  expect.addAssertion('<object|function> to have [own] property <string> <any>', function (expect, subject, key, expectedPropertyValue) {\n    return expect(subject, 'to have [own] property', key).then(function (actualPropertyValue) {\n      expect.argsOutput = function () {\n        this.appendInspected(key).sp().error('with a value of').sp().appendInspected(expectedPropertyValue);\n      };\n\n      expect(actualPropertyValue, 'to equal', expectedPropertyValue);\n      return actualPropertyValue;\n    });\n  });\n  expect.addAssertion('<object|function> [not] to have [own] properties <array>', function (expect, subject, propertyNames) {\n    var unsupportedPropertyNames = [];\n    propertyNames.forEach(function (propertyName) {\n      if (typeof propertyName !== 'string' && typeof propertyName !== 'number') {\n        unsupportedPropertyNames.push(propertyName);\n      }\n    });\n\n    if (unsupportedPropertyNames.length > 0) {\n      expect.errorMode = 'nested';\n      expect.fail(function () {\n        this.error('All expected properties must be passed as strings or numbers, but these are not:').indentLines();\n        unsupportedPropertyNames.forEach(function (propertyName) {\n          this.nl().i().appendInspected(propertyName);\n        }, this);\n        this.outdentLines();\n      });\n    }\n\n    propertyNames.forEach(function (propertyName) {\n      expect(subject, '[not] to have [own] property', String(propertyName));\n    });\n  });\n  expect.addAssertion('<object|function> to have [own] properties <object>', function (expect, subject, properties) {\n    expect.withError(function () {\n      Object.keys(properties).forEach(function (property) {\n        var value = properties[property];\n\n        if (typeof value === 'undefined') {\n          expect(subject, 'not to have [own] property', property);\n        } else {\n          expect(subject, 'to have [own] property', property, value);\n        }\n      });\n    }, function (e) {\n      expect.fail({\n        diff: function diff(output, _diff) {\n          output.inline = false;\n          var expected = extend({}, properties);\n          var actual = {};\n          var propertyNames = expect.findTypeOf(subject).getKeys(subject); // Might put duplicates into propertyNames, but that does not matter:\n\n          for (var propertyName in subject) {\n            if (!subject.hasOwnProperty(propertyName)) {\n              propertyNames.push(propertyName);\n            }\n          }\n\n          propertyNames.forEach(function (propertyName) {\n            if ((!expect.flags.own || subject.hasOwnProperty(propertyName)) && !(propertyName in properties)) {\n              expected[propertyName] = subject[propertyName];\n            }\n\n            if ((!expect.flags.own || subject.hasOwnProperty(propertyName)) && !(propertyName in actual)) {\n              actual[propertyName] = subject[propertyName];\n            }\n          });\n          return utils.wrapConstructorNameAroundOutput(_diff(actual, expected), subject);\n        }\n      });\n    });\n  });\n  expect.addAssertion('<string|array-like> [not] to have length <number>', function (expect, subject, length) {\n    if (!expect.flags.not) {\n      expect.errorMode = 'nested';\n    }\n\n    expect(subject.length, '[not] to be', length);\n  });\n  expect.addAssertion('<string|array-like> [not] to be empty', function (expect, subject) {\n    expect(subject, '[not] to have length', 0);\n  });\n  expect.addAssertion('<string|array-like|object> to be non-empty', function (expect, subject) {\n    expect(subject, 'not to be empty');\n  });\n  expect.addAssertion('<object> to [not] [only] have keys <array>', function (expect, subject, keys) {\n    var keysInSubject = {};\n    var subjectType = expect.findTypeOf(subject);\n    var subjectKeys = subjectType.getKeys(subject);\n    subjectKeys.forEach(function (key) {\n      keysInSubject[key] = true;\n    });\n\n    if (expect.flags.not && keys.length === 0) {\n      return;\n    }\n\n    var hasKeys = keys.every(function (key) {\n      return keysInSubject[key];\n    });\n\n    if (expect.flags.only) {\n      expect(hasKeys, 'to be truthy');\n      expect.withError(function () {\n        expect(subjectKeys.length === keys.length, '[not] to be truthy');\n      }, function () {\n        expect.fail({\n          diff: !expect.flags.not && function (output, diff, inspect, equal) {\n            output.inline = true;\n            var keyInValue = {};\n            keys.forEach(function (key) {\n              keyInValue[key] = true;\n            });\n            var subjectIsArrayLike = subjectType.is('array-like');\n            subjectType.prefix(output, subject);\n            output.nl().indentLines();\n            subjectKeys.forEach(function (key, index) {\n              var propertyOutput = subjectType.property(output.clone(), key, inspect(subjectType.valueForKey(subject, key)), subjectIsArrayLike);\n              var delimiterOutput = subjectType.delimiter(output.clone(), index, subjectKeys.length);\n              output.i().block(function () {\n                this.append(propertyOutput).amend(delimiterOutput);\n\n                if (!keyInValue[key]) {\n                  this.sp().annotationBlock(function () {\n                    this.error('should be removed');\n                  });\n                }\n              }).nl();\n            });\n            output.outdentLines();\n            subjectType.suffix(output, subject);\n            return output;\n          }\n        });\n      });\n    } else {\n      expect(hasKeys, '[not] to be truthy');\n    }\n  });\n  expect.addAssertion('<object> [not] to be empty', function (expect, subject) {\n    if (expect.flags.not && !expect.findTypeOf(subject).getKeys(subject).length) {\n      return expect.fail();\n    }\n\n    expect(subject, 'to [not] only have keys', []);\n  });\n  expect.addAssertion('<object> not to have keys <array>', function (expect, subject, keys) {\n    expect(subject, 'to not have keys', keys);\n  });\n  expect.addAssertion('<object> not to have key <string>', function (expect, subject, value) {\n    expect(subject, 'to not have keys', [value]);\n  });\n  expect.addAssertion('<object> not to have keys <string+>', function (expect, subject, value) {\n    expect(subject, 'to not have keys', Array.prototype.slice.call(arguments, 2));\n  });\n  expect.addAssertion('<object> to [not] [only] have key <string>', function (expect, subject, value) {\n    expect(subject, 'to [not] [only] have keys', [value]);\n  });\n  expect.addAssertion('<object> to [not] [only] have keys <string+>', function (expect, subject) {\n    expect(subject, 'to [not] [only] have keys', Array.prototype.slice.call(arguments, 2));\n  });\n  expect.addAssertion('<string> [not] to contain <string+>', function (expect, subject) {\n    var args = Array.prototype.slice.call(arguments, 2);\n    args.forEach(function (arg) {\n      if (arg === '') {\n        throw new Error(\"The '\".concat(expect.testDescription, \"' assertion does not support the empty string\"));\n      }\n    });\n    expect.withError(function () {\n      args.forEach(function (arg) {\n        expect(subject.indexOf(arg) !== -1, '[not] to be truthy');\n      });\n    }, function (e) {\n      expect.fail({\n        diff: function diff(output) {\n          output.inline = false;\n          var lastIndex = 0;\n\n          function flushUntilIndex(i) {\n            if (i > lastIndex) {\n              output.text(subject.substring(lastIndex, i));\n              lastIndex = i;\n            }\n          }\n\n          if (expect.flags.not) {\n            subject.replace(new RegExp(args.map(function (arg) {\n              return utils.escapeRegExpMetaChars(arg);\n            }).join('|'), 'g'), function ($0, index) {\n              flushUntilIndex(index);\n              lastIndex += $0.length;\n              output.removedHighlight($0);\n            });\n            flushUntilIndex(subject.length);\n          } else {\n            var ranges = [];\n            args.forEach(function (arg) {\n              var needle = arg;\n              var partial = false;\n\n              while (needle.length > 1) {\n                var found = false;\n                lastIndex = -1;\n                var index = void 0;\n\n                do {\n                  index = subject.indexOf(needle, lastIndex + 1);\n\n                  if (index !== -1) {\n                    found = true;\n                    ranges.push({\n                      startIndex: index,\n                      endIndex: index + needle.length,\n                      partial: partial\n                    });\n                  }\n\n                  lastIndex = index;\n                } while (lastIndex !== -1);\n\n                if (found) {\n                  break;\n                }\n\n                needle = arg.substr(0, needle.length - 1);\n                partial = true;\n              }\n            });\n            lastIndex = 0;\n            ranges.sort(function (a, b) {\n              return a.startIndex - b.startIndex;\n            }).forEach(function (_ref) {\n              var startIndex = _ref.startIndex,\n                  endIndex = _ref.endIndex,\n                  partial = _ref.partial;\n              flushUntilIndex(startIndex);\n              var firstUncoveredIndex = Math.max(startIndex, lastIndex);\n\n              if (endIndex > firstUncoveredIndex) {\n                if (partial) {\n                  output.partialMatch(subject.substring(firstUncoveredIndex, endIndex));\n                } else {\n                  output.match(subject.substring(firstUncoveredIndex, endIndex));\n                }\n\n                lastIndex = endIndex;\n              }\n            });\n            flushUntilIndex(subject.length);\n          }\n\n          return output;\n        }\n      });\n    });\n  });\n  expect.addAssertion('<array-like> [not] to contain <any+>', function (expect, subject) {\n    var args = Array.prototype.slice.call(arguments, 2);\n    expect.withError(function () {\n      args.forEach(function (arg) {\n        expect(subject && Array.prototype.some.call(subject, function (item) {\n          return expect.equal(item, arg);\n        }), '[not] to be truthy');\n      });\n    }, function (e) {\n      expect.fail({\n        diff: expect.flags.not && function (output, diff, inspect, equal) {\n          return diff(subject, Array.prototype.filter.call(subject, function (item) {\n            return !args.some(function (arg) {\n              return equal(item, arg);\n            });\n          }));\n        }\n      });\n    });\n  });\n  expect.addAssertion(['<string> [not] to begin with <string>', '<string> [not] to start with <string>'], function (expect, subject, value) {\n    if (value === '') {\n      throw new Error(\"The '\".concat(expect.testDescription, \"' assertion does not support a prefix of the empty string\"));\n    }\n\n    var isTruncated = false;\n    var outputSubject = utils.truncateSubjectStringForBegin(subject, value);\n\n    if (outputSubject === null) {\n      outputSubject = subject;\n    } else {\n      isTruncated = true;\n    }\n\n    expect.subjectOutput = function (output) {\n      output = output.jsString(\"'\" + outputSubject.replace(/\\n/g, '\\\\n') + \"'\");\n\n      if (isTruncated) {\n        output.jsComment('...');\n      }\n    };\n\n    expect.withError(function () {\n      expect(subject.substr(0, value.length), '[not] to equal', value);\n    }, function () {\n      expect.fail({\n        diff: function diff(output) {\n          output.inline = false;\n\n          if (expect.flags.not) {\n            output.removedHighlight(value).text(subject.substr(value.length));\n          } else {\n            var i = 0;\n\n            while (subject[i] === value[i]) {\n              i += 1;\n            }\n\n            if (i === 0) {\n              // No common prefix, omit diff\n              return null;\n            } else {\n              output.partialMatch(subject.substr(0, i)).text(outputSubject.substr(i)).jsComment(isTruncated ? '...' : '');\n            }\n          }\n\n          return output;\n        }\n      });\n    });\n  });\n  expect.addAssertion('<string> [not] to end with <string>', function (expect, subject, value) {\n    if (value === '') {\n      throw new Error(\"The '\".concat(expect.testDescription, \"' assertion does not support a suffix of the empty string\"));\n    }\n\n    var isTruncated = false;\n    var outputSubject = utils.truncateSubjectStringForEnd(subject, value);\n\n    if (outputSubject === null) {\n      outputSubject = subject;\n    } else {\n      isTruncated = true;\n    }\n\n    expect.subjectOutput = function (output) {\n      if (isTruncated) {\n        output = output.jsComment('...');\n      }\n\n      output.jsString(\"'\" + outputSubject.replace(/\\n/g, '\\\\n') + \"'\");\n    };\n\n    expect.withError(function () {\n      expect(subject.substr(-value.length), '[not] to equal', value);\n    }, function () {\n      expect.fail({\n        diff: function diff(output) {\n          output.inline = false;\n\n          if (expect.flags.not) {\n            output.text(subject.substr(0, subject.length - value.length)).removedHighlight(value);\n          } else {\n            var i = 0;\n\n            while (outputSubject[outputSubject.length - 1 - i] === value[value.length - 1 - i]) {\n              i += 1;\n            }\n\n            if (i === 0) {\n              // No common suffix, omit diff\n              return null;\n            }\n\n            output.jsComment(isTruncated ? '...' : '').text(outputSubject.substr(0, outputSubject.length - i)).partialMatch(outputSubject.substr(outputSubject.length - i, outputSubject.length));\n          }\n\n          return output;\n        }\n      });\n    });\n  });\n  expect.addAssertion('<number> [not] to be finite', function (expect, subject) {\n    expect(isFinite(subject), '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be infinite', function (expect, subject) {\n    expect(!isNaN(subject) && !isFinite(subject), '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be within <number> <number>', function (expect, subject, start, finish) {\n    expect.argsOutput = function (output) {\n      output.appendInspected(start).text('..').appendInspected(finish);\n    };\n\n    expect(subject >= start && subject <= finish, '[not] to be truthy');\n  });\n  expect.addAssertion('<string> [not] to be within <string> <string>', function (expect, subject, start, finish) {\n    expect.argsOutput = function (output) {\n      output.appendInspected(start).text('..').appendInspected(finish);\n    };\n\n    expect(subject >= start && subject <= finish, '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be (less than|below) <number>', function (expect, subject, value) {\n    expect(subject < value, '[not] to be truthy');\n  });\n  expect.addAssertion('<string> [not] to be (less than|below) <string>', function (expect, subject, value) {\n    expect(subject < value, '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be less than or equal to <number>', function (expect, subject, value) {\n    expect(subject <= value, '[not] to be truthy');\n  });\n  expect.addAssertion('<string> [not] to be less than or equal to <string>', function (expect, subject, value) {\n    expect(subject <= value, '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be (greater than|above) <number>', function (expect, subject, value) {\n    expect(subject > value, '[not] to be truthy');\n  });\n  expect.addAssertion('<string> [not] to be (greater than|above) <string>', function (expect, subject, value) {\n    expect(subject > value, '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be greater than or equal to <number>', function (expect, subject, value) {\n    expect(subject >= value, '[not] to be truthy');\n  });\n  expect.addAssertion('<string> [not] to be greater than or equal to <string>', function (expect, subject, value) {\n    expect(subject >= value, '[not] to be truthy');\n  });\n  expect.addAssertion('<number> [not] to be positive', function (expect, subject) {\n    expect(subject, '[not] to be greater than', 0);\n  });\n  expect.addAssertion('<number> [not] to be negative', function (expect, subject) {\n    expect(subject, '[not] to be less than', 0);\n  });\n  expect.addAssertion('<any> to equal <any>', function (expect, subject, value) {\n    expect.withError(function () {\n      expect(expect.equal(value, subject), 'to be truthy');\n    }, function (e) {\n      expect.fail({\n        label: 'should equal',\n        diff: function diff(output, _diff2) {\n          return _diff2(subject, value);\n        }\n      });\n    });\n  });\n  expect.addAssertion('<any> not to equal <any>', function (expect, subject, value) {\n    expect(expect.equal(value, subject), 'to be falsy');\n  });\n  expect.addAssertion('<function> to error', function (expect, subject) {\n    return expect.promise(function () {\n      return subject();\n    }).then(function () {\n      expect.fail();\n    }, function (error) {\n      return error;\n    });\n  });\n  expect.addAssertion('<function> to error [with] <any>', function (expect, subject, arg) {\n    return expect(subject, 'to error').then(function (error) {\n      expect.errorMode = 'nested';\n      return expect.withError(function () {\n        return expect(error, 'to satisfy', arg);\n      }, function (e) {\n        e.originalError = error;\n        throw e;\n      });\n    });\n  });\n  expect.addAssertion('<function> not to error', function (expect, subject) {\n    var threw = false;\n    return expect.promise(function () {\n      try {\n        return subject();\n      } catch (e) {\n        threw = true;\n        throw e;\n      }\n    }).caught(function (error) {\n      expect.errorMode = 'nested';\n      expect.fail({\n        output: function output(_output) {\n          _output.error(threw ? 'threw' : 'returned promise rejected with').error(': ').appendErrorMessage(error);\n        },\n        originalError: error\n      });\n    });\n  });\n  expect.addAssertion('<function> not to throw', function (expect, subject) {\n    var threw = false;\n    var error;\n\n    try {\n      subject();\n    } catch (e) {\n      error = e;\n      threw = true;\n    }\n\n    if (threw) {\n      expect.errorMode = 'nested';\n      expect.fail({\n        output: function output(_output2) {\n          _output2.error('threw: ').appendErrorMessage(error);\n        },\n        originalError: error\n      });\n    }\n  });\n  expect.addAssertion('<function> to (throw|throw error|throw exception)', function (expect, subject) {\n    try {\n      subject();\n    } catch (e) {\n      return e;\n    }\n\n    expect.errorMode = 'nested';\n    expect.fail('did not throw');\n  });\n  expect.addAssertion('<object> to satisfy <function>', function (expect) {\n    return expect.fail();\n  });\n  expect.addAssertion('<function> to throw (a|an) <function>', function (expect, subject, value) {\n    var constructorName = utils.getFunctionName(value);\n\n    if (constructorName) {\n      expect.argsOutput[0] = function (output) {\n        output.jsFunctionName(constructorName);\n      };\n    }\n\n    expect.errorMode = 'nested';\n    return expect(subject, 'to throw').then(function (error) {\n      expect(error, 'to be a', value);\n    });\n  });\n  expect.addAssertion('<function> to (throw|throw error|throw exception) <any>', function (expect, subject, arg) {\n    expect.errorMode = 'nested';\n    return expect(subject, 'to throw').then(function (error) {\n      // in the presence of a matcher an error must have been thrown.\n      expect.errorMode = 'nested';\n      return expect.withError(function () {\n        return expect(error, 'to satisfy', arg);\n      }, function (err) {\n        err.originalError = error;\n        throw err;\n      });\n    });\n  });\n  expect.addAssertion('<function> to have arity <number>', function (expect, _ref2, value) {\n    var length = _ref2.length;\n    expect(length, 'to equal', value);\n  });\n  expect.addAssertion(['<object> to have values [exhaustively] satisfying <any>', '<object> to have values [exhaustively] satisfying <assertion>', '<object> to be (a map|a hash|an object) whose values [exhaustively] satisfy <any>', '<object> to be (a map|a hash|an object) whose values [exhaustively] satisfy <assertion>'], function (expect, subject, nextArg) {\n    expect.errorMode = 'nested';\n    expect(subject, 'not to be empty');\n    expect.errorMode = 'bubble';\n    var keys = expect.subjectType.getKeys(subject);\n    var expected = {};\n    keys.forEach(function (key) {\n      if (typeof nextArg === 'string') {\n        expected[key] = expect.it(function (s) {\n          return expect.shift(s);\n        });\n      } else {\n        expected[key] = nextArg;\n      }\n    });\n    return expect.withError(function () {\n      return expect(subject, 'to [exhaustively] satisfy', expected);\n    }, function (err) {\n      expect.fail({\n        message: function message(output) {\n          output.append(expect.standardErrorMessage(output.clone(), {\n            compact: err && err._isUnexpected && err.hasDiff()\n          }));\n        },\n        diff: function diff(output) {\n          var diff = err.getDiff({\n            output: output\n          });\n          diff.inline = true;\n          return diff;\n        }\n      });\n    });\n  });\n  expect.addAssertion(['<array-like> to have items [exhaustively] satisfying <any>', '<array-like> to have items [exhaustively] satisfying <assertion>', '<array-like> to be an array whose items [exhaustively] satisfy <any>', '<array-like> to be an array whose items [exhaustively] satisfy <assertion>'], function (expect, subject) {\n    for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      rest[_key - 2] = arguments[_key];\n    }\n\n    // ...\n    expect.errorMode = 'nested';\n    expect(subject, 'not to be empty');\n    expect.errorMode = 'bubble';\n    return expect.withError(function () {\n      return expect.apply(void 0, [subject, 'to have values [exhaustively] satisfying'].concat(rest));\n    }, function (err) {\n      expect.fail({\n        message: function message(output) {\n          output.append(expect.standardErrorMessage(output.clone(), {\n            compact: err && err._isUnexpected && err.hasDiff()\n          }));\n        },\n        diff: function diff(output) {\n          var diff = err.getDiff({\n            output: output\n          });\n          diff.inline = true;\n          return diff;\n        }\n      });\n    });\n  });\n  expect.addAssertion(['<object> to have keys satisfying <any>', '<object> to have keys satisfying <assertion>', '<object> to be (a map|a hash|an object) whose (keys|properties) satisfy <any>', '<object> to be (a map|a hash|an object) whose (keys|properties) satisfy <assertion>'], function (expect, subject) {\n    expect.errorMode = 'nested';\n    expect(subject, 'not to be empty');\n    expect.errorMode = 'default';\n    var keys = expect.subjectType.getKeys(subject);\n\n    for (var _len2 = arguments.length, rest = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      rest[_key2 - 2] = arguments[_key2];\n    }\n\n    return expect.apply(void 0, [keys, 'to have items satisfying'].concat(rest));\n  });\n  expect.addAssertion(['<object> [not] to have a value [exhaustively] satisfying <any>', '<object> [not] to have a value [exhaustively] satisfying <assertion>'], function (expect, subject, nextArg) {\n    expect.errorMode = 'nested';\n    expect(subject, 'not to be empty');\n    expect.errorMode = 'bubble';\n    var subjectType = expect.findTypeOf(subject);\n    var keys = subjectType.getKeys(subject);\n    var not = !!expect.flags.not;\n    var keyResults = new Array(keys.length);\n    expect.withError(function () {\n      return expect.promise[not ? 'all' : 'any'](keys.map(function (key) {\n        var expected;\n\n        if (typeof nextArg === 'string') {\n          expected = expect.it(function (s) {\n            return expect.shift(s);\n          });\n        } else {\n          expected = nextArg;\n        }\n\n        keyResults[key] = expect.promise(function () {\n          return expect(subjectType.valueForKey(subject, key), '[not] to [exhaustively] satisfy', expected);\n        });\n        return keyResults[key];\n      }));\n    }, function (err) {\n      expect.fail({\n        message: function message(output) {\n          output.append(expect.standardErrorMessage(output.clone(), {\n            compact: err && err._isUnexpected && err.hasDiff()\n          }));\n        },\n        diff: expect.flags.not && function (output, diff, inspect, equal) {\n          var expectedObject = subjectType.is('array-like') ? [] : {};\n          keys.forEach(function (key) {\n            if (keyResults[key].isFulfilled()) {\n              expectedObject[key] = subjectType.valueForKey(subject, key);\n            }\n          });\n          return diff(subject, expectedObject);\n        }\n      });\n    });\n  });\n  expect.addAssertion(['<array-like> [not] to have an item [exhaustively] satisfying <any>', '<array-like> [not] to have an item [exhaustively] satisfying <assertion>'], function (expect, subject) {\n    expect.errorMode = 'nested';\n    expect(subject, 'not to be empty');\n    expect.errorMode = 'default';\n\n    for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n      rest[_key3 - 2] = arguments[_key3];\n    }\n\n    return expect.apply(void 0, [subject, '[not] to have a value [exhaustively] satisfying'].concat(rest));\n  });\n  expect.addAssertion('<object> to be canonical', function (expect, subject) {\n    var stack = [];\n\n    (function traverse(obj) {\n      var i;\n\n      for (i = 0; i < stack.length; i += 1) {\n        if (stack[i] === obj) {\n          return;\n        }\n      }\n\n      if (obj && _typeof(obj) === 'object') {\n        var keys = Object.keys(obj);\n\n        for (i = 0; i < keys.length - 1; i += 1) {\n          expect(keys[i], 'to be less than', keys[i + 1]);\n        }\n\n        stack.push(obj);\n        keys.forEach(function (key) {\n          traverse(obj[key]);\n        });\n        stack.pop();\n      }\n    })(subject);\n  });\n  expect.addAssertion('<Error> to have message <any>', function (expect, subject, value) {\n    expect.errorMode = 'nested';\n    return expect(subject.isUnexpected ? subject.getErrorMessage('text').toString() : subject.message, 'to satisfy', value);\n  });\n  expect.addAssertion('<Error> to [exhaustively] satisfy <Error>', function (expect, subject, value) {\n    expect(subject.constructor, 'to be', value.constructor);\n    var unwrappedValue = expect.argTypes[0].unwrap(value);\n    return expect.withError(function () {\n      return expect(subject, 'to [exhaustively] satisfy', unwrappedValue);\n    }, function (e) {\n      expect.fail({\n        diff: function diff(output, _diff3) {\n          output.inline = false;\n          var unwrappedSubject = expect.subjectType.unwrap(subject);\n          return utils.wrapConstructorNameAroundOutput(_diff3(unwrappedSubject, unwrappedValue), subject);\n        }\n      });\n    });\n  });\n  expect.addAssertion('<Error> to [exhaustively] satisfy <object>', function (expect, subject, value) {\n    var valueType = expect.argTypes[0];\n    var subjectKeys = expect.subjectType.getKeys(subject);\n    var valueKeys = valueType.getKeys(value);\n    var convertedSubject = {};\n    subjectKeys.concat(valueKeys).forEach(function (key) {\n      convertedSubject[key] = subject[key];\n    });\n    return expect(convertedSubject, 'to [exhaustively] satisfy', value);\n  });\n  expect.addAssertion('<Error> to [exhaustively] satisfy <regexp|string|any>', function (expect, _ref3, value) {\n    var message = _ref3.message;\n    return expect(message, 'to [exhaustively] satisfy', value);\n  });\n  expect.addAssertion('<UnexpectedError> to [exhaustively] satisfy <regexp|string>', function (expect, error, value) {\n    expect.errorMode = 'bubble';\n    return expect(error, 'to have message', value);\n  });\n  expect.addAssertion('<binaryArray> to [exhaustively] satisfy <expect.it>', function (expect, subject, value) {\n    return expect.withError(function () {\n      return value(subject, expect.context);\n    }, function (e) {\n      expect.fail({\n        diff: function diff(output, _diff4, inspect, equal) {\n          output.inline = false;\n          return output.appendErrorMessage(e);\n        }\n      });\n    });\n  });\n  expect.addAssertion('<any|Error> to [exhaustively] satisfy <expect.it>', function (expect, subject, value) {\n    return expect.promise(function () {\n      return value(subject);\n    });\n  });\n\n  if (typeof Buffer !== 'undefined') {\n    expect.addAssertion('<Buffer> [when] decoded as <string> <assertion?>', function (expect, subject, value) {\n      return expect.shift(subject.toString(value));\n    });\n  }\n\n  expect.addAssertion('<any> not to [exhaustively] satisfy [assertion] <any>', function (expect, subject, value) {\n    return expect.promise(function (resolve, reject) {\n      return expect.promise(function () {\n        return expect(subject, 'to [exhaustively] satisfy [assertion]', value);\n      }).then(function () {\n        try {\n          expect.fail();\n        } catch (e) {\n          reject(e);\n        }\n      }).caught(function (e) {\n        if (!e || !e._isUnexpected) {\n          reject(e);\n        } else {\n          resolve();\n        }\n      });\n    });\n  });\n  expect.addAssertion('<any> to [exhaustively] satisfy assertion <any>', function (expect, subject, value) {\n    expect.errorMode = 'bubble'; // to satisfy assertion 'to be a number' => to be a number\n\n    return expect(subject, 'to [exhaustively] satisfy', value);\n  });\n  expect.addAssertion('<any> to [exhaustively] satisfy assertion <assertion>', function (expect, subject) {\n    expect.errorMode = 'bubble'; // to satisfy assertion 'to be a number' => to be a number\n\n    return expect.shift();\n  });\n  expect.addAssertion('<any|object> to [exhaustively] satisfy [assertion] <expect.it>', function (expect, subject, value) {\n    return expect.withError(function () {\n      return value(subject, expect.context);\n    }, function (e) {\n      expect.fail({\n        diff: function diff(output) {\n          output.inline = false;\n          return output.appendErrorMessage(e);\n        }\n      });\n    });\n  });\n  expect.addAssertion('<regexp> to [exhaustively] satisfy <regexp>', function (expect, subject, value) {\n    expect(subject, 'to equal', value);\n  });\n  expect.addAssertion('<string> to [exhaustively] satisfy <regexp>', function (expect, subject, value) {\n    expect.errorMode = 'bubble';\n    return expect(subject, 'to match', value);\n  });\n  expect.addAssertion('<function> to [exhaustively] satisfy <function>', function (expect, subject, value) {\n    expect.errorMode = 'bubble';\n    expect(subject, 'to be', value);\n  });\n  expect.addAssertion('<binaryArray> to [exhaustively] satisfy <binaryArray>', function (expect, subject, value) {\n    expect.errorMode = 'bubble';\n    expect(subject, 'to equal', value);\n  });\n  expect.addAssertion('<any> to [exhaustively] satisfy <any>', function (expect, subject, value) {\n    expect.errorMode = 'bubble';\n    expect(subject, 'to equal', value);\n  });\n  expect.addAssertion('<array-like> to [exhaustively] satisfy <array-like>', function (expect, subject, value) {\n    expect.errorMode = 'bubble';\n    var subjectType = expect.subjectType;\n    var subjectKeys = subjectType.getKeys(subject);\n    var valueType = expect.argTypes[0];\n    var valueKeys = valueType.getKeys(value).filter(function (key) {\n      return utils.numericalRegExp.test(key) || _typeof(key) === 'symbol' || // include keys whose value is not undefined on either LHS or RHS\n      typeof valueType.valueForKey(value, key) !== 'undefined' || typeof subjectType.valueForKey(subject, key) !== 'undefined';\n    });\n    var keyPromises = {};\n    valueKeys.forEach(function (keyInValue) {\n      keyPromises[keyInValue] = expect.promise(function () {\n        var subjectKey = subjectType.valueForKey(subject, keyInValue);\n        var valueKey = valueType.valueForKey(value, keyInValue);\n        var valueKeyType = expect.findTypeOf(valueKey);\n\n        if (valueKeyType.is('expect.it')) {\n          expect.context.thisObject = subject;\n          return valueKey(subjectKey, expect.context);\n        } else {\n          return expect(subjectKey, 'to [exhaustively] satisfy', valueKey);\n        }\n      });\n    });\n    return expect.promise.all([expect.promise(function () {\n      // create subject key presence object\n      var remainingKeysInSubject = {};\n      subjectKeys.forEach(function (key) {\n        remainingKeysInSubject[key] = 1; // present in subject\n      }); // discard or mark missing each previously seen value key\n\n      valueKeys.forEach(function (key) {\n        if (!remainingKeysInSubject[key] && (utils.numericalRegExp.test(key) || expect.flags.exhaustively)) {\n          remainingKeysInSubject[key] = 2; // present in value\n        } else {\n          delete remainingKeysInSubject[key];\n        }\n      }); // check whether there are any outstanding keys we cannot account for\n\n      var outstandingKeys = Object.keys(remainingKeysInSubject).filter(function (key) {\n        return utils.numericalRegExp.test(key) || _typeof(key) === 'symbol' || typeof subjectType.valueForKey(subject, key) !== 'undefined' && // key was only in the value\n        remainingKeysInSubject[key] === 2;\n      }); // key checking succeeds with no outstanding keys\n\n      expect(outstandingKeys.length === 0, 'to be truthy');\n    }), expect.promise.all(keyPromises)]).caught(function () {\n      var i = 0;\n      return expect.promise.settle(keyPromises).then(function () {\n        var toSatisfyMatrix = new Array(subject.length);\n\n        for (i = 0; i < subject.length; i += 1) {\n          toSatisfyMatrix[i] = new Array(value.length);\n\n          if (i < value.length) {\n            toSatisfyMatrix[i][i] = keyPromises[i].isFulfilled() || keyPromises[i].reason();\n          }\n        }\n\n        if (subject.length > 10 || value.length > 10) {\n          var indexByIndexChanges = [];\n\n          for (i = 0; i < subject.length; i += 1) {\n            var promise = keyPromises[i];\n\n            if (i < value.length) {\n              indexByIndexChanges.push({\n                type: promise.isFulfilled() ? 'equal' : 'similar',\n                value: subject[i],\n                expected: value[i],\n                actualIndex: i,\n                expectedIndex: i,\n                last: i === Math.max(subject.length, value.length) - 1\n              });\n            } else {\n              indexByIndexChanges.push({\n                type: 'remove',\n                value: subject[i],\n                actualIndex: i,\n                last: i === subject.length - 1\n              });\n            }\n          }\n\n          for (i = subject.length; i < value.length; i += 1) {\n            indexByIndexChanges.push({\n              type: 'insert',\n              value: value[i],\n              expectedIndex: i\n            });\n          }\n\n          return failWithChanges(indexByIndexChanges);\n        }\n\n        var isAsync = false;\n        var subjectElements = utils.duplicateArrayLikeUsingType(subject, subjectType);\n        var valueElements = utils.duplicateArrayLikeUsingType(value, valueType);\n        var nonNumericalKeysAndSymbols = !subjectType.numericalPropertiesOnly && utils.uniqueNonNumericalStringsAndSymbols(subjectKeys, valueKeys);\n        var changes = arrayChanges(subjectElements, valueElements, function equal(a, b, aIndex, bIndex) {\n          toSatisfyMatrix[aIndex] = toSatisfyMatrix[aIndex] || [];\n          var existingResult = toSatisfyMatrix[aIndex][bIndex];\n\n          if (typeof existingResult !== 'undefined') {\n            return existingResult === true;\n          }\n\n          var result;\n\n          try {\n            result = expect(a, 'to [exhaustively] satisfy', b);\n          } catch (err) {\n            throwIfNonUnexpectedError(err);\n            toSatisfyMatrix[aIndex][bIndex] = err;\n            return false;\n          }\n\n          result.then(function () {}, function () {});\n\n          if (result.isPending()) {\n            isAsync = true;\n            return false;\n          }\n\n          toSatisfyMatrix[aIndex][bIndex] = true;\n          return true;\n        }, function (a, b) {\n          return subjectType.similar(a, b);\n        }, {\n          includeNonNumericalProperties: nonNumericalKeysAndSymbols\n        });\n\n        if (isAsync) {\n          return expect.promise(function (resolve, reject) {\n            arrayChangesAsync(subject, value, function equal(a, b, aIndex, bIndex, fn) {\n              toSatisfyMatrix[aIndex] = toSatisfyMatrix[aIndex] || [];\n              var existingResult = toSatisfyMatrix[aIndex][bIndex];\n\n              if (typeof existingResult !== 'undefined') {\n                return fn(existingResult === true);\n              }\n\n              expect.promise(function () {\n                return expect(a, 'to [exhaustively] satisfy', b);\n              }).then(function () {\n                toSatisfyMatrix[aIndex][bIndex] = true;\n                fn(true);\n              }, function (err) {\n                toSatisfyMatrix[aIndex][bIndex] = err;\n                fn(false);\n              });\n            }, function (a, b, aIndex, bIndex, fn) {\n              fn(subjectType.similar(a, b));\n            }, nonNumericalKeysAndSymbols, resolve);\n          }).then(failWithChanges);\n        } else {\n          return failWithChanges(changes);\n        }\n\n        function failWithChanges(changes) {\n          expect.errorMode = 'default';\n          expect.fail({\n            diff: function diff(output, _diff5, inspect, equal) {\n              output.inline = true;\n              var indexOfLastNonInsert = changes.reduce(function (previousValue, _ref4, index) {\n                var type = _ref4.type;\n                return type === 'insert' ? previousValue : index;\n              }, -1);\n              var prefixOutput = subjectType.prefix(output.clone(), subject);\n              output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n              if (subjectType.indent) {\n                output.indentLines();\n              }\n\n              var packing = utils.packArrows(changes); // NOTE: Will have side effects in changes if the packing results in too many arrow lanes\n\n              output.arrowsAlongsideChangeOutputs(packing, changes.map(function (diffItem, index) {\n                var delimiterOutput = subjectType.delimiter(output.clone(), index, indexOfLastNonInsert + 1);\n                var type = diffItem.type;\n\n                if (type === 'moveTarget') {\n                  return output.clone();\n                } else {\n                  return output.clone().block(function () {\n                    if (type === 'moveSource') {\n                      var propertyOutput = subjectType.property(output.clone(), diffItem.actualIndex, inspect(diffItem.value), true);\n                      this.append(propertyOutput).amend(delimiterOutput).sp().error('// should be moved');\n                    } else if (type === 'insert') {\n                      this.annotationBlock(function () {\n                        if (expect.findTypeOf(diffItem.value).is('expect.it')) {\n                          this.error('missing: ').block(function () {\n                            this.omitSubject = undefined;\n                            var promise = keyPromises[diffItem.expectedIndex];\n\n                            if (promise.isRejected()) {\n                              this.appendErrorMessage(promise.reason());\n                            } else {\n                              this.appendInspected(diffItem.value);\n                            }\n                          });\n                        } else {\n                          var _index = typeof diffItem.actualIndex !== 'undefined' ? diffItem.actualIndex : diffItem.expectedIndex;\n\n                          var _propertyOutput = subjectType.property(output.clone(), _index, inspect(diffItem.value), true);\n\n                          this.error('missing ').append(_propertyOutput);\n                        }\n                      });\n                    } else {\n                      var _propertyOutput2 = subjectType.property(output.clone(), diffItem.actualIndex, inspect(diffItem.value), true);\n\n                      this.block(function () {\n                        if (type === 'remove') {\n                          this.append(_propertyOutput2).amend(delimiterOutput).sp().error('// should be removed');\n                        } else if (type === 'equal') {\n                          this.append(_propertyOutput2).amend(delimiterOutput);\n                        } else {\n                          var toSatisfyResult = toSatisfyMatrix[diffItem.actualIndex][diffItem.expectedIndex];\n                          var valueDiff = toSatisfyResult && toSatisfyResult !== true && toSatisfyResult.getDiff({\n                            output: output.clone()\n                          });\n\n                          if (valueDiff && valueDiff.inline) {\n                            this.append(valueDiff).amend(delimiterOutput);\n                          } else {\n                            this.append(_propertyOutput2).amend(delimiterOutput).sp().annotationBlock(function () {\n                              this.omitSubject = diffItem.value;\n                              var label = toSatisfyResult.getLabel();\n\n                              if (label) {\n                                this.error(label).sp().block(inspect(diffItem.expected));\n\n                                if (valueDiff) {\n                                  this.nl(2).append(valueDiff);\n                                }\n                              } else {\n                                this.appendErrorMessage(toSatisfyResult);\n                              }\n                            });\n                          }\n                        }\n                      });\n                    }\n                  });\n                }\n              }));\n\n              if (subjectType.indent) {\n                output.outdentLines();\n              }\n\n              var suffixOutput = subjectType.suffix(output.clone(), subject);\n              output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n              return output;\n            }\n          });\n        }\n      });\n    });\n  });\n  expect.addAssertion('<object> to [exhaustively] satisfy <object>', function (expect, subject, value) {\n    var valueType = expect.argTypes[0];\n    var subjectType = expect.subjectType;\n    var subjectIsArrayLike = subjectType.is('array-like');\n\n    if (subject === value) {\n      return;\n    }\n\n    if (valueType.is('array-like') && !subjectIsArrayLike) {\n      expect.fail();\n    }\n\n    var subjectKeys = subjectType.getKeys(subject);\n    var valueKeys = valueType.getKeys(value); // calculate the unique keys early given enumerability no\n    // longer affects what is included in the list of keys\n\n    var uniqueKeys = subjectType.uniqueKeys(subjectKeys, valueKeys);\n    var promiseByKey = {};\n    var forceExhaustivelyComparison = false;\n    uniqueKeys.forEach(function (key, index) {\n      var subjectHasKey = subjectType.hasKey(subject, key);\n      var valueKey = valueType.hasKey(value, key, true) ? valueType.valueForKey(value, key) : undefined;\n      var valueKeyType = expect.findTypeOf(valueKey);\n\n      if (expect.flags.exhaustively) {\n        if (valueKeyType.is('expect.it') && !subjectHasKey) {\n          // ensure value only expect.it key is marked missing\n          forceExhaustivelyComparison = true;\n        }\n      } else if (subjectHasKey && typeof valueKey === 'undefined') {\n        // ignore subject only keys unless we are being exhaustive\n        return;\n      }\n\n      var subjectKey = subjectHasKey ? subjectType.valueForKey(subject, key) : undefined;\n      promiseByKey[key] = expect.promise(function () {\n        if (valueKeyType.is('expect.it')) {\n          expect.context.thisObject = subject;\n          return valueKey(subjectKey, expect.context);\n        } else {\n          return expect(subjectKey, 'to [exhaustively] satisfy', valueKey);\n        }\n      });\n    });\n    return expect.promise.all([expect.promise(function () {\n      if (forceExhaustivelyComparison) {\n        throw new Error('exhaustive comparison failure');\n      }\n    }), expect.promise.all(promiseByKey)]).caught(function () {\n      return expect.promise.settle(promiseByKey).then(function () {\n        expect.fail({\n          diff: function diff(output, _diff6, inspect, equal) {\n            output.inline = true;\n            var subjectIsArrayLike = subjectType.is('array-like'); // Skip missing keys expected to be missing so they don't get rendered in the diff\n\n            var keys = uniqueKeys.filter(function (key) {\n              return subjectType.hasKey(subject, key) || typeof valueType.valueForKey(value, key) !== 'undefined';\n            });\n            var prefixOutput = subjectType.prefix(output.clone(), subject);\n            output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n            if (subjectType.indent) {\n              output.indentLines();\n            }\n\n            keys.forEach(function (key, index) {\n              var subjectKey = subjectType.valueForKey(subject, key);\n              var valueKey = valueType.valueForKey(value, key);\n              output.nl(index > 0 ? 1 : 0).i().block(function () {\n                var valueOutput;\n                var annotation = output.clone();\n                var conflicting;\n\n                if (Object.prototype.hasOwnProperty.call(promiseByKey, key) && promiseByKey[key].isRejected()) {\n                  conflicting = promiseByKey[key].reason();\n                }\n\n                var missingArrayIndex = subjectType.is('array-like') && !subjectType.hasKey(subject, key);\n                var isInlineDiff = true;\n                output.omitSubject = subjectKey;\n\n                if (!valueType.hasKey(value, key)) {\n                  if (expect.flags.exhaustively) {\n                    annotation.error('should be removed');\n                  } else {\n                    conflicting = null;\n                  }\n                } else if (!subjectType.hasKey(subject, key)) {\n                  if (expect.findTypeOf(valueKey).is('expect.it')) {\n                    if (promiseByKey[key].isRejected()) {\n                      output.error('// missing:').sp();\n                      valueOutput = output.clone().appendErrorMessage(promiseByKey[key].reason());\n                    } else {\n                      output.error('// missing').sp();\n                      valueOutput = output.clone().error('should satisfy').sp().block(inspect(value[key]));\n                    }\n                  } else {\n                    output.error('// missing').sp();\n                    valueOutput = inspect(valueKey);\n                  }\n                } else if (conflicting || missingArrayIndex) {\n                  var keyDiff = conflicting && conflicting.getDiff({\n                    output: output\n                  });\n                  isInlineDiff = !keyDiff || keyDiff.inline;\n\n                  if (missingArrayIndex) {\n                    output.error('// missing').sp();\n                  }\n\n                  if (keyDiff && keyDiff.inline) {\n                    valueOutput = keyDiff;\n                  } else if (expect.findTypeOf(valueKey).is('expect.it')) {\n                    isInlineDiff = false;\n                    annotation.appendErrorMessage(conflicting);\n                  } else if (!keyDiff || keyDiff && !keyDiff.inline) {\n                    annotation.error(conflicting && conflicting.getLabel() || 'should satisfy').sp().block(inspect(valueKey));\n\n                    if (keyDiff) {\n                      annotation.nl(2).append(keyDiff);\n                    }\n                  } else {\n                    valueOutput = keyDiff;\n                  }\n                }\n\n                if (!valueOutput) {\n                  if (missingArrayIndex || !subjectType.hasKey(subject, key)) {\n                    valueOutput = output.clone();\n                  } else {\n                    valueOutput = inspect(subjectKey);\n                  }\n                }\n\n                var omitDelimiter = missingArrayIndex || index >= subjectKeys.length - 1;\n\n                if (!omitDelimiter) {\n                  var delimiterOutput = subjectType.delimiter(output.clone(), index, keys.length);\n                  valueOutput.amend(delimiterOutput);\n                }\n\n                var annotationOnNextLine = !isInlineDiff && output.preferredWidth < this.size().width + valueOutput.size().width + annotation.size().width;\n\n                if (!annotation.isEmpty()) {\n                  if (!valueOutput.isEmpty()) {\n                    if (annotationOnNextLine) {\n                      valueOutput.nl();\n                    } else {\n                      valueOutput.sp();\n                    }\n                  }\n\n                  valueOutput.annotationBlock(function () {\n                    this.append(annotation);\n                  });\n                }\n\n                if (!isInlineDiff) {\n                  valueOutput = output.clone().block(valueOutput);\n                }\n\n                var propertyOutput = subjectType.property(output.clone(), key, valueOutput, subjectIsArrayLike);\n                this.append(propertyOutput);\n              });\n            });\n\n            if (subjectType.indent) {\n              output.outdentLines();\n            }\n\n            var suffixOutput = subjectType.suffix(output.clone(), subject);\n            return output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n          }\n        });\n      });\n    });\n  });\n\n  function wrapDiffWithTypePrefixAndSuffix(e, type, subject) {\n    var createDiff = e.getDiffMethod();\n\n    if (createDiff) {\n      return function (output) {\n        type.prefix(output, subject);\n\n        for (var _len4 = arguments.length, rest = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          rest[_key4 - 1] = arguments[_key4];\n        }\n\n        var result = createDiff.call.apply(createDiff, [this, output].concat(rest));\n        type.suffix(output, subject);\n        return result;\n      };\n    }\n  }\n\n  expect.addAssertion('<wrapperObject> to [exhaustively] satisfy <wrapperObject>', function (expect, subject, value) {\n    var type = expect.findCommonType(subject, value);\n    expect(type.is('wrapperObject'), 'to be truthy');\n    return expect.withError(function () {\n      return expect(type.unwrap(subject), 'to [exhaustively] satisfy', type.unwrap(value));\n    }, function (e) {\n      expect.fail({\n        label: e.getLabel(),\n        diff: wrapDiffWithTypePrefixAndSuffix(e, type, subject)\n      });\n    });\n  });\n  expect.addAssertion('<wrapperObject> to [exhaustively] satisfy <any>', function (expect, subject, value) {\n    var subjectType = expect.subjectType;\n    return expect.withError(function () {\n      return expect(subjectType.unwrap(subject), 'to [exhaustively] satisfy', value);\n    }, function (e) {\n      expect.fail({\n        label: e.getLabel(),\n        diff: wrapDiffWithTypePrefixAndSuffix(e, subjectType, subject)\n      });\n    });\n  });\n  expect.addAssertion('<function> [when] called with <array-like> <assertion?>', function (expect, subject, args) {\n    // ...\n    expect.errorMode = 'nested';\n\n    expect.argsOutput[0] = function (output) {\n      output.appendItems(args, ', ');\n    };\n\n    var thisObject = expect.context.thisObject || null;\n    return expect.shift(subject.apply(thisObject, args));\n  });\n  expect.addAssertion('<function> [when] called <assertion?>', function (expect, subject) {\n    expect.errorMode = 'nested';\n    var thisObject = expect.context.thisObject || null;\n    return expect.shift(subject.call(thisObject));\n  });\n\n  function instantiate(Constructor, args) {\n    function ProxyConstructor() {\n      return Constructor.apply(this, args);\n    }\n\n    ProxyConstructor.prototype = Constructor.prototype;\n    return new ProxyConstructor();\n  }\n\n  expect.addAssertion(['<array-like> [when] passed as parameters to [async] <function> <assertion?>', '<array-like> [when] passed as parameters to [constructor] <function> <assertion?>'], function (expect, subject, fn) {\n    // ...\n    expect.errorMode = 'nested';\n    var args = subject;\n\n    if (expect.flags.async) {\n      return expect.promise(function (run) {\n        args = [].concat(_toConsumableArray(args), [run(function (err, result) {\n          expect(err, 'to be falsy');\n          return expect.shift(result);\n        })]);\n        fn.apply(void 0, _toConsumableArray(args));\n      });\n    } else {\n      return expect.shift(expect.flags.constructor ? instantiate(fn, args) : fn.apply(void 0, _toConsumableArray(args)));\n    }\n  });\n  expect.addAssertion(['<any> [when] passed as parameter to [async] <function> <assertion?>', '<any> [when] passed as parameter to [constructor] <function> <assertion?>'], function (expect, subject, fn) {\n    // ...\n    expect.errorMode = 'nested';\n    var args = [subject];\n\n    if (expect.flags.async) {\n      return expect.promise(function (run) {\n        args = [].concat(_toConsumableArray(args), [run(function (err, result) {\n          expect(err, 'to be falsy');\n          return expect.shift(result);\n        })]);\n        fn.apply(void 0, _toConsumableArray(args));\n      });\n    } else {\n      return expect.shift(expect.flags.constructor ? instantiate(fn, args) : fn.apply(void 0, _toConsumableArray(args)));\n    }\n  });\n  expect.addAssertion(['<array-like> [when] sorted [numerically] <assertion?>', '<array-like> [when] sorted by <function> <assertion?>'], function (expect, subject, compareFunction) {\n    if (expect.flags.numerically) {\n      compareFunction = function compareFunction(a, b) {\n        return a - b;\n      };\n    }\n\n    return expect.shift(Array.prototype.slice.call(subject).sort(typeof compareFunction === 'function' ? compareFunction : undefined));\n  });\n  expect.addAssertion('<Promise> to be rejected', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect.promise(function () {\n      return subject;\n    }).then(function (obj) {\n      expect.fail(function (output) {\n        output.appendInspected(subject).sp().text('unexpectedly fulfilled');\n\n        if (typeof obj !== 'undefined') {\n          output.sp().text('with').sp().appendInspected(obj);\n        }\n      });\n    }, function (err) {\n      return err;\n    });\n  });\n  expect.addAssertion('<function> to be rejected', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect(expect.promise(function () {\n      return subject();\n    }), 'to be rejected');\n  });\n  expect.addAssertion(['<Promise> to be rejected with <any>', '<Promise> to be rejected with error [exhaustively] satisfying <any>'], function (expect, subject, value) {\n    expect.errorMode = 'nested';\n    return expect(subject, 'to be rejected').tap(function (err) {\n      return expect.withError(function () {\n        return expect(err, 'to [exhaustively] satisfy', value);\n      }, function (e) {\n        e.originalError = err;\n        throw e;\n      });\n    });\n  });\n  expect.addAssertion(['<function> to be rejected with <any>', '<function> to be rejected with error [exhaustively] satisfying <any>'], function (expect, subject, value) {\n    expect.errorMode = 'nested';\n    return expect(expect.promise(function () {\n      return subject();\n    }), 'to be rejected with error [exhaustively] satisfying', value);\n  });\n  expect.addAssertion('<Promise> to be fulfilled', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect.promise(function () {\n      return subject;\n    }).caught(function (err) {\n      expect.fail({\n        output: function output(_output3) {\n          _output3.appendInspected(subject).sp().text('unexpectedly rejected');\n\n          if (typeof err !== 'undefined') {\n            _output3.sp().text('with').sp().appendInspected(err);\n          }\n        },\n        originalError: err\n      });\n    });\n  });\n  expect.addAssertion('<function> to be fulfilled', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect(expect.promise(function () {\n      return subject();\n    }), 'to be fulfilled');\n  });\n  expect.addAssertion(['<Promise> to be fulfilled with <any>', '<Promise> to be fulfilled with value [exhaustively] satisfying <any>'], function (expect, subject, value) {\n    expect.errorMode = 'nested';\n    return expect(subject, 'to be fulfilled').tap(function (fulfillmentValue) {\n      return expect(fulfillmentValue, 'to [exhaustively] satisfy', value);\n    });\n  });\n  expect.addAssertion(['<function> to be fulfilled with <any>', '<function> to be fulfilled with value [exhaustively] satisfying <any>'], function (expect, subject, value) {\n    expect.errorMode = 'nested';\n    return expect(expect.promise(function () {\n      return subject();\n    }), 'to be fulfilled with value [exhaustively] satisfying', value);\n  });\n  expect.addAssertion('<Promise> when rejected <assertion>', function (expect, subject, nextAssertion) {\n    expect.errorMode = 'nested';\n    return expect.promise(function () {\n      return subject;\n    }).then(function (fulfillmentValue) {\n      if (typeof nextAssertion === 'string') {\n        expect.argsOutput = function (output) {\n          output.error(nextAssertion);\n          var rest = expect.args.slice(1);\n\n          if (rest.length > 0) {\n            output.sp().appendItems(rest, ', ');\n          }\n        };\n      }\n\n      expect.fail(function (output) {\n        output.appendInspected(subject).sp().text('unexpectedly fulfilled');\n\n        if (typeof fulfillmentValue !== 'undefined') {\n          output.sp().text('with').sp().appendInspected(fulfillmentValue);\n        }\n      });\n    }, function (err) {\n      if (err.isOperational && !err.propertyIsEnumerable('isOperational')) {\n        delete err.isOperational;\n      }\n\n      expect.withError(function () {\n        return expect.shift(err);\n      }, function (e) {\n        e.originalError = err;\n        throw e;\n      });\n    });\n  });\n  expect.addAssertion('<function> when rejected <assertion>', function (expect, subject) {\n    expect.errorMode = 'nested';\n\n    for (var _len5 = arguments.length, rest = new Array(_len5 > 2 ? _len5 - 2 : 0), _key5 = 2; _key5 < _len5; _key5++) {\n      rest[_key5 - 2] = arguments[_key5];\n    }\n\n    return expect.apply(void 0, [expect.promise(function () {\n      return subject();\n    }), 'when rejected'].concat(rest));\n  });\n  expect.addAssertion('<Promise> when fulfilled <assertion>', function (expect, subject, nextAssertion) {\n    expect.errorMode = 'nested';\n    return expect.promise(function () {\n      return subject;\n    }).then(function (fulfillmentValue) {\n      return expect.shift(fulfillmentValue);\n    }, function (err) {\n      // typeof nextAssertion === 'string' because expect.it is handled by the above (and shift only supports those two):\n      expect.argsOutput = function (output) {\n        output.error(nextAssertion);\n        var rest = expect.args.slice(1);\n\n        if (rest.length > 0) {\n          output.sp().appendItems(rest, ', ');\n        }\n      };\n\n      expect.fail({\n        output: function output(_output4) {\n          _output4.appendInspected(subject).sp().text('unexpectedly rejected');\n\n          if (typeof err !== 'undefined') {\n            _output4.sp().text('with').sp().appendInspected(err);\n          }\n        },\n        originalError: err\n      });\n    });\n  });\n  expect.addAssertion('<function> when fulfilled <assertion>', function (expect, subject) {\n    expect.errorMode = 'nested';\n\n    for (var _len6 = arguments.length, rest = new Array(_len6 > 2 ? _len6 - 2 : 0), _key6 = 2; _key6 < _len6; _key6++) {\n      rest[_key6 - 2] = arguments[_key6];\n    }\n\n    return expect.apply(void 0, [expect.promise(function () {\n      return subject();\n    }), 'when fulfilled'].concat(rest));\n  });\n  expect.addAssertion('<function> to call the callback', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect.promise(function (run) {\n      var async = false;\n      var calledTwice = false;\n      var callbackArgs;\n\n      function cb() {\n        if (callbackArgs) {\n          calledTwice = true;\n        } else {\n          for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n            args[_key7] = arguments[_key7];\n          }\n\n          callbackArgs = Array.prototype.slice.call(args);\n        }\n\n        if (async) {\n          setTimeout(assert, 0);\n        }\n      }\n\n      var assert = run(function () {\n        if (calledTwice) {\n          expect.fail(function () {\n            this.error('The callback was called twice');\n          });\n        }\n\n        return callbackArgs;\n      });\n      subject(cb);\n      async = true;\n\n      if (callbackArgs) {\n        return assert();\n      }\n    });\n  });\n  expect.addAssertion('<function> to call the callback without error', function (expect, subject) {\n    return expect(subject, 'to call the callback').then(function (callbackArgs) {\n      var err = callbackArgs[0];\n\n      if (err) {\n        expect.errorMode = 'nested';\n        expect.fail({\n          message: function message(output) {\n            output.error('called the callback with: ');\n\n            if (err.getErrorMessage) {\n              output.appendErrorMessage(err);\n            } else {\n              output.appendInspected(err);\n            }\n          }\n        });\n      } else {\n        return callbackArgs.slice(1);\n      }\n    });\n  });\n  expect.addAssertion('<function> to call the callback with error', function (expect, subject) {\n    return expect(subject, 'to call the callback').spread(function (err) {\n      expect(err, 'to be truthy');\n      return err;\n    });\n  });\n  expect.addAssertion('<function> to call the callback with error <any>', function (expect, subject, value) {\n    return expect(subject, 'to call the callback with error').tap(function (err) {\n      expect.errorMode = 'nested';\n      expect(err, 'to satisfy', value);\n    });\n  });\n};","module.exports = require('./Unexpected').create().use(require('./styles')).use(require('./types')).use(require('./assertions')).freeze(); // Add an inspect method to all the promises we return that will make the REPL, console.log, and util.inspect render it nicely in node.js:\n\nrequire('unexpected-bluebird').prototype[require('./nodeJsCustomInspect')] = function () {\n  return module.exports.createOutput(require('magicpen').defaultFormat).appendInspected(this).toString();\n};"],"names":["_arrayWithoutHoles","arr","Array","isArray","i","arr2","length","_iterableToArray","iter","Symbol","iterator","Object","prototype","toString","call","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_typeof2","obj","constructor","_typeof","module","text","this","output","subject","testDescription","args","options","arguments","undefined","preamble","subjectOutput","clone","argsOutput","previousWasAssertion","forEach","arg","index","isAssertion","AssertionString","sp","error","subjectSize","size","argsSize","width","height","Math","max","omitSubject","matchTestDescription","exec","concat","compact","compactSubject","compactWidth","nl","append","preferredWidth","intersection","intersects","x","y","start","end","intersectsWithSome","intervals","interval","some","other","a","b","c","require$$0","Error","currentPartition","sort","byDescStartAndLength","partitions","currentPartitionEnd","Infinity","pop","push","groupPartitions","reduce","result","partition","partitionGroup","apply","canSetPrototype","setPrototypeOf","__proto__","proto","utils","objectIs","is","checkObjectEqualityUsingType","type","isEqual","actualKeys","getKeys","filter","key","valueForKey","expectedKeys","keyComparator","j","duplicateArrayLikeUsingType","keys","numericalKeyLength","numericalPropertiesOnly","nonNumericalKeyLength","numericalRegExp","test","hasKey","ar","isPromise","then","isRegExp","re","isError","err","extend","target","_arguments","_loop","source","findFirst","predicate","leftPad","str","ch","escapeRegExpMetaChars","replace","escapeChar","charCode","charCodeAt","hexChars","toUpperCase","getFunctionName","f","name","matchFunctionName","Function","match","wrapConstructorNameAroundOutput","constructorName","setPrototypeOfOrExtend","prop","hasOwnProperty","uniqueStringsAndSymbols","filterFn","visit","item","uniqueNonNumericalStringsAndSymbols","_len","_key","stringOrSymbol","slice","forwardFlags","testDescriptionString","flags","negate","flag","Boolean","trim","packArrows","changes","moveSourceAndTargetByActualIndex","diffItem","changeIndex","actualIndex","moveIndices","arrowSpecs","abs","moveSourceAndMoveTarget","firstChangeIndex","min","lastChangeIndex","direction","packing","greedyIntervalPacker","shift","_ref","truncateSubjectStringForBegin","value","contextLength","truncationIndex","indexOf","substring","truncateSubjectStringForEnd","lastIndexOf","global","self","window","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","e","runClearTimeout","marker","clearTimeout","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","Item","array","title","platform","browser","env","argv","version","versions","release","config","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","performance","performanceNow","now","mozNow","msNow","oNow","webkitNow","Date","getTime","hrtime","previousTimestamp","clocktime","seconds","floor","nanoseconds","startTime","uptime","calculateOutputEntrySize","outputEntry","style","String","content","calculateSize","calculateLineSize","line","outputEntrySize","lines","lineSize","arrayEquals","escapeRegExp","thisObj","scope","whitespaceCacheLength","whitespaceCache","duplicateText","times","segment","numberOfSegments","cssStyles","bold","dim","italic","underline","inverse","hidden","strikeThrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","styleName","toLowerCase","process","stdout","isTTY","TERM","createPadding","styles","lineContainsBlocks","flattenBlocksInOutputEntry","split","map","flattenBlocksInLines","flattenBlocksInLine","linesLengths","startIndex","blockIndex","blockLines","blockLinesLengths","longestLineLength","blockLine","resultLine","paddingLength","TextSerializer","format","serialize","serializeLine","join","block","raw","theme","count","stack","themeMapping","themeStyles","HtmlSerializer","serializeLines","themeMapper","styleProperties","rgbRegexp","ciede2000","sqrt","pow","cos","atan2","sin","exp","PI","c1","c2","L1","L","a1","b1","L2","a2","b2","C1","C2","a_C1_C2","G","a1p","a2p","C1p","C2p","hp_f","tmphp","degrees","h1p","h2p","dLp","dCp","dhp","dhp_f","dHp","radians","a_L","a_Cp","a_hp","a_hp_f","T","d_ro","RC","SL","SC","SH","RT","n","rgb_to_lab","xyz_to_lab","rgb_to_xyz","R","B","X","Y","Z","map_palette","palette_map_key","idx1","color1","best_color","best_color_diff","idx2","color2","current_color_diff","diff","color_convert","color_diff","color","convert","palette","closest","relative","furthest","modifiers","reset","strikethrough","colors","bgColors","grey","groupName","group","open","close","defineProperty","enumerable","cacheSize","maxColorCacheSize","ansiStyles","AnsiSerializer","colorPalettes","16","#000000","#ff0000","#00ff00","#ffff00","#0000ff","#ff00ff","#00ffff","#ffffff","#808080","256","diffPalettes","convertColorToObject","hexMatch","parseInt","toHexColor","colorObject","hexString","round","substr","firstUp","nextAnsiColorNumber","registerNext256PaletteEntry","r","g","originalStyleName","isBackgroundColor","colorName","color16Hex","colorDiff","closestColor16","color256Hex","closest256ColorIndex","ColoredConsoleSerializer","formatString","styleStrings","entry","builtInStyleNames","MagicPen","indentationWidth","indentationLevel","create","installedPlugins","_themes","serializers","serializerName","hasSameTextStyling","normalizeLine","lastEntry","isRawOutput","defaultFormat","exports","nodeName","navigator","_phantom","mochaPhantomJS","__karma__","captureConsole","newline","require$$1","require$$2","require$$3","require$$4","serializer","write","lastLine","indentLines","indent","space","outdentLines","addStyle","handler","allowRedefinition","_stylesHaveNotBeenClonedYet","lineContent","removeFormatting","getContentFromArguments","isMagicPen","ensureCompatibleFormat","isMultiline","isAtStartOfLine","isBlock","blockOutput","alt","outputProperty","fallback","amend","pen","isEmpty","newOutput","prependLinesWith","textStyle","MagicPenClone","clonedPen","_themesHaveNotBeenClonedYet","parent","installPlugin","use","plugin","existingPlugin","installedPlugin","pluginName","installInto","dependencies","instance","thisAndParents","unfulfilledDependencies","dependency","replaceText","regexp","cb","RegExp","_","outputArray","replacedOutput","m","lastIndex","first","installTheme","formats","that","clonedThemes","themeKey","baseTheme","extendedTheme","charCodeCache","swap","aLen","bLen","bCharCode","ret","tmp","tmp2","isES5","freeze","getDescriptor","getOwnPropertyDescriptor","names","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","descriptor","writable","set","has","ObjectKeys","o","desc","canEvaluate","haveGetters","es5","get","errorObj","tryCatchTarget","tryCatcher","tryCatch","fn","inherits","Child","Parent","hasProp","propertyName","constructor$","charAt","isPrimitive","val","isObject","maybeWrapAsError","maybeError","safeToString","withAppended","appendee","getDataPropertyOrDefault","defaultValue","notEnumerableProp","configurable","thrower","inheritedDataKeys","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","isClass","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","toFastProperties","rident","isIdentifier","filledRange","prefix","suffix","markAsOriginatingFromRejection","ignore","originatesFromRejection","OperationalError","canAttachTrace","ensureErrorObject","classString","copyDescriptors","to","hasDevTools","chrome","loadTimes","isNode","isRecentNode","node","Number","lastLineError","schedule","noAsyncScheduler","util","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","process.nextTick","standalone","div","document","createElement","observe","attributes","classList","toggle","isStatic","arrayMove","src","srcIndex","dst","dstIndex","Queue","capacity","_capacity","_length","_front","_willBeOverCapacity","_pushOne","_checkCapacity","_unshiftOne","unshift","receiver","wrapMask","front","_resizeTo","oldCapacity","firstLineError","Async","_isTickUsed","_lateQueue","_normalQueue","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","_queueTick","AsyncInvoke","AsyncSettlePromises","promise","disableTrampolineIfNecessary","enableTrampoline","haveItemsQueued","throwLater","invokeLater","invoke","settlePromises","_settlePromises","invokeFirst","_drainQueue","_reset","Objectfreeze","_TypeError","_RangeError","subError","nameProperty","defaultMessage","SubError","message","captureStackTrace","Warning","CancellationError","TimeoutError","AggregateError","RangeError","methods","level","cause","errorTypes","RejectionError","Promise","INTERNAL","getThen","context","_then","_fulfillUnchecked","_rejectUncheckedCheckError","_progressUnchecked","_pushContext","reject","_popContext","_captureStackTrace","synchronous","_resolveCallback","reason","_rejectCallback","_progress","doThenable","tryConvertToPromise","apiRejection","PromiseArray","values","_promise","_propagateFrom","_values","_totalResolved","_init","init","resolveValueIfEmpty","_target","_isFulfilled","_isPending","_reject","_reason","_value","__hardReject__","getActualLength","shouldCopyValues","isResolved","_isResolved","maybePromise","_ignoreRejections","_proxyPromiseArray","_promiseFulfilled","_promiseRejected","_resolveEmptyArray","_resolve","toResolutionValue","_fulfill","_promiseProgressed","progressValue","warn","async","bluebirdFramePattern","stackFramePattern","formatStack","indentStackFrames","CapturedTrace","_parent","uncycle","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","formatNonError","JSON","stringify","maxChars","snip","nodes","stackToIndex","cycleEdgeNode","currentChildLength","hasParent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","stacks","trace","current","prev","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","splice","removeDuplicateOrEmptyJumps","reconstructStack","stackFramesAsArray","formatAndLogError","console","log","unhandledRejection","isSupported","fireRejectionEvent","localHandler","localEventFired","globalEventFired","fireGlobalEvent","domEventFired","fireDomEvent","parseLineInfoRegex","parseLineInfo","matches","fileName","setBounds","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","info","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","customEventWorks","anyEventWorks","ev","CustomEvent","event","createEvent","initCustomEvent","dispatchEvent","detail","bubbles","cancelable","toWindowMethodNameMap","methodName","method","stderr","unhandledRejectionHandled","possiblyUnhandledRejection","getDomain","_getDomain","debugging","util$$1","_unsetRejectionIsUnhandled","_bitField","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","_isRejectionUnhandled","_getCarriedStackTrace","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_setCarriedStackTrace","capturedTrace","_fulfillmentHandler0","_isCarryingStackTrace","force","_traceForced","_trace","_peekContext","_attachExtraTrace","ignoreSelf","_warn","warning","ctx","onPossiblyUnhandledRejection","domain","bind","onUnhandledRejectionHandled","longStackTraces","hasLongStackTraces","isDebugging","contextStack","Context","peekContext","NEXT_FILTER","errors","CatchFilter","instances","callback","_instances","_callback","doFilter","safeObject","retfilter","boundTo","_boundValue","itemIsErrorType","shouldHandle","isUntypedError","rErrorKey","PromiseResolver","wrapAsOperationalError","nodebackForPromise","wrapped","$_len","$_i","asCallback","_nodebackForPromise","resolve","fulfill","progress","cancel","toJSON","progressed","_isFollowingOrFulfilledOrRejected","_progressHandlerAt","_progressHandler0","_doProgressWith","progression","_promiseAt","_receiverAt","_resolveFromSyncValue","attempt","rejectThis","targetRejected","promiseRejectionQueued","bindingPromise","bindingResolved","thisArg","bindingRejected","_setBoundTo","_boundTo","_isBound","returnThis","throwThis","promisedFinally","reasonOrValue","isFulfilled","finallyHandler","isRejected","tapHandler","_passThroughHandler","isFinally","promiseAndHandler","lastly","tap","returner","returnUndefined","throwUndefined","wrapper","action","thenReturn","thenThrow","PromiseInspection","_isRejected","isPending","caller","thenCallbacks","callers","Holder","total","p1","p2","p3","p4","p5","checkFulfillment","last","holder","callbacks","spread","PENDING","EMPTY_ARRAY","MappingPromiseArray","promises","limit","_filter","_preservedValues","_limit","_inFlight","_queue","_init$","concurrency","isFinite","preservedValues","booleans","_cancel","isCancellable","promiseToReject","_cancellationParent","_unsetCancellable","cancellable","_cancellable","_setCancellable","uncancellable","fork","didFulfill","didReject","didProgress","createContext","inspectionMapper","inspections","inspection","dispose","resources","defer","thenable","_isDisposable","_getDisposer","_setDisposable","tryDispose","disposerSuccess","disposerFail","Disposer","data","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","resource","doDispose","_unsetDisposable","d","using","disposer","settle","vals","_disposer","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_run","_next","_continue","done","traceParent","promiseFromYieldHandler","_throw","next","coroutine","PromiseSpawn$","generator","spawn","addYieldHandler","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","nodeify","adapter","cr","callerCache","getterCache","getMethodCaller","getGetter","makeMethodCaller","ensureMethod","makeGetter","getCompiled","compiler","cache","namedGetter","indexedGetter","maybeCaller","getter","maybeGetter","PropertiesPromiseArray","props","castValue","keyOffset","raceLater","race","cast","ReductionPromiseArray","accum","_each","_zerothIsAccum","_gotAccum","_reducingIndex","_valuesPhase","rejected","_accum","initialValue","valuesPhaseIndex","isEach","gotAccum","valuesPhase","SettledPromiseArray","_promiseResolved","SomePromiseArray","_howMany","_unwrap","_initialized","howMany","setHowMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","setUnwrap","_addFulfilled","_fulfilled","_addRejected","_rejected","_SomePromiseArray","THIS","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","promisifiableMethods","suffixRegexp","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","escapeIdentRegex","makeNodePromisified","originalName","newParameterCount","argumentOrder","likelyArgumentCount","switchCaseArgumentOrder","shouldProxyThis","generateCallForArgumentCount","argumentCount","comma","parameterCount","getFunctionCode","generateArgumentSwitchCase","defaultThis","promisified","promisifyAll","promisifier","promisify","any","PromiseReduce","each","afterValue","delay","ms","successClear","handle","failureClear","afterTimeout","PromiseMap","makeSelfResolutionError","reflect","msg","APPLY","require$$5","require$$6","require$$7","require$$8","require$$9","resolver","_rejectionHandler0","_promise0","_receiver0","_resolveFromResolver","fillTypes","p","caught","catchInstances","catchFilter","_setIsFinal","all","fulfillmentValue","rejectionReason","fromNode","pending","fulfilled","setScheduler","internalData","haveInternalData","_setIsMigrated","callbackIndex","_addCallbacks","_isSettlePromisesQueued","_settlePromiseAtPostResolution","_settlePromiseAt","_isFollowing","_setLength","_setFulfilled","_setRejected","_setFollowing","_isFinal","_unsetIsMigrated","_isMigrated","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallbacks","follower","base","_setProxyHandlers","promiseSlotValue","promiseArray","shouldBind","propagationFlags","_setFollowee","_rejectUnchecked","shouldNotMarkOriginatingFromRejection","hasStack","_settlePromiseFromHandler","_followee","_cleanValues","carriedStackTrace","_clearCallbackDataAtIndex","_setSettlePromisesQueued","_unsetSettlePromisesQueued","_queueSettlePromises","old","noConflict","bluebird","workQueue","drain","scheduler","useFullStackTrace","location","search","UNEXPECTED_FULL_TRACE","onResolve","onReject","evaluated","_isUnexpected","throwIfNonUnexpectedError","makePromise","body","resolvedValue","runningTasks","outerFunctionHasReturned","fulfillIfDone","noteResolvedValue","oathbreaker","extractPromisesFromObject","staticMethodName","addAdditionalPromiseMethods","expect","and","executeAnd","findTypeOf","defaultDepth","matchDepthParameter","UNEXPECTED_DEPTH","errorMethodBlacklist","UnexpectedError","errorMode","missingOutputMessage","findStackStart","outputFromOptions","createOutput","isUnexpected","buildDiff","createDiff","actual","expected","v","depth","appendInspected","equal","getDefaultErrorMessage","standardErrorMessage","errorWithDiff","comparison","getNestedErrorMessage","getErrorMode","getErrorMessage","getDefaultOrNestedMessage","hasDiff","getDiffMethod","getDiff","getDiffMessage","errorWithBubbleThrough","serializeMessage","outputFormat","_hasSerializedErrorMessage","htmlFormat","htmlMessage","originalError","matchErrorName","stackStart","newStack","indentation","newError","getLabel","currentError","label","getParents","getAllErrors","__defineGetter__","pendingPromisesForTheCurrentTest","afterEachRegistered","currentSpec","isPendingOrHasUnhandledRejection","uncaught","registerAfterEachHook","afterEach","displayName","testPassed","currentTest","state","failedExpectations","fullName","jasmine","getEnv","addReporter","specStarted","spec","specDone","require","inspect","custom","isAssertionArg","lookupAssertionsInParentChain","assertionString","unexpected","assertions","findSuffixAssertions","straightforwardAssertions","tokens","suffixAssertions","wrappedExpectProto","findTypeOfWithParentType","findCommonType","it","getType","withError","fail","_len2","_key2","callInNestedContext","jsFunctionName","subjectType","createStandardErrorMessage","wrapPromiseIfNecessary","wrappedError","execute","assertionIndex","assertionRule","rest","nextArgumentType","_getSubjectType","_getArgTypes","_getAssertionIndices","_assertionIndices","assertionIndices","currentAssertionRule","offset","OUTER","nodeJsCustomInspect","child","anyType","_unexpectedType","identify","_diff","typeEqualityCache","typeOrTypeName","typeName","cachedValue","baseType","Unexpected","typeByName","types","magicpen","inline","_outputFormat","requiredParentType","aAncestorIndex","_wrappedExpectProto","createWrappedExpectProto","OR","getOrGroups","expectations","orGroups","expectation","evaluateGroup","orGroup","_expect","writeGroupEvaluationsToOutput","groupEvaluations","hasOrClauses","hasAndClauses","_ref2","groupEvaluation","jsComment","groupFailed","evaluation","success","createExpectIt","expectIt","evaluations","_ref3","_ref4","every","_ref5","_expectIt","_expectations","_OR","copiedExpectations","or","_len3","_key3","seen","outputOrFormat","printOutput","currentDepth","objType","childDepth","expandTypeAlternations","assertion","subjectRequirement","createPermutations","tails","tail","minimum","maximum","parseAssertion","nextIndex","parseTypeToken","typeToken","typeDeclaration","matchNameAndOperator","SyntaxError","operator","hasVarargs","_ref6","_ref7","$1","$2","_legacyTypelessAssertionWarned","argRequirements","_ref8","lastArgRequirements","assertionRequirements","_ref9","_ref10","placeholderSplitRegexp","placeholderRegexp","compareSpecificities","calculateAssertionSpecificity","_ref11","_ref12","getPluginName","installExpectMethods","_len4","_key4","setErrorMessage","addAssertion","addType","notifyPendingPromise","hook","calculateLimits","items","_ref16","makeExpectFunction","childOutput","placeholderArgs","token","placeholderArg","patternOrPatterns","childUnexpected","_frozen","maxArguments","errorMessage","patterns","pattern","defaultValueByFlag","assertionHandlers","maxNumberOfArgs","_ref13","ensureValidUseOfParenthesesOrBrackets","expandAssertion","_ref14","alternations","previous","_ref15","declaration","specificity","extendedBaseType","extendedType","originalInspect","originalDiff","_this$output","_this$output2","throwAssertionNotFoundError","candidateHandlers","appendItems","_ref17","assertionsWithScore","assertionStrings","score","leven","bestMatch","_ref18","aAssertion","bAssertion","lookupAssertionRule","jsString","requireAssertionSuffix","handlers","instanceHandlers","cachedTypes","assertionType","relaxed","matchesHandler","requireArgumentsLength","lastRequirement","executeExpect","_assertionRule","_assertionRule$unexpe","remainingTokens","argsWithAssertionPrepended","wrappedExpect","_i","argRule","argTypes","recursions","declarations","_ref19","clonedAssertions","childExpect","exportAssertion","exportType","exportStyle","_len5","_key5","splitRegex","permutations","alternation","_ref20","_ref21","permutation","counts","[","]","(",")","Diff","buildValues","components","newString","oldString","useLongestToken","componentPos","componentLen","newPos","oldPos","component","removed","added","oldValue","lastComponent","equals","clonePath","path","castInput","removeEmpty","tokenize","newLen","oldLen","editLength","maxEditLength","bestPath","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","_oldPos","canAdd","canRemove","pushComponent","commonCount","left","right","comparator","ignoreCase","chars","characterDiff","diffChars","oldStr","newStr","generateOptions","defaults","extendedWordChars","reWhitespace","wordDiff","diffWords","ignoreWhitespace","diffWordsWithSpace","lineDiff","diffLines","diffTrimmedLines","retLines","linesAndNewlines","newlineIsToken","sentenceDiff","diffSentences","cssDiff","diffCss","objectPrototypeToString","jsonDiff","diffJson","oldObj","newObj","canonicalize","replacementStack","replacer","canonicalizedObj","sortedKeys","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","k","arrayDiff","diffArrays","oldArr","newArr","parsePatch","uniDiff","diffstr","delimiters","list","parseIndex","header","parseFileHeader","hunks","_line","parseHunk","strict","fileHeader","keyPrefix","chunkHeaderIndex","chunkHeader","hunk","oldStart","oldLines","newStart","newLines","linedelimiters","addCount","removeCount","operation","distanceIterator","minLine","maxLine","wantForward","backwardExhausted","forwardExhausted","localOffset","applyPatch","removeEOFNL","addEOFNL","compareLine","lineNumber","patchContent","errorCount","fuzzFactor","hunkFits","toPos","diffOffset","_hunk","_toPos","delimiter","previousOperation","_k","applyPatches","currentIndex","processIndex","complete","loadFile","updatedContent","patched","structuredPatch","oldFileName","newFileName","oldHeader","newHeader","contextLines","oldRangeStart","newRangeStart","curRange","oldLine","newLine","_curRange","_curRange2","_curRange3","contextSize","oldEOFNewline","newEOFNewline","noNlBeforeAdds","createTwoFilesPatch","createPatch","arrayEqual","arrayStartsWith","calcLineCount","_calcOldNewLineCount","calcOldNewLineCount","merge","mine","theirs","loadPatch","fileNameChanged","selectField","mineIndex","theirsIndex","mineOffset","theirsOffset","mineCurrent","theirsCurrent","hunkBefore","cloneHunk","mergedHunk","mergeLines","param","patch","conflict","check","mineLines","theirOffset","theirLines","their","insertLeading","theirCurrent","_hunk$lines","collectChange","_hunk$lines2","removal","mutualChange","insertTrailing","myChanges","theirChanges","allRemoves","_hunk$lines3","_hunk$lines4","skipRemoveSuperset","_hunk$lines5","_hunk$lines6","collectContext","merged","insert","matchChanges","matchIndex","contextChanges","conflicted","change","removeChanges","delta","changeContent","myCount","theirCount","convertChangesToDMP","convertChangesToXML","escapeHTML","s","jsBoolean","jsNumber","diffAddedLine","diffAddedHighlight","diffAddedSpecialChar","diffRemovedLine","diffRemovedHighlight","diffRemovedSpecialChar","partialMatchHighlight","jsKeyword","jsPrimitive","jsRegexp","jsKey","$0","inspectedValue","isArrayLike","keyOmitted","singleQuotedString","language","fragment","_this","separator","baseStyle","markUpSpecialCharacters","matchTrailingSpace","specialCharRegExp","part","+","-","lastPart","stringDiff","newValue","replaced","oldEndsWithNewline","newEndsWithNewline","stringDiffFragment","endsWithNewline","top","pens","flattenedPens","reverse","maxHeight","blockNumbers","blockOffsets","contentLeft","hasOutputChar","currentLine","currentBlock","changeOutputs","topByChangeNumber","changeOutput","arrows","columnSet","arrow","lookup","revLookup","Arr","Uint8Array","inited","code","toByteArray","b64","l","placeHolders","tripletToBase64","num","encodeChunk","uint8","fromByteArray","extraBytes","parts","len2","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","isNaN","LN2","INSPECT_MAX_BYTES","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","encodingOrOffset","allocUnsafe","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","alloc","fill","encoding","checked","string","isEncoding","byteLength","fromArrayLike","byteOffset","internalIsBuffer","copy","isnan","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64.fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","poolSize","_augment","allocUnsafeSlow","isBuffer","compare","pos","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","hi","lo","base64.toByteArray","isFastBuffer","isSlowBuffer","InsertDiff","RemoveDiff","MoveDiff","strictEqual","before","after","equalFn","beforeLength","afterLength","moves","beforeMarked","afterMarked","beforeIndex","beforeItem","afterIndex","removes","inserts","insertsLength","removesLength","movesLength","remove","move","earlier","outputMoves","later","similar","includeNonNumericalProperties","fallbackToItemByItemDiff","mutatedArray","itemsDiff","aIndex","bIndex","offsetIndex","removedItems","removeIndex","moveFromIndex","insertIndex","expectedIndex","conflicts","nonNumericalKeys","isSeenByNonNumericalKey","getOwnPropertySymbols","symbol","valueExpected","valueActual","numberIsNan","INDENT_RE","getMostUsed","indents","maxUsed","maxWeight","u","w","isIndent","tabs","spaces","amount","repeating","_equal","unwrap","_inspect","prefixOutput","suffixOutput","annotationBlock","shouldEqualError","_inspect2","forceMultipleLines","property","propertyForObject","symbols","aIsSymbol","bIsSymbol","aString","bString","_equal2","own","_inspect3","inspectedItems","propertyDescriptor","hasGetter","hasSetter","propertyOutput","maxLineLength","inspectedItem","itemsOutput","currentLineLength","_diff2","uniqueKeys","valueOutput","annotation","conflicting","isInlineDiff","keyDiff","typeA","aKeys","bKeys","numberOfSimilarKeys","requiredSimilarKeys","getKeysNonNumerical","_equal3","_this2","_inspect4","_this3","multipleLines","diffLimit","_diff3","actualElements","expectedElements","nonNumericalKeysAndSymbols","arrayChanges","indexOfLastNonInsert","previousValue","arrowsAlongsideChangeOutputs","delimiterOutput","valueDiff","_propertyOutput","_equal4","_inspect5","errorName","_diff4","unexpectedErrorMethodBlacklist","date","_inspect6","dateStr","toUTCString","milliseconds","getUTCMilliseconds","millisecondsStr","_inspect7","bodyIndent","matchSource","openingBrace","matchBodyAndIndent","isWrappedInBraces","closingBrace","reindentBodyLevel","matchInitialNewline","detectIndent","_inspect8","orBranch","_inspect9","multiline","regExp","_diff5","digitWidth","hexDumpWidth","hexDump","maxLength","asciiChars","octet","codeStr","_diff6","numBits","intOrUint","Constructor","Buffer.isBuffer","_diff7","MAX_STACK_DEPTH","indexA","indexB","stackDepthRemaining","areEqual","findMatching","newBeforeIndex","newAfterIndex","arrayChangesCallback","isSimilar","currentOffsetIndex","countConflicts","stackCallsRemaining","areSimilar","setEqual","wrapDiffWithTypePrefixAndSuffix","instantiate","ProxyConstructor","not","epsilon","toExponential","className","superset","captures","flushUntilIndex","removedHighlight","subjectKey","expectedPropertyValue","actualPropertyValue","propertyNames","unsupportedPropertyNames","properties","keysInSubject","subjectKeys","hasKeys","only","keyInValue","subjectIsArrayLike","ranges","needle","partial","endIndex","firstUncoveredIndex","partialMatch","isTruncated","outputSubject","finish","threw","_output","appendErrorMessage","_output2","nextArg","keyResults","expectedObject","traverse","unwrappedValue","unwrappedSubject","valueType","valueKeys","convertedSubject","keyPromises","valueKey","thisObject","remainingKeysInSubject","exhaustively","outstandingKeys","toSatisfyMatrix","indexByIndexChanges","failWithChanges","isAsync","subjectElements","valueElements","existingResult","arrayChangesAsync","_index","_propertyOutput2","toSatisfyResult","promiseByKey","forceExhaustivelyComparison","subjectHasKey","valueKeyType","missingArrayIndex","annotationOnNextLine","compareFunction","numerically","_output3","nextAssertion","isOperational","propertyIsEnumerable","_output4","_len6","_key6","callbackArgs","calledTwice","assert","_len7","_key7"],"mappings":"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"}